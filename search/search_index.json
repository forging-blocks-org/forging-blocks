{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"\ud83e\udde9 ForgingBlocks","text":"<p>ForgingBlocks provides a set of small, composable foundational contracts that help you design software with clarity, intent, and expressiveness.</p> <p>It doesn\u2019t enforce any framework, library, or organizational approach.</p> <p>Instead, it gives you a vocabulary and building blocks for shaping ideas in a way that fits your project and your style.</p> <p>ForgingBlocks relies only on standard features available in Python 3.12+ (such as <code>Protocols</code>, <code>Generics</code>, and Type Hints), keeping it lightweight and broadly compatible.</p>"},{"location":"#getting-started","title":"\ud83d\ude80 Getting Started","text":"<p>Install using Poetry, pip or uv:</p> <pre><code>pip install forging-blocks\n# or\npoetry add forging-blocks\n# or\nuv add forging-blocks\n</code></pre> <p>Quick example:</p> <pre><code>from forging_blocks.foundation import Result, Ok, Err\n\ndef divide_quotient_only(dividend: int, divisor: int) -&gt; Result[int, str]:\n    if divisor == 0:\n        return Err(\"Division by zero\")\n\n    quotient = dividend // divisor\n\n    return Ok(quotient)\n</code></pre> <p>Or that operation with a remainder:</p> <pre><code>def divide_with_remainder(dividend: int, divisor: int) -&gt; Result[tuple[int, int], str]:\n    if divisor == 0:\n        return Err(\"Division by zero\")\n\n    quotient = dividend // divisor\n    remainder = dividend % divisor\n\n    return Ok((quotient, remainder))\n</code></pre> <p>\ud83d\udee0\ufe0f How can ForgingBlocks help me?</p> <p>ForgingBlocks helps you keep your project's structure clear, intentional, and easy to reason about.</p> <p>It provides small, composable abstractions that support writing clean, testable, and maintainable Python code \u2014 without tying you to any framework or architectural pattern.</p> <p>Not a framework. Not an architecture. A toolkit for forging your own building blocks.</p> <p>ForgingBlocks doesn't prescribe how your system must be structured. Instead, it works alongside your preferred style and supports practices like:</p> <ul> <li>Making success and failure explicit</li> <li>Creating clear boundaries between components</li> <li>Modeling domain concepts that express intent</li> <li>Keeping core logic independent of infrastructure concerns</li> </ul> <p>You remain in control.</p> <p>You define the guidelines and conventions that fit your project.</p> <p>ForgingBlocks simply provides the building blocks that help you write decoupled, testable, high-quality code \u2014 free from framework lock-in.</p>"},{"location":"#core-concepts","title":"\ud83e\udde0 Core Concepts","text":"Concept Purpose Result / Ok / Err Represents success or failure explicitly. Mapper / ResultMapper Transforms values or Results into another type. Debuggable Protocol ensuring an object exposes a clear, consistent debug representation. Port / InboundPort / OutboundPort Define explicit communication boundaries."},{"location":"#organizational-blocks","title":"\ud83c\udfd7\ufe0f Organizational Blocks","text":"<p>Each block represents a boundary of responsibility.</p> <p>ForgingBlocks provides small abstractions that help you keep these boundaries intentional and easy to understand.</p> <ul> <li>The Foundation block offers the core building blocks reused throughout the system.</li> <li>The Domain block defines the concepts and rules that model your problem space.</li> <li>The Application block expresses use cases and coordinates domain behavior.</li> <li>The Infrastructure block supplies adapters to external systems.</li> <li>The Presentation block handles incoming interactions with your application.</li> </ul> <p>Block vs Layer</p> <p>In ForgingBlocks, the term block is intentionally architecture-neutral. You may interpret a block as a layer if that mental model helps, but this toolkit does not require or enforce any structural pattern.</p>"},{"location":"#why-it-matters","title":"\ud83e\udded Why It Matters","text":"<p>Many systems become difficult to evolve not because of missing features, but due to coupling, implicit assumptions, and unclear responsibilities.</p> <p>ForgingBlocks helps you shape software that is clear, testable, and maintainable by encouraging intentional structure \u2014 block by block.</p>"},{"location":"#learn-more","title":"\ud83d\udcda Learn More","text":"<ul> <li>Getting Started</li> <li>Blocks Overview</li> <li>Organizing Your Project</li> <li>Reference Index</li> </ul>"},{"location":"#project-resources","title":"\ud83d\udccb Project Resources","text":"<ul> <li>Contributing Guide</li> <li>Release Guide</li> </ul>"},{"location":"LICENSE/","title":"License","text":"<p>MIT License</p>"},{"location":"test_mermaid/","title":"My Page with a Diagram","text":"<p>A simple flowchart illustrating a decision process:</p> <pre><code>graph TD\n    A[Start Process] --&gt; B{Is it working?};\n    B --&gt;|Yes| C[Do next step];\n    B --&gt;|No| D[Troubleshoot];\n    C --&gt; E[End];\n    D --&gt; B;</code></pre>"},{"location":"architectural-styles/","title":"Architectural Styles","text":""},{"location":"architectural-styles/#how-to-read-these-pages","title":"How to read these pages","text":"<p>This section explores well-known architectural styles as they appear in the software architecture literature.</p> <p>These pages are not a source of definitions. They are intended to help you relate ForgingBlocks concepts to architectural styles you may already know.</p> <p>You can read any page in isolation. You can also ignore this section entirely.</p>"},{"location":"architectural-styles/#what-these-pages-are","title":"What these pages are","text":"<p>Each page in this section:</p> <ul> <li>Describes a single architectural style.</li> <li>Uses neutral, literature-aligned terminology.</li> <li>Shows how ForgingBlocks concepts can be projected onto that style.</li> </ul> <p>The intent is explanatory, not prescriptive.</p>"},{"location":"architectural-styles/#what-these-pages-are-not","title":"What these pages are not","text":"<p>These pages do not:</p> <ul> <li>Define the meaning of Domain, Application, or Infrastructure.</li> <li>Impose a preferred architecture.</li> <li>Recommend one style over another.</li> </ul> <p>The Reference section remains the source of truth for responsibilities and boundaries.</p>"},{"location":"architectural-styles/#when-this-section-is-useful","title":"When this section is useful","text":"<p>You may find this section helpful if you:</p> <ul> <li>Are familiar with an architectural style and want to map it to ForgingBlocks.</li> <li>Want to compare styles using a shared vocabulary.</li> <li>Are exploring design trade-offs.</li> </ul> <p>If none of those apply, you can safely skip this section.</p>"},{"location":"architectural-styles/clean-architecture/","title":"Clean Architecture","text":"<p>Clean Architecture organizes software around behavioral boundaries and dependency rules that protect core policies from external details.</p> <p>This page shows how ForgingBlocks concepts can be projected onto a Clean Architecture arrangement.</p> <p>Important</p> <p>ForgingBlocks does not enforce Clean Architecture. This page presents it as an interpretation, not a required structure.</p>"},{"location":"architectural-styles/clean-architecture/#conceptual-mapping","title":"Conceptual mapping","text":"<ul> <li>The inner layers contain Domain and Application policies.</li> <li>The outer layers contain delivery mechanisms and technical details.</li> <li>Dependencies always point inward.</li> </ul> <p>The diagram below shows the canonical Clean Architecture view from the literature, independent of ForgingBlocks.</p> <pre><code>---\ntitle: Clean Architecture\n---\ngraph TD\n    Frameworks[Frameworks &amp; Drivers&lt;br/&gt;DB, Web, External APIs] --&gt;|implement| Adapters[Interface Adapters&lt;br/&gt;Controllers, Presenters, Gateways]\n    Adapters --&gt;|execute/handle| Application[Application Business Rules&lt;br/&gt;Use Cases, Handlers]\n    Application --&gt;|coordinate| Domain[Enterprise Business Rules&lt;br/&gt;Entities, Value Objects]</code></pre>"},{"location":"architectural-styles/clean-architecture/#when-this-style-fits","title":"When this style fits","text":"<ul> <li>Long-term maintainability is a priority.</li> <li>Strict separation between policy and details is required.</li> <li>Multiple delivery mechanisms are expected.</li> </ul>"},{"location":"architectural-styles/clean-architecture/#when-to-consider-alternatives","title":"When to consider alternatives","text":"<ul> <li>Simplicity outweighs flexibility.</li> <li>Strict dependency rules add unnecessary overhead.</li> <li>The system is small or short-lived.</li> </ul>"},{"location":"architectural-styles/cqrs/","title":"CQRS","text":"<p>Command Query Responsibility Segregation separates write behavior from read behavior.</p> <p>This page shows how ForgingBlocks concepts can be projected to support a CQRS-style design.</p> <p>Important</p> <p>ForgingBlocks does not require CQRS. This page presents it as an architectural pattern, not a requirement.</p>"},{"location":"architectural-styles/cqrs/#conceptual-mapping","title":"Conceptual mapping","text":"<ul> <li>Commands express intent to change state.</li> <li>Queries retrieve information.</li> <li>Read and write responsibilities are separated.</li> <li>Models may diverge over time.</li> </ul> <p>The diagram below shows a canonical CQRS view from the literature.</p> <pre><code>---\ntitle: CQRS (Command Query Responsibility Segregation)\n---\ngraph LR\n    Client --&gt;|send| CommandHandler[Command Handler]\n    Client --&gt;|fetch| QueryHandler[Query Handler]\n    CommandHandler --&gt;|save| WriteStore[Write Store&lt;br/&gt;Repository]\n    QueryHandler --&gt;|get_by_id/list_all| ReadStore[Read Store&lt;br/&gt;ReadOnlyRepository]\n    WriteStore -.-&gt;|replicate| ReadStore</code></pre>"},{"location":"architectural-styles/cqrs/#when-this-style-fits","title":"When this style fits","text":"<ul> <li>Read and write workloads differ significantly.</li> <li>Scalability concerns dominate.</li> <li>Eventual consistency is acceptable.</li> </ul>"},{"location":"architectural-styles/event-driven/","title":"Event-Driven Architecture","text":"<p>Event-Driven Architecture focuses on reacting to events and propagating facts across system boundaries.</p> <p>This page shows how ForgingBlocks abstractions can participate in an event-driven design.</p> <p>Important</p> <p>ForgingBlocks does not require an event-driven architecture. This page presents it as a pattern, not a mandate.</p>"},{"location":"architectural-styles/event-driven/#conceptual-mapping","title":"Conceptual mapping","text":"<ul> <li>Domain events represent facts that occurred.</li> <li>Event handlers react to those events.</li> <li>Message buses route events between components.</li> <li>Components remain loosely coupled.</li> </ul> <p>The diagram below shows a canonical event-driven flow from the literature.</p> <pre><code>---\ntitle: Event-Driven Architecture\n---\ngraph LR\n    Producer[Producer&lt;br/&gt;Use Case] --&gt;|publish| EventBus[Event Bus&lt;br/&gt;Message Bus]\n    EventBus --&gt;|dispatch| ConsumerA[Consumer A&lt;br/&gt;Event Handler]\n    EventBus --&gt;|dispatch| ConsumerB[Consumer B&lt;br/&gt;Event Handler]</code></pre>"},{"location":"architectural-styles/event-driven/#when-this-style-fits","title":"When this style fits","text":"<ul> <li>Loose coupling is required.</li> <li>Asynchronous processing is desirable.</li> <li>Integration with external systems is frequent.</li> </ul>"},{"location":"architectural-styles/hexagonal-architecture/","title":"Hexagonal Architecture","text":"<p>Hexagonal Architecture, also known as Ports and Adapters, emphasizes separation between core behavior and external systems.</p> <p>This page shows how ForgingBlocks concepts can be projected onto a hexagonal arrangement.</p> <p>Important</p> <p>ForgingBlocks does not enforce Hexagonal Architecture. This page presents it as an interpretation of responsibilities defined in the Reference section.</p>"},{"location":"architectural-styles/hexagonal-architecture/#conceptual-mapping","title":"Conceptual mapping","text":"<ul> <li>The core contains Domain and Application logic.</li> <li>Inbound ports define how behavior is triggered.</li> <li>Outbound ports define required external capabilities.</li> <li>Adapters implement those ports.</li> <li>Dependencies point toward the core.</li> </ul> <p>The diagram below shows a canonical hexagonal view from the literature, independent of ForgingBlocks.</p> <pre><code>---\ntitle: Hexagonal Architecture\n---\ngraph LR\n    InboundAdapters[Inbound Adapters&lt;br/&gt;HTTP, CLI, Events] --&gt;|execute/handle| ApplicationCore[Application Core&lt;br/&gt;Use Cases &amp; Handlers]\n    ApplicationCore --&gt;|dispatch/persist/notify| OutboundAdapters[Outbound Adapters&lt;br/&gt;Repositories, Message Bus]</code></pre>"},{"location":"architectural-styles/hexagonal-architecture/#when-this-style-fits","title":"When this style fits","text":"<ul> <li>External systems change frequently.</li> <li>Testing without infrastructure is important.</li> <li>Inbound and outbound interactions must be isolated.</li> </ul>"},{"location":"architectural-styles/layered-architecture/","title":"Layered Architecture","text":"<p>Layered Architecture organizes software into horizontal layers, each with a distinct responsibility.</p> <p>This page shows how ForgingBlocks concepts can be projected onto a traditional layered arrangement.</p> <p>Important</p> <p>ForgingBlocks does not require a layered architecture. This page presents Layered Architecture as an interpretation of responsibilities defined in the Reference section.</p>"},{"location":"architectural-styles/layered-architecture/#conceptual-mapping","title":"Conceptual mapping","text":"<ul> <li>Presentation handles input and output concerns.</li> <li>Application coordinates behavior.</li> <li>Domain contains problem-space concepts.</li> <li>Infrastructure provides technical implementations.</li> <li>Dependencies typically flow downward.</li> </ul> <p>The diagram below shows a canonical layered view from the literature, independent of ForgingBlocks.</p> <pre><code>---\ntitle: Layered Architecture\n---\ngraph TD\n    Presentation[Presentation&lt;br/&gt;Controllers, CLI] --&gt;|execute| Application[Application&lt;br/&gt;Use Cases]\n    Application --&gt;|coordinate| Domain[Domain&lt;br/&gt;Entities, Aggregates]\n    Application --&gt;|persist via| Infrastructure[Infrastructure&lt;br/&gt;Repositories, Message Bus]</code></pre>"},{"location":"architectural-styles/layered-architecture/#when-this-style-fits","title":"When this style fits","text":"<ul> <li>The system is relatively small.</li> <li>Architectural complexity is not required.</li> <li>Simplicity and familiarity are prioritized.</li> </ul>"},{"location":"architectural-styles/layered-architecture/#when-to-consider-alternatives","title":"When to consider alternatives","text":"<ul> <li>Strict dependency control is required.</li> <li>Inbound and outbound interactions must be isolated.</li> <li>Message-driven or asynchronous workflows are central.</li> </ul>"},{"location":"contributing/","title":"Contributing to ForgingBlocks","text":"<p>Welcome! Thank you for your interest in contributing to ForgingBlocks.</p>"},{"location":"contributing/#quick-start","title":"\ud83d\ude80 Quick Start","text":"<pre><code># 1. Fork and clone the repository\ngit clone https://github.com/forging-blocks-org/forging-blocks.git\ncd forging-blocks\n\n# 2. Install dependencies\npoetry install\n\n# 3. Run tests to verify setup\npoetry run poe test\n</code></pre>"},{"location":"contributing/#contributing-guides","title":"\ud83d\udcda Contributing Guides","text":""},{"location":"contributing/#contribution-guide","title":"\ud83d\udccb Contribution Guide","text":"<p>Start here for complete setup and workflow - Development environment setup - Code contribution process - Pull request guidelines - Available development commands</p>"},{"location":"contributing/#documentation-conventions","title":"\ud83d\udcd6 Documentation Conventions","text":"<p>For documentation contributors - Writing style and tone guidelines - Documentation structure rules - Consistency requirements</p>"},{"location":"contributing/#release-guide","title":"\ud83d\ude80 Release Guide","text":"<p>For maintainers - How to prepare releases using poe tasks - Automated PR-based release workflow - Publishing to PyPI and docs deployment</p>"},{"location":"contributing/#contributing-philosophy","title":"\ud83e\udd1d Contributing Philosophy","text":"<p>ForgingBlocks values: - Quality over quantity - Well-thought-out, focused contributions - Clarity over cleverness - Code and documentation should be easy to understand - Explicit over implicit - Make intentions and behaviors clear - Consistency over convenience - Follow established patterns</p>"},{"location":"contributing/#need-help","title":"\u2753 Need Help?","text":"<ul> <li>New to the project? Start with the Contribution Guide</li> <li>Documentation questions? See Documentation Conventions</li> <li>Release questions? Check the Release Guide</li> <li>Still stuck? Open an issue for discussion</li> </ul> <p>Ready to contribute? Check out the full contribution guide to get started!</p>"},{"location":"contributing/contributing/","title":"Contributing to ForgingBlocks","text":"<p>Thank you for your interest in contributing to ForgingBlocks.</p> <p>This document explains how to participate in the project and where to find the rules that apply once you start contributing.</p> <p>You do not need to read everything before opening a pull request. This guide is meant to help you orient yourself.</p>"},{"location":"contributing/contributing/#what-you-can-contribute","title":"What you can contribute","text":"<p>Contributions are welcome in several forms, including:</p> <ul> <li>Bug fixes and improvements</li> <li>Documentation clarifications and examples</li> <li>New abstractions that align with the existing design</li> <li>Tooling, automation, and developer experience improvements</li> </ul> <p>If you are unsure whether an idea fits, opening an issue for discussion is encouraged.</p>"},{"location":"contributing/contributing/#how-the-project-is-structured","title":"How the project is structured","text":"<p>ForgingBlocks is organized around explicit responsibility boundaries.</p> <p>The documentation mirrors this structure:</p> <ul> <li>The Guide explains how to read and use the toolkit.</li> <li>The Reference defines responsibilities and terminology.</li> <li>Architectural Styles show optional interpretations.</li> <li>Examples demonstrate usage without prescribing structure.</li> </ul> <p>Understanding this separation will make contributing easier.</p>"},{"location":"contributing/contributing/#documentation-contributions","title":"Documentation contributions","text":"<p>Documentation is a first-class concern in this project.</p> <p>If you plan to modify or add documentation, please read:</p> <ul> <li>Docs Conventions <code>docs/contributing/docs_conventions.md</code></li> </ul> <p>That document defines the rules and expectations for documentation changes.</p>"},{"location":"contributing/contributing/#code-contributions","title":"Code contributions","text":"<p>When contributing code:</p> <ul> <li>Prefer clarity over cleverness.</li> <li>Keep responsibilities explicit.</li> <li>Avoid introducing architectural enforcement.</li> <li>Add tests where behavior is non-trivial.</li> </ul> <p>If a change affects public behavior, documentation updates are expected.</p>"},{"location":"contributing/contributing/#getting-started","title":"Getting started","text":""},{"location":"contributing/contributing/#development-setup","title":"Development Setup","text":"<ol> <li>Fork the repository</li> <li>Clone your fork: <code>git clone https://github.com/&lt;username&gt;/forging-blocks.git</code></li> <li>Install dependencies: <code>poetry install</code></li> <li>Set up pre-commit hooks: <code>pre-commit install</code></li> </ol>"},{"location":"contributing/contributing/#making-changes","title":"Making Changes","text":"<ol> <li>Create a feature branch: <code>git checkout -b feature/your-feature</code></li> <li>Make your changes</li> <li>Add tests for new functionality (see Testing Guidelines)</li> <li>Run the full test suite: <pre><code>poetry run poe ci:check\n</code></pre></li> <li>Submit a pull request with a clear, concise description</li> </ol> <p>Small, focused pull requests are easier to review.</p>"},{"location":"contributing/contributing/#testing-guidelines","title":"Testing Guidelines","text":"<p>This project uses a 3-tier testing architecture:</p> <ul> <li>Unit Tests (<code>@pytest.mark.unit</code>) - Fast, isolated tests with mocks for business logic</li> <li>Integration Tests (<code>@pytest.mark.integration</code>) - Real infrastructure in isolated environments</li> <li>End-to-End Tests (<code>@pytest.mark.e2e</code>) - Complete workflows (typically skipped)</li> </ul> <p>During development: <pre><code># Fast feedback loop - run frequently\npoetry run poe test:unit\n\n# Before committing - verify all stable tests pass\npoetry run poe test\n</code></pre></p> <p>When adding new functionality: - Add unit tests for domain logic and business rules - Add integration tests for external system interactions - Use mocks appropriately at architectural boundaries - Follow the naming pattern: <code>test_when_condition_then_outcome</code></p> <p>See the Testing Guide for detailed examples.</p>"},{"location":"contributing/contributing/#available-development-commands","title":"Available Development Commands","text":"<pre><code># Testing - Primary Commands\npoetry run poe test              # Run ALL tests (stable + conditional)\npoetry run poe test:unit         # Run unit tests only (fast feedback)\npoetry run poe test:integration  # Run integration tests only\n\n# Testing - Extended Commands\npoetry run poe test:e2e          # Run end-to-end tests only\npoetry run poe test:debug        # Run tests with verbose output\n\n# Code quality\npoetry run poe lint              # Check code style\npoetry run poe lint:fix          # Fix code style issues\npoetry run poe type              # Type checking\npoetry run poe bandit            # Security scanning\n\n# CI simulation\npoetry run poe ci:check          # Run full CI suite\npoetry run poe ci:simulate       # Include documentation build\n\n# Documentation\npoetry run poe docs:build        # Build documentation\npoetry run poe docs:generate     # Generate API reference\n</code></pre>"},{"location":"contributing/contributing/#release-process-maintainers-only","title":"Release Process (Maintainers Only)","text":"<p>For maintainers preparing releases, see detailed instructions in Release Guide:</p> <pre><code># Prepare release (simulation)\npoetry run poe release patch\n\n# Execute release (creates branch and PR)\npoetry run poe release patch --execute\n</code></pre>"},{"location":"contributing/contributing/#in-short","title":"In short","text":"<ul> <li>This file explains how to contribute.</li> <li>Other documents explain how things should be written or structured.</li> <li>When in doubt, ask questions early.</li> </ul> <p>Contributions are welcome as long as they respect the project\u2019s emphasis on clarity, boundaries, and intentional design.</p>"},{"location":"contributing/docs-conventions/","title":"Documentation Conventions","text":""},{"location":"contributing/docs-conventions/#who-this-document-is-for","title":"Who this document is for","text":"<p>This document is for contributors who are writing or modifying documentation in the ForgingBlocks repository.</p> <p>It defines the conventions used across the documentation. These rules are intentional and should be followed consistently.</p>"},{"location":"contributing/docs-conventions/#general-principles","title":"General principles","text":"<p>Documentation favors:</p> <ul> <li>Explicit behavior over implied behavior.</li> <li>Clear responsibility boundaries.</li> <li>Neutral, non-prescriptive language.</li> <li>Consistency across sections and pages.</li> </ul> <p>The goal is to help readers reason, not to persuade them.</p>"},{"location":"contributing/docs-conventions/#tone-and-language","title":"Tone and language","text":"<ul> <li>Use a professional, calm, and teachable tone.</li> <li>Avoid marketing language.</li> <li>Avoid enforcing architectural choices.</li> <li>Prefer \u201ccan\u201d and \u201cmay\u201d over \u201cshould\u201d and \u201cmust\u201d unless stating a rule.</li> </ul> <p>Documentation should explain why something exists before explaining how.</p>"},{"location":"contributing/docs-conventions/#structure-and-formatting","title":"Structure and formatting","text":"<ul> <li>Headings should describe responsibility or intent.</li> <li>Bullet points must:</li> <li>Start with an uppercase letter.</li> <li>Contain exactly one sentence.</li> <li>End with a period.</li> <li>Do not break lines unless a sentence ends.</li> </ul> <p>Consistency matters more than individual style preferences.</p>"},{"location":"contributing/docs-conventions/#diagrams","title":"Diagrams","text":"<ul> <li>Diagrams are explanatory, not prescriptive.</li> <li>Diagrams must not be the last content in a document.</li> <li>Inline SVG is not allowed in Markdown.</li> <li>SVG diagrams must be stored as assets and referenced as images.</li> </ul> <p>Diagrams should clarify relationships, not introduce new rules.</p>"},{"location":"contributing/docs-conventions/#sections-and-responsibilities","title":"Sections and responsibilities","text":"<ul> <li>Guide pages are teachable and narrative.</li> <li>Reference pages are precise and definition-oriented.</li> <li>Architectural Styles pages are interpretive and optional.</li> <li>Examples demonstrate usage without enforcing structure.</li> </ul> <p>Do not blur these responsibilities.</p>"},{"location":"contributing/docs-conventions/#when-changing-existing-documentation","title":"When changing existing documentation","text":"<p>When modifying documentation:</p> <ul> <li>Preserve the original intent.</li> <li>Avoid introducing new terminology casually.</li> <li>Update related sections if behavior or meaning changes.</li> <li>Prefer small, focused edits.</li> </ul> <p>If a change requires explanation, add context explicitly.</p>"},{"location":"contributing/docs-conventions/#in-short","title":"In short","text":"<ul> <li>These conventions are deliberate.</li> <li>Consistency is more important than creativity.</li> <li>When in doubt, match existing documentation.</li> </ul> <p>This document acts as a shared contract between contributors.</p>"},{"location":"contributing/release-guide/","title":"Release Guide","text":"<p>This document explains how releases work in ForgingBlocks, why the process is designed this way, and how contributors should perform a release safely and correctly.</p> <p>The goal is to make releases:</p> <ul> <li>predictable</li> <li>auditable</li> <li>reproducible</li> <li>fully automated</li> </ul> <p>Important principle</p> <p>Contributors prepare releases locally, create PRs for review, and all publishing happens automatically in GitHub Actions. When the release PR is merged into <code>main</code> it will triggers the package publishing and docs deploy.</p>"},{"location":"contributing/release-guide/#tldr-quick-release","title":"TL;DR \u2013 Quick Release","text":"<pre><code># 1. Validate everything is ready\ngit checkout main &amp;&amp; git pull origin main\n\n# 2. Test the release first (simulation)\npoetry run poe release patch\n\n# 3. Execute when ready\npoetry run poe release patch --execute\n\n# 4. Review and merge the created PR\n# 5. GitHub Actions handles the rest automatically\n</code></pre> <p>\ud83d\udca1 Always simulate first: Run without <code>--execute</code> to validate before creating the release PR.</p>"},{"location":"contributing/release-guide/#how-to-release","title":"How to Release","text":""},{"location":"contributing/release-guide/#prerequisites","title":"Prerequisites","text":"<p>Before releasing, ensure:</p> <ul> <li>[ ] All intended changes are merged into <code>main</code></li> <li>[ ] CI is green on <code>main</code></li> <li>[ ] Working tree is clean</li> <li>[ ] You're on the <code>main</code> branch and synced with origin</li> </ul>"},{"location":"contributing/release-guide/#release-commands","title":"Release Commands","text":"<p>The release process uses poe tasks with the <code>--execute</code> flag:</p> <pre><code># Always start with simulation (safe, no changes)\npoetry run poe release patch       # 0.3.6 \u2192 0.3.7 (simulation)\npoetry run poe release minor       # 0.3.6 \u2192 0.4.0 (simulation)  \npoetry run poe release major       # 0.3.6 \u2192 1.0.0 (simulation)\n\n# Execute when ready (creates branch and PR)\npoetry run poe release patch --execute    # Actually performs the release\npoetry run poe release minor --execute    # Actually performs the release  \npoetry run poe release major --execute    # Actually performs the release\n</code></pre>"},{"location":"contributing/release-guide/#what-happens-locally","title":"What Happens Locally","text":"<p>When you run <code>poetry run poe release patch --execute</code>, the tooling automatically:</p> <ol> <li>Validates repository state (clean, on main, synced)</li> <li>Bumps version in pyproject.toml</li> <li>Generates changelog from commit messages</li> <li>Creates release branch (<code>release/vX.Y.Z</code>)</li> <li>Commits changes to the release branch</li> <li>Opens Pull Request for code review</li> </ol>"},{"location":"contributing/release-guide/#what-happens-after-merge","title":"What Happens After Merge","text":"<p>When the release PR is merged into <code>main</code>, GitHub Actions automatically:</p> <ol> <li>Creates and pushes tag (from branch name <code>release/vX.Y.Z</code>)</li> <li>Builds and publishes package to PyPI</li> <li>Deploys documentation to GitHub Pages</li> <li>Creates GitHub Release with changelog</li> </ol> <p>\ud83d\udd12 Important: Publishing only happens after PR merge. If the PR is rejected, nothing gets released.</p>"},{"location":"contributing/release-guide/#mental-model-read-this-first","title":"Mental Model (Read This First)","text":"<p>ForgingBlocks follows a local-preparation + automated-publishing model:</p> <ul> <li>Local tooling (<code>poetry run poe release patch</code>) automatically:</li> <li>validates the release</li> <li>bumps the version</li> <li>generates the changelog</li> <li>creates the release branch</li> <li>commits changes</li> <li>opens a Pull Request</li> <li>GitHub Actions automatically:</li> <li>creates and pushes tags (from branch name)</li> <li>validates the release candidate</li> <li>builds the package</li> <li>publishes to PyPI</li> <li>deploys versioned documentation</li> </ul> <p>Publishing only happens after the release PR is merged.</p>"},{"location":"contributing/release-guide/#why-this-flow-design","title":"Why This Flow Design?","text":"<p>Local preparation ensures quality: - Contributors validate everything before creating PRs - Simulation mode allows safe testing - All changes are reviewed before publishing</p> <p>GitHub Actions handles publishing: - Fully automated after PR merge - No local credentials needed - Clear audit trail through GitHub Actions logs</p> <p>This separation ensures that: \u2705 No releases without code review \u2705 No local environment dependencies for publishing \u2705 Clear audit trail for all releases \u2705 Consistent tagging from branch names</p>"},{"location":"contributing/release-guide/#commit-convention-required","title":"Commit Convention (Required)","text":"<p>Automatic changelog generation relies on commit messages following this format:</p> <pre><code>type(scope?): description\n</code></pre> <p>Valid <code>type</code> values:</p> <ul> <li>feat</li> <li>fix</li> <li>docs</li> <li>refactor</li> <li>perf</li> <li>test</li> <li>chore</li> <li>breaking</li> </ul> <p>Examples:</p> <pre><code>feat(domain): add Result.map_error\nfix(application): handle empty payload\ndocs: clarify release process\nbreaking(api): remove legacy notifier\n</code></pre> <p>Commits that do not follow this convention will not appear in the changelog.</p>"},{"location":"contributing/release-guide/#when-to-release","title":"When to Release","text":"<p>Use the release tooling when:</p> <ul> <li>Feature complete: All intended changes are merged into <code>main</code></li> <li>Quality verified: CI is green and tests pass</li> <li>Ready for users: The version increment reflects the changes (patch/minor/major)</li> </ul> <p>Don't release if: - CI is failing on <code>main</code> - You have uncommitted changes - You're not on the <code>main</code> branch</p> <p>The release tooling enforces these prerequisites automatically.</p>"},{"location":"contributing/release-guide/#release-tooling","title":"Release Tooling","text":"<p>Release automation is implemented as a Python module that contributors access via poe tasks:</p> <pre><code># Test release preparation (safe simulation)\npoetry run poe release patch       # Simulates patch release\n\n# Execute release (creates branch and PR)\npoetry run poe release patch --execute     # Actually performs the release\npoetry run poe release minor --execute     # Minor release\npoetry run poe release major --execute     # Major release\n</code></pre> <p>The tooling handles version bumping, changelog generation, branch creation, and PR opening automatically.</p>"},{"location":"contributing/release-guide/#publishing-in-github-actions","title":"Publishing in GitHub Actions","text":"<p>When the release Pull Request is merged into <code>main</code>, GitHub Actions automatically:</p> <ol> <li>Creates and pushes the git tag (extracted from release branch name)</li> <li>Validates the release candidate (runs CI checks and builds)</li> <li>Publishes the package to PyPI (using poetry publish)</li> <li>Deploys documentation to GitHub Pages (updates latest docs)</li> </ol>"},{"location":"contributing/release-guide/#release-flow-diagram","title":"Release Flow Diagram","text":"<pre><code>flowchart TD\n    A[Developer on main] --&gt; B[poetry run poe release patch]\n    B --&gt; C[Simulation: validates and shows what would happen]\n    C --&gt; D[poetry run poe release patch --execute]\n    D --&gt; E[Version bump in pyproject.toml]\n    E --&gt; F[Generate CHANGELOG.md from commits]\n    F --&gt; G[Create release/vX.Y.Z branch]\n    G --&gt; H[Commit changes]\n    H --&gt; I[Open release PR]\n    I --&gt; J[PR reviewed]\n    J --&gt; K[PR merged into main]\n    K --&gt; L[GitHub Actions]\n    L --&gt; M[Create &amp; push git tag]\n    L --&gt; N[Publish to PyPI]\n    L --&gt; O[Deploy docs]\n    L --&gt; P[Create GitHub Release]</code></pre>"},{"location":"contributing/release-guide/#release-commands-reference","title":"Release Commands Reference","text":""},{"location":"contributing/release-guide/#available-commands","title":"Available Commands","text":"<pre><code># Simulation mode (safe, no changes)\npoetry run poe release patch    # 0.3.6 \u2192 0.3.7\npoetry run poe release minor    # 0.3.6 \u2192 0.4.0\npoetry run poe release major    # 0.3.6 \u2192 1.0.0\n\n# Execution mode (creates branch, tag, and PR)\npoetry run poe release patch --execute    # 0.3.6 \u2192 0.3.7\npoetry run poe release minor --execute    # 0.3.6 \u2192 0.4.0\npoetry run poe release major --execute    # 0.3.6 \u2192 1.0.0\n</code></pre>"},{"location":"contributing/release-guide/#command-behavior","title":"Command Behavior","text":"Mode Creates Branch Creates Tag Opens PR Safe to Run Simulation (default) \u274c \u274c \u274c \u2705 Always safe Execute (<code>--execute</code>) \u2705 \u2705 \u2705 \u26a0\ufe0f Only when ready <p>\ud83d\udd12 Safety First: Always run simulation mode first to validate the release.</p>"},{"location":"contributing/release-guide/#maintainer-checklist","title":"Maintainer Checklist","text":"<ul> <li>[ ] Run <code>poetry run poe release patch</code> (test simulation)</li> <li>[ ] Run <code>poetry run poe release patch --execute</code> (execute release)</li> <li>[ ] Review and merge the PR</li> <li>[ ] Verify PyPI, docs, and GitHub Release</li> </ul>"},{"location":"contributing/release-guide/#summary","title":"Summary","text":"<p>Prepare \u2192 Review \u2192 Merge \u2192 GitHub Actions publishes.</p>"},{"location":"guide/","title":"Guide","text":""},{"location":"guide/#how-to-read-the-documentation","title":"How to read the documentation","text":"<p>This documentation is organized to help you build a clear mental model of ForgingBlocks before diving into details.</p> <p>You do not need to read everything, and you do not need to follow a strict order. Each section is designed to stand on its own.</p> <p>You can use all of them or only some of them.</p>"},{"location":"guide/#a-mental-model-first","title":"A mental model first","text":"<p>ForgingBlocks is built around a small set of responsibility boundaries.</p> <p>Rather than prescribing a single architecture, the toolkit focuses on: - Making responsibilities explicit. - Keeping dependencies intentional. - Supporting designs that are easy to test and evolve.</p> <p>The documentation reflects this idea.</p> <p>Some pages explain what the building blocks are. Others show how they can be composed. A few pages explore how common architectural styles relate to these ideas.</p>"},{"location":"guide/#documentation-map","title":"Documentation map","text":"<p>The diagram below shows how the main sections of the documentation relate to each other. It is meant as an orientation aid, not as a workflow.</p> <pre><code>flowchart LR\n    G[Guide&lt;br/&gt;How to use and understand the toolkit]\n    R[Reference&lt;br/&gt;Definitions and responsibilities]\n    E[Examples&lt;br/&gt;Concrete usage scenarios]\n    A[Architectural Styles&lt;br/&gt;Interpretations and projections]\n\n    G --&gt; R\n    G --&gt; E\n    G --&gt; A\n    E --&gt; R\n    A --&gt; R</code></pre>"},{"location":"guide/#suggested-learning-paths","title":"Suggested learning paths","text":"<p>There is no required order. If you prefer a guided path, the following sequences work well.</p>"},{"location":"guide/#minimal-path","title":"Minimal path","text":"<ol> <li>Getting Started \u2013 A small, complete example introducing the core ideas.</li> <li>Testing \u2013 How clear boundaries lead to testable designs.</li> <li>Examples \u2013 Focused usage scenarios you can explore independently.</li> </ol>"},{"location":"guide/#deeper-understanding","title":"Deeper understanding","text":"<ol> <li>Principles \u2013 The design values and mindset behind the toolkit.</li> <li>Recommended Blocks Structure \u2013 Guidance for organizing larger systems.</li> <li>Example Tests \u2013 More complete test-oriented examples.</li> <li>Release Guide \u2013 Notes on packaging and releasing projects.</li> </ol> <p>These paths are suggestions only. You can move freely between sections.</p>"},{"location":"guide/#about-the-reference-section","title":"About the Reference section","text":"<p>The Reference section defines the meaning and responsibility of each block: Domain, Application, Infrastructure, Presentation, and Foundation.</p> <p>These pages are intentionally precise and definition-oriented. They are meant to be consulted as needed, not necessarily read linearly.</p> <p>When terminology matters, the Reference section is the source of truth.</p>"},{"location":"guide/#about-architectural-styles","title":"About Architectural Styles","text":"<p>The Architectural Styles section describes how well-known styles\u2014such as Clean Architecture, Hexagonal Architecture, CQRS, or Event-Driven Architecture\u2014can be interpreted using ForgingBlocks concepts.</p> <p>These pages are:</p> <ul> <li>Optional.</li> <li>Non-prescriptive.</li> <li>Independent from the core toolkit.</li> </ul> <p>You do not need to adopt any architectural style to use ForgingBlocks successfully.</p> <p>They are provided as learning aids, not as requirements.</p>"},{"location":"guide/#in-short","title":"In short","text":"<ul> <li>Start where it feels useful.</li> <li>Treat examples as guidance, not templates.</li> <li>Use the Reference when you need clarity.</li> <li>Explore Architectural Styles only if they help your understanding.</li> </ul> <p>The goal of this documentation is not to tell you what architecture to use, but to help you make intentional design decisions.</p>"},{"location":"guide/architecture-overview/","title":"ForgingBlocks \u2014 Simplified Architecture Overview","text":"<p>This document provides a clear, layered explanation of how applications built with ForgingBlocks are typically structured. It replaces the previous all-in-one diagram with three focused diagrams, each capturing a single conceptual dimension.</p>"},{"location":"guide/architecture-overview/#1-high-level-architectural-layers","title":"1. High-Level Architectural Layers","text":"<p>A macro overview showing how requests flow through the system.</p> <pre><code>flowchart LR\n    P[Presentation Layer&lt;br/&gt;Controllers \u2022 Handlers \u2022 UI] --&gt; A[Application Layer&lt;br/&gt;Use Cases \u2022 Application Services]\n    A --&gt; D[Domain Layer&lt;br/&gt;Aggregates \u2022 Entities \u2022 Value Objects \u2022 Events]\n    A --&gt; OP[Outbound Ports]\n    IP[Inbound Ports] --&gt; A\n    OP --&gt; I[Infrastructure Layer&lt;br/&gt;Adapters \u2022 Implementations]</code></pre>"},{"location":"guide/architecture-overview/#responsibilities","title":"Responsibilities","text":"Layer Responsibility Presentation Receives input, validates format, invokes use cases. Application Orchestrates workflows, uses the domain, defines ports. Domain Pure business rules and invariants. Infrastructure External concerns (DB, APIs, files, messaging)."},{"location":"guide/architecture-overview/#2-domain-composition","title":"2. Domain Composition","text":"<p>A focused view of the internal structure of the domain model.</p> <pre><code>flowchart TB\n    AG[Aggregate] --&gt; ENT[Entities]\n    ENT --&gt; VO[Value Objects]\n    AG --&gt; EVT[Events]</code></pre>"},{"location":"guide/architecture-overview/#notes","title":"Notes","text":"<ul> <li>Aggregates enforce invariants.</li> <li>Entities hold identity and mutable state.</li> <li>Value Objects represent immutable validated concepts.</li> <li>Events capture domain changes.</li> </ul>"},{"location":"guide/architecture-overview/#3-ports-adapters-hexagonal-view","title":"3. Ports &amp; Adapters (Hexagonal View)","text":"<p>Shows how the application communicates with the outside world.</p> <pre><code>flowchart LR\n    P[Presentation] --&gt; IP[Inbound Port]\n    IP --&gt; S[Application Service]\n    S --&gt; OP[Outbound Port]\n    OP --&gt; ADP[Infrastructure Adapter]</code></pre>"},{"location":"guide/architecture-overview/#key-principles","title":"Key Principles","text":"<ul> <li>Presentation does not call Infrastructure directly.</li> <li>Application owns and defines ports.</li> <li>Infrastructure implements outbound ports.</li> <li>Dependencies always point inward toward the core.</li> </ul>"},{"location":"guide/architecture-overview/#4-summary","title":"4. Summary","text":"<p>These three diagrams together provide a cohesive view of how ForgingBlocks applications are structured:</p> <ul> <li>Layers Diagram \u2192 overall system flow</li> <li>Domain Composition Diagram \u2192 internal domain structure</li> <li>Ports &amp; Adapters Diagram \u2192 boundary interactions</li> </ul> <p>This separation reduces cognitive load and clarifies the responsibilities of each part of the system.</p>"},{"location":"guide/architecture-overview/#5-minimal-tldr-diagram","title":"5. Minimal TL;DR Diagram","text":"<pre><code>flowchart LR\n    P --&gt; A --&gt; D\n    A --&gt; Ports\n    Ports --&gt; Infra</code></pre>"},{"location":"guide/example_tests/","title":"Example Tests","text":""},{"location":"guide/example_tests/#putting-testing-ideas-into-practice","title":"Putting testing ideas into practice","text":"<p>This page shows larger, more realistic examples that build on the concepts introduced in the Testing guide.</p> <p>The focus here is on observable behavior, not on testing the toolkit itself.</p>"},{"location":"guide/example_tests/#1-composing-behavior-with-result","title":"1. Composing behavior with Result","text":"<pre><code>from forging_blocks.foundation import Result, Ok, Err\n\n\ndef parse_int(value: str) -&gt; Result[int, str]:\n    try:\n        return Ok(int(value))\n    except ValueError:\n        return Err(f\"invalid integer: {value!r}\")\n\n\ndef reciprocal(value: int) -&gt; Result[float, str]:\n    if value == 0:\n        return Err(\"division by zero\")\n    return Ok(1 / value)\n\n\ndef parse_reciprocal(raw: str) -&gt; Result[float, str]:\n    result = parse_int(raw)\n\n    if result.is_err:\n        return result\n\n    match result:\n        case Ok(value):\n            return reciprocal(value)\n</code></pre>"},{"location":"guide/example_tests/#tests","title":"Tests","text":"<pre><code>from your_module import parse_reciprocal\n\n\ndef test_parse_reciprocal_when_valid_input_then_succeeds() -&gt; None:\n    result = parse_reciprocal(\"4\")\n\n    assert result.is_ok\n\n\ndef test_parse_reciprocal_when_invalid_input_then_fails() -&gt; None:\n    result = parse_reciprocal(\"foo\")\n\n    assert result.is_err\n\n\ndef test_parse_reciprocal_when_zero_then_fails() -&gt; None:\n    result = parse_reciprocal(\"0\")\n\n    assert result.is_err\n</code></pre>"},{"location":"guide/example_tests/#2-testing-a-simple-use-case","title":"2. Testing a simple use case","text":"<pre><code>from dataclasses import dataclass\n\nfrom forging_blocks.application import UseCase\nfrom forging_blocks.foundation import Result, Err\n\n\n@dataclass\nclass CreateTaskInput:\n    title: str\n\n\nclass TaskRepository:\n    def save(self, title: str) -&gt; Result[int, str]:\n        ...\n\n\nclass CreateTaskUseCase(UseCase):\n    def execute(self, data: CreateTaskInput) -&gt; Result[int, str]:\n        ...\n\n\nclass CreateTaskService(CreateTaskUseCase):\n    def __init__(self, repo: TaskRepository) -&gt; None:\n        self._repo = repo\n\n    def execute(self, data: CreateTaskInput) -&gt; Result[int, str]:\n        if not data.title.strip():\n            return Err(\"title required\")\n\n        return self._repo.save(data.title)\n</code></pre>"},{"location":"guide/example_tests/#fake-repository","title":"Fake repository","text":"<pre><code>from forging_blocks.foundation import Result, Ok\n\n\nclass InMemoryTaskRepository:\n    def __init__(self) -&gt; None:\n        self.tasks: dict[int, str] = {}\n        self._next_id = 1\n\n    def save(self, title: str) -&gt; Result[int, str]:\n        for task_id, existing in self.tasks.items():\n            if existing == title:\n                return Ok(task_id)\n\n        task_id = self._next_id\n        self._next_id += 1\n        self.tasks[task_id] = title\n        return Ok(task_id)\n</code></pre>"},{"location":"guide/example_tests/#tests_1","title":"Tests","text":"<pre><code>from your_module import CreateTaskService, CreateTaskInput, InMemoryTaskRepository\n\n\ndef test_create_task_when_valid_title_then_succeeds() -&gt; None:\n    repo = InMemoryTaskRepository()\n    service = CreateTaskService(repo)\n\n    result = service.execute(CreateTaskInput(title=\"Write docs\"))\n\n    assert result.is_ok\n    assert len(repo.tasks) == 1\n\n\ndef test_create_task_when_duplicate_title_then_reuses_task() -&gt; None:\n    repo = InMemoryTaskRepository()\n    service = CreateTaskService(repo)\n\n    first = service.execute(CreateTaskInput(title=\"Write docs\"))\n    second = service.execute(CreateTaskInput(title=\"Write docs\"))\n\n    assert first.is_ok\n    assert second.is_ok\n    assert len(repo.tasks) == 1\n\n\ndef test_create_task_when_missing_title_then_fails() -&gt; None:\n    repo = InMemoryTaskRepository()\n    service = CreateTaskService(repo)\n\n    result = service.execute(CreateTaskInput(title=\" \"))\n\n    assert result.is_err\n</code></pre>"},{"location":"guide/example_tests/#key-takeaway","title":"Key takeaway","text":"<p>Tests should describe what happened, not how the toolkit represents it.</p> <p>Use pattern matching when you need data. Otherwise, assert success or failure and move on.</p>"},{"location":"guide/examples/","title":"Examples","text":""},{"location":"guide/examples/#small-architecture-neutral-usage-snippets","title":"Small, architecture-neutral usage snippets","text":"<p>This page collects small, focused examples that show how to use ForgingBlocks concepts in isolation.</p> <p>Each example is self-contained and does not assume any particular project structure.</p>"},{"location":"guide/examples/#1-validation-with-result","title":"1. Validation with Result","text":"<pre><code>from dataclasses import dataclass\nfrom forging_blocks.foundation import Result, Ok, Err\n\n\n@dataclass(frozen=True)\nclass RegisterUserInput:\n    email: str\n    name: str\n\n\ndef validate_registration(data: RegisterUserInput) -&gt; Result[RegisterUserInput, str]:\n    if \"@\" not in data.email:\n        return Err(\"invalid email\")\n    if not data.name.strip():\n        return Err(\"name required\")\n    return Ok(data)\n</code></pre> <p>Usage:</p> <pre><code>incoming = RegisterUserInput(email=\"user@example.com\", name=\"Alice\")\nresult = validate_registration(incoming)\n\nmatch result:\n    case Ok(valid):\n        print(f\"Ready to register: {valid}\")\n    case Err(error):\n        print(f\"Validation error: {error}\")\n</code></pre>"},{"location":"guide/examples/#2-simple-domain-like-type","title":"2. Simple domain-like type","text":"<pre><code>from dataclasses import dataclass\n\n\n@dataclass(frozen=True)\nclass Task:\n    id: int\n    title: str\n    completed: bool = False\n\n    def complete(self) -&gt; \"Task\":\n        return Task(id=self.id, title=self.title, completed=True)\n</code></pre> <p>This type does not rely on any infrastructure. It can be tested directly, extended easily, and used in a wide range of designs.</p>"},{"location":"guide/examples/#3-using-a-port-and-adapter","title":"3. Using a port and adapter","text":"<pre><code>from typing import Protocol\n\nfrom forging_blocks.foundation import Err, Ok, Port, Result\n\n\nclass EmailSender(Port):\n    def send(self, to: str, subject: str, body: str) -&gt; Result[None, str]:\n        ...\n</code></pre> <p>A console-based implementation:</p> <pre><code>class ConsoleEmailSender:\n    def send(self, to: str, subject: str, body: str) -&gt; Result[None, str]:\n        print(f\"To: {to}\\nSubject: {subject}\\n\\n{body}\")\n        return Ok(None)\n</code></pre> <p>A small function using the port:</p> <pre><code>def send_reset_email(sender: EmailSender, email: str) -&gt; Result[None, str]:\n    if \"@\" not in email:\n        return Err(\"invalid email\")\n    body = \"Click here to reset your password.\"\n    return sender.send(to=email, subject=\"Reset your password\", body=body)\n</code></pre> <p>The design is:</p> <ul> <li>clear to read,</li> <li>easy to test with a fake <code>EmailSender</code>,</li> <li>independent of any particular mail provider or framework.</li> </ul>"},{"location":"guide/examples/#4-what-to-explore-next","title":"4. What to explore next","text":"<p>Once you are comfortable with these examples, you can:</p> <ul> <li>read Principles to understand why the toolkit is structured this way,</li> <li>map examples into blocks using Recommended Blocks Structure,</li> <li>and explore architectural mappings in the Architectural Styles section if you want to see how these ideas can appear inside well-known styles.</li> </ul>"},{"location":"guide/getting-started/","title":"Getting Started","text":"<p>This guide walks through a small, complete example to help you get started with ForgingBlocks.</p> <p>The focus is on explicit outcomes and clear boundaries, not on frameworks or infrastructure.</p>"},{"location":"guide/getting-started/#parsing-input-with-result","title":"Parsing input with Result","text":"<pre><code>from forging_blocks.foundation import Result, Ok, Err\n\n\ndef parse_int(value: str) -&gt; Result[int, str]:\n    try:\n        return Ok(int(value))\n    except ValueError:\n        return Err(f\"invalid integer: {value!r}\")\n</code></pre>"},{"location":"guide/getting-started/#using-the-function","title":"Using the function","text":"<pre><code>from forging_blocks.foundation import Ok, Err\n\nresult = parse_int(\"42\")\n\nmatch result:\n    case Ok(number):\n        print(f\"Parsed number: {number}\")\n    case Err(error):\n        print(f\"Error: {error}\")\n</code></pre>"},{"location":"guide/principles/","title":"Principles","text":""},{"location":"guide/principles/#the-mindset-behind-forgingblocks","title":"The mindset behind ForgingBlocks","text":"<p>ForgingBlocks is designed around a set of practical principles that help teams write code that is easy to understand, change, and test over time.</p> <p>These principles are architecture-neutral.</p> <p>You can apply them whether your project is:</p> <ul> <li>Small</li> <li>Large</li> <li>Monolithic</li> <li>Distributed</li> <li>Layered</li> </ul> <p>or none of the above.</p>"},{"location":"guide/principles/#1-clarity-over-cleverness","title":"1. Clarity over cleverness","text":"<p>Readable code wins in the long run.</p> <ul> <li>Names should express intent, not implementation details.</li> <li>Types and contracts should reveal how to use something safely.</li> <li>Error paths should be visible and explicit.</li> </ul> <p>ForgingBlocks encourages this by giving you explicit <code>Result</code> types, clear port contracts, and small building blocks instead of complex inheritance or magic.</p>"},{"location":"guide/principles/#2-boundaries-as-first-class-concepts","title":"2. Boundaries as first-class concepts","text":"<p>Large systems remain understandable when their boundaries are clear.</p> <p>Boundaries answer questions like:</p> <ul> <li>\u201cWho is allowed to talk to whom?\u201d</li> <li>\u201cWhere does this external dependency touch my system?\u201d</li> <li>\u201cWhich part of the code is responsible for this decision?\u201d</li> </ul> <pre><code>flowchart TD\n    EXT[External World] --&gt; PRES[Presentation&lt;br/&gt;Entry Points]\n    PRES --&gt; APP[Application&lt;br/&gt;Business workflows]\n    APP --&gt; DOM[Domain&lt;br/&gt;Concepts &amp; Rules]\n    APP --&gt; PORTS[Ports&lt;br/&gt;Interfaces]\n    INFRA[Infrastructure&lt;br/&gt;Adapters] -.-&gt;|Implements| PORTS\n\n    style DOM fill: #665c54,stroke:#fe8019,color:#ebdbb2\n    style PORTS fill:#5f6d2e\n    style INFRA fill: #454157,stroke:#b8bb26, color:#ebdbb2\n    style PRES fill:#3c3836,stroke:#fabd2f, color:#ebdbb2\n    style APP fill:#504945, stroke:#fabd2f, color:#ebdbb2</code></pre> <p>ForgingBlocks uses Ports (interfaces), blocks (logical groupings), and explicit contracts to make these boundaries visible.</p> <p>The solid arrows show call flow.</p> <p>The dotted arrow shows that Infrastructure implements Port interfaces, keeping Application decoupled from technical details.</p>"},{"location":"guide/principles/#3-explicit-outcomes","title":"3. Explicit outcomes","text":"<p>Hidden failures and implicit control flow make systems fragile.</p> <p>With <code>Result</code>, you can model outcomes directly:</p> <ul> <li><code>Ok(value)</code> \u2013 successful operation with a value.</li> <li><code>Err(error)</code> \u2013 operation that failed with an explanation.</li> </ul> <p>This encourages calling code to handle both cases intentionally and avoids \u201csurprise\u201d exceptions flowing through call stacks.</p> <p>Inpiration for Result</p> <p>The <code>Result</code> type is inspired by similar constructs in languages like Rust, Haskell, and Scala.</p> <p>Rust contains a built-in <code>Result</code> type to make success and failure explicit. Haskell and Scala contains <code>Either</code> type to make success and failure explicit.</p>"},{"location":"guide/principles/#4-decoupling-from-tools","title":"4. Decoupling from tools","text":"<p>Frameworks, ORMs, and infrastructure libraries change frequently. Core domain rules usually change more slowly.</p> <p>ForgingBlocks helps you:</p> <ul> <li>Express core behavior without coupling it to databases, HTTP frameworks, or queues,</li> <li>Keep external concerns inside Infrastructure and Presentation blocks,</li> <li>Depend on ports and protocols, not concrete implementations.</li> </ul> <p>This does not forbid you from using any tool. It simply keeps your options open.</p>"},{"location":"guide/principles/#5-small-composable-abstractions","title":"5. Small, composable abstractions","text":"<p>Instead of large base classes or deep hierarchies, ForgingBlocks favors:</p> <ul> <li>Small protocols</li> <li>Focused types</li> <li>Composition using <code>Result</code> and mappers</li> </ul> <p>You can adopt a single abstraction (for example <code>Result</code>) without adopting the rest of the toolkit. There is no \u201call or nothing\u201d requirement.</p>"},{"location":"guide/principles/#6-teachable-by-design","title":"6. Teachable by design","text":"<p>The toolkit is intentionally designed to be teachable:</p> <ul> <li>Concepts are separated and named.</li> <li>Examples are small and focused.</li> <li>Blocks describe responsibilities in plain language.</li> </ul> <p>The goal is that a junior engineer can read the Guide and understand:</p> <ul> <li>How to express a boundary,</li> <li>How to model an outcome,</li> <li>How to organize code so it remains understandable.</li> </ul> <p>Senior engineers can then use these same concepts to shape larger designs or introduce specific architectural styles if they choose to.</p>"},{"location":"guide/principles/#7-respecting-existing-ideas-without-enforcing-them","title":"7. Respecting existing ideas, without enforcing them","text":"<p>Words like \u201cDomain\u201d are influenced by ideas from Domain-Driven Design (DDD), and terms like \u201cPort\u201d appear in several architectural styles.</p> <p>ForgingBlocks acknowledges this history, but it does not attempt to implement or enforce DDD, Hexagonal Architecture, or any other style.</p> <p>You can use those styles if they help your project, but they are always optional.</p>"},{"location":"guide/recommended_blocks_structure/","title":"Recommended Blocks Structure","text":""},{"location":"guide/recommended_blocks_structure/#thinking-in-responsibilities-and-boundaries","title":"Thinking in responsibilities and boundaries","text":"<p>This section explains a practical way to organize code using blocks. It is a recommendation, not a rule: you can use all of these blocks, some of them, or even create your own.</p> <p>A block is simply a group of code that shares a responsibility and a boundary.</p>"},{"location":"guide/recommended_blocks_structure/#overview-of-the-blocks","title":"Overview of the blocks","text":"<p>The common blocks are:</p> <ul> <li>Foundation \u2013 reusable, low-level abstractions.</li> <li>Domain \u2013 problem-space concepts and rules.</li> <li>Application \u2013 business workflows and coordination logic.</li> <li>Infrastructure \u2013 technical adapters to external systems.</li> <li>Presentation \u2013 entry points and interaction boundaries.</li> </ul> <pre><code>flowchart TD\n    P[Presentation]\n    A[Application]\n    D[Domain]\n    I[Infrastructure]\n    F[Foundation]\n\n    P --&gt;|Calls| A\n    A --&gt;|Coordinates| D\n    A --&gt;|Delegates to| I\n    D --&gt;|Builds on| F\n    A --&gt;|Builds on| F\n    I --&gt;|Builds on| F\n\n    %% --- Node styling ---\n    style P fill:#3c3836,stroke:#fabd2f,color:#ebdbb2  %% Presentation: Dark Gray, Yellow Outline\n    style A fill:#504945,stroke:#fabd2f,color:#ebdbb2  %% Application: Darker Gray, Yellow Outline\n    style D fill:#665c54,stroke:#fe8019,color:#ebdbb2  %% Domain: Muted Brown, Orange Outline\n    style I fill:#454157,stroke:#b8bb26,color:#ebdbb2  %% Infrastructure: Dark Violet, Olive Green Outline\n    style F fill:#665c54,stroke:#fb4934,color:#ebdbb2  %% Foundation: Muted Brown, Vibrant Red Outline</code></pre> <p>This diagram is illustrative, not prescriptive. It helps visualize how responsibilities can be separated.</p>"},{"location":"guide/recommended_blocks_structure/#block-vs-layer","title":"Block vs Layer","text":"<p>In ForgingBlocks, a block is an architecture-neutral concept.</p> <p>You may interpret a block as a \u201clayer\u201d if that mental model helps, especially when you compare to literature on layered architectures or clean architecture.</p> <p>However, the toolkit does not require or enforce any specific layering scheme.</p> <p>Think of blocks as named boundaries that you are free to use or ignore depending on the needs of your project.</p> <p>Dependency Rules</p> <p>The recommended dependency rules are:</p> <ul> <li>Foundation has no dependencies.</li> <li>Domain depends only on Foundation.</li> <li>Application depends on Domain and Foundation.</li> <li>Infrastructure depends on Application (for OutboundPorts) and Foundation.</li> <li>Presentation depends on Application and Foundation.</li> </ul> <p>These rules help maintain clear boundaries and promote decoupling between blocks.</p>"},{"location":"guide/recommended_blocks_structure/#foundation","title":"Foundation","text":"<p>Responsibility: provide small, reusable building blocks.</p> <p>Examples:</p> <ul> <li><code>Result</code>, <code>Ok</code>, <code>Err</code></li> <li><code>Port</code> and port-related protocols</li> <li><code>Mapper</code> for structured transformation</li> <li><code>ResultMapper</code> for transforming Results</li> <li><code>Debuggable</code> protocol for consistent debug representations</li> </ul> <p>The Foundation block contains abstractions that support the other blocks.</p> <p>Purpose of Foundation block</p> <p>That Foundation block exists to provide shared abstractions. That block defines the core building blocks that other blocks can rely on.</p> <p>It can be reused across many blocks.</p>"},{"location":"guide/recommended_blocks_structure/#domain","title":"Domain","text":"<p>Responsibility: describe what the system is about.</p> <p>Examples:</p> <ul> <li>Types that represent meaningful concepts (orders, tasks, users\u2026)</li> <li>Rules and invariants that keep those concepts valid</li> <li>Optional domain events for significant occurrences</li> </ul> <p>This block knows nothing about HTTP, SQL, queues, filesystems or any technical details.</p> <p>Meaning of Domain</p> <p>In Psychology, a domain is simply an area of knowledge or activity.</p> <p>In ForgingBlocks, the Domain represents the problem space your system is concerned with \u2014 the concepts and rules that describe what the system is about, not how it is implemented.</p> <p>Dependency rule</p> <p>The Domain depends only on Foundation.</p> <p>It must not depend on Application, Infrastructure, or Presentation, so that the core logic remains independent of technical concerns.</p>"},{"location":"guide/recommended_blocks_structure/#application","title":"Application","text":"<p>Responsibility: orchestrate business workflows by coordinating Domain logic and Infrastructure through ports.</p> <p>Examples:</p> <ul> <li>InboundPorts representing business operations that the system offers</li> <li>OutboundPorts representing external dependencies needed by the system</li> <li>Workflow implementations (e.g. <code>RegisterUser</code>, <code>CreateTask</code>)</li> <li>Application services that implement coordination logic, calling domain methods and OutboundPorts</li> </ul> <p>The Application block uses Domain models and calls Infrastructure through OutboundPorts, but does not contain technical implementation details.</p> <p>Dependency rule</p> <p>Application depends on Domain and Foundation. It defines both InboundPort and OutboundPort interfaces. Infrastructure implements the OutboundPort interfaces (Dependency Inversion Principle).</p>"},{"location":"guide/recommended_blocks_structure/#infrastructure","title":"Infrastructure","text":"<p>Responsibility: connect the system to external technologies.</p> <p>Examples:</p> <ul> <li>Concrete repositories (SQL, NoSQL, in-memory)</li> <li>Messaging and event bus integrations</li> <li>HTTP clients for external APIs</li> </ul> <p>Infrastructure implements OutboundPort interfaces defined by Application or Domain.</p> <p>Dependency Rule</p> <p>Infrastructure depends on OutboundPorts and Foundation block. External dependencies are allowed here. This is where databases, network calls, and any other external concerns lives.</p>"},{"location":"guide/recommended_blocks_structure/#presentation","title":"Presentation","text":"<p>Responsibility: expose the system to the outside world.</p> <p>Examples:</p> <ul> <li>HTTP controllers or routers</li> <li>CLI commands</li> <li>message consumers or event handlers</li> </ul> <p>Presentation reads external input, prepares it, and calls the Application block. It stays as thin as possible so that the behavior remains testable and reusable.</p>"},{"location":"guide/testing/","title":"Testing","text":""},{"location":"guide/testing/#overview","title":"Overview","text":"<p>ForgingBlocks encourages designs where behavior and outcomes are explicit. This makes your code easier to test without relying on internal details.</p> <p>This guide covers both testing principles and the test structure used in this project.</p>"},{"location":"guide/testing/#test-structure-categories","title":"Test Structure &amp; Categories","text":"<p>This project uses a 3-tier testing architecture with clear separation of concerns:</p>"},{"location":"guide/testing/#unit-tests-pytestmarkunit","title":"\ud83c\udfaf Unit Tests (<code>@pytest.mark.unit</code>)","text":"<p>Fast, isolated tests that verify individual components using mocks.</p> <pre><code>poetry run poe test:unit   # ~1 second\n</code></pre> <p>What's included: - Domain logic (entities, value objects, aggregates) - Foundation/framework components - Application services (with mocked dependencies) - Infrastructure components (with mocked external systems) - Presentation layer components (with mocked dependencies)</p> <p>Example: <pre><code>@pytest.mark.unit\nclass TestPrepareReleaseService:\n    def test_execute_when_tag_exists_then_fails(\n        self,\n        service: PrepareReleaseService,\n        version_control_mock: Mock\n    ) -&gt; None:\n        # Arrange: Mock the external dependency\n        version_control_mock.tag_exists.return_value = True\n\n        # Act: Test the business logic\n        result = await service.execute(input_data)\n\n        # Assert: Verify behavior\n        assert result.is_err()\n</code></pre></p>"},{"location":"guide/testing/#integration-tests-pytestmarkintegration","title":"\ud83d\udd27 Integration Tests (<code>@pytest.mark.integration</code>)","text":"<p>Tests that verify components work with real infrastructure in isolated environments.</p> <pre><code>poetry run poe test:integration   # ~2-3 seconds\n</code></pre> <p>What's included: - Git operations (using real git in temporary repositories) - Process/subprocess execution - File system operations - External CLI tools (when safe)</p> <p>Example: <pre><code>@pytest.mark.integration\nclass TestGitVersionControlIntegration:\n    def test_branch_lifecycle_when_created_then_exists_and_deleted(\n        self,\n        git_repo: GitTestRepository,  # Real git repo fixture\n    ) -&gt; None:\n        # Test with real git operations\n        version_control = GitVersionControl(SubprocessCommandRunner())\n\n        version_control.create_branch(ReleaseBranchName(\"release/v1.2.0\"))\n        assert version_control.branch_exists(ReleaseBranchName(\"release/v1.2.0\"))\n</code></pre></p>"},{"location":"guide/testing/#end-to-end-tests-pytestmarke2e","title":"\ud83d\udee1\ufe0f End-to-End Tests (<code>@pytest.mark.e2e</code>)","text":"<p>Complete workflow tests that exercise the entire system.</p> <pre><code>poetry run poe test:e2e   # All currently skipped\n</code></pre> <p>What's included: - Full CLI workflows - Complete release processes - Multi-component integration scenarios</p> <p>Note: E2E tests are conditionally skipped in normal runs since they require complex setup (real GitHub tokens, complete project structure, etc.). They serve as documentation for full system behavior.</p> <pre><code>@pytest.mark.e2e\nclass TestMain:\n    @pytest.mark.skipif(\n        not os.environ.get(\"RUN_E2E_TESTS\"),\n        reason=\"E2E test requires RUN_E2E_TESTS=1 and full project setup\"\n    )\n    async def test_main_when_called_then_creates_release(\n        self, git_repo: GitTestRepository\n    ) -&gt; None:\n        # Full workflow test - only run in special environments\n        ...\n</code></pre>"},{"location":"guide/testing/#running-tests","title":"\ud83d\ude80 Running Tests","text":"<pre><code># Primary Commands (for daily development)\npoetry run poe test              # Run ALL tests (recommended default)\npoetry run poe test:unit         # Run unit tests only (fast feedback)\npoetry run poe test:integration  # Run integration tests only\n\n# Extended Commands (for comprehensive testing)\npoetry run poe test:e2e          # Run end-to-end tests only\npoetry run poe test:debug        # Debug mode with verbose output\n</code></pre> <p>Understanding Test Results: - <code>poetry run poe test</code> runs ALL tests including E2E (complete confidence) - Some tests are conditionally skipped based on environment configuration - Skipped tests are still valuable as documentation of system capabilities</p>"},{"location":"guide/testing/#test-results-summary","title":"\ud83d\udcca Test Results Summary","text":"Test Type Count Coverage Speed When to Use Unit 304 95.46% \u26a1 Fast (0.96s) Development, TDD, CI Integration 60 + 1 skipped 67.74% \ud83d\udd27 Moderate (2.29s) Integration verification E2E 4 skipped N/A \ud83d\udee1\ufe0f Protected (skipped) Documentation, manual testing All Stable 364 passed + 1 skipped 98.69% \u2705 Complete (2.84s) CI, Release <p>Note: Some tests are conditionally skipped based on environment: - 1 GitHub CLI integration test (requires <code>RUN_GITHUB_CLI_TESTS=1</code>) - 4 End-to-end workflow tests (require <code>RUN_E2E_TESTS=1</code> and complex setup)</p> <p>Use <code>poetry run poe test</code> to run all tests including those requiring setup (with environment variables).</p>"},{"location":"guide/testing/#testing-principles","title":"Testing Principles","text":"<p>This project focuses on what to test and why, not on any specific testing framework. You can use <code>pytest</code>, <code>unittest</code>, or any other tool you prefer.</p>"},{"location":"guide/testing/#1-testing-pure-functions","title":"1. Testing pure functions","text":"<p>Pure functions are the easiest place to start. When a function returns a <code>Result</code>, success and failure are part of the contract.</p> <pre><code>from forging_blocks.foundation import Result, Ok, Err\n\n\ndef is_even(value: int) -&gt; Result[bool, str]:\n    if value &lt; 0:\n        return Err(\"negative value\")\n    return Ok(value % 2 == 0)\n</code></pre>"},{"location":"guide/testing/#example-tests","title":"Example tests","text":"<p>Tests should focus on intent first, not on how the <code>Result</code> is represented.</p> <pre><code>from your_module import is_even\n\n\ndef test_is_even_when_value_is_even_then_succeeds() -&gt; None:\n    result = is_even(4)\n\n    assert result.is_ok\n\n\ndef test_is_even_when_value_is_odd_then_succeeds() -&gt; None:\n    result = is_even(3)\n\n    assert result.is_ok\n\n\ndef test_is_even_when_value_is_negative_then_fails() -&gt; None:\n    result = is_even(-1)\n\n    assert result.is_err\n</code></pre> <p>Only inspect returned values when they matter to the test's intent:</p> <pre><code>from forging_blocks.foundation import Ok\n\n\ndef test_is_even_returns_false_for_odd_numbers() -&gt; None:\n    result = is_even(3)\n\n    assert result.is_ok\n\n    match result:\n        case Ok(value):\n            assert value is False\n</code></pre>"},{"location":"guide/testing/#2-testing-code-that-depends-on-a-port-using-fakes","title":"2. Testing code that depends on a Port (using fakes)","text":"<p>When code depends on a Port, you can replace that dependency in tests. This lets you verify behavior without involving infrastructure.</p> <pre><code>from forging_blocks.foundation import Result, Port\n\n\nclass IdGenerator(Port):\n    def generate(self) -&gt; Result[str, str]:\n        ...\n</code></pre> <p>Business logic:</p> <pre><code>def create_user_id(generator: IdGenerator) -&gt; Result[str, str]:\n    return generator.generate()\n</code></pre> <p>A simple fake implementation:</p> <pre><code>from forging_blocks.foundation import Result, Ok, Err\n\n\nclass FakeIdGenerator:\n    def __init__(self, ids: list[str]) -&gt; None:\n        self._ids = ids\n\n    def generate(self) -&gt; Result[str, str]:\n        if not self._ids:\n            return Err(\"no more ids\")\n        return Ok(self._ids.pop(0))\n</code></pre>"},{"location":"guide/testing/#example-tests_1","title":"Example tests","text":"<pre><code>from your_module import create_user_id, FakeIdGenerator\n\n\ndef test_create_user_id_when_id_is_available_then_succeeds() -&gt; None:\n    generator = FakeIdGenerator([\"id-1\"])\n\n    result = create_user_id(generator)\n\n    assert result.is_ok\n\n\ndef test_create_user_id_when_no_ids_left_then_fails() -&gt; None:\n    generator = FakeIdGenerator([])\n\n    result = create_user_id(generator)\n\n    assert result.is_err\n</code></pre>"},{"location":"guide/testing/#3-when-to-use-pattern-matching-in-tests","title":"3. When to use pattern matching in tests","text":"<p>Pattern matching is useful when: - the returned value is meaningful to the behavior - you need to inspect error information - multiple outcomes must be distinguished</p> <p>It should support the test, not dominate it.</p>"},{"location":"guide/testing/#4-fakes-vs-mocks","title":"4. Fakes vs mocks","text":"<p>Both approaches work well with Ports.</p> <ul> <li>Fakes emphasize state and behavior.</li> <li>Mocks emphasize interactions.</li> </ul> <p>Choose the approach that makes the test's intent most obvious.</p> <p>ForgingBlocks does not enforce a testing style \u2014 it encourages clarity.</p>"},{"location":"guide/testing/#testing-guidelines","title":"Testing Guidelines","text":""},{"location":"guide/testing/#best-practices","title":"\u2705 Best Practices","text":"<ol> <li>Use appropriate test categories:</li> <li>Unit tests for business logic and isolated components</li> <li>Integration tests for external system interactions</li> <li> <p>E2E tests for complete workflows (sparingly)</p> </li> <li> <p>Test intent, not implementation: <pre><code># Good - tests behavior\nassert result.is_ok()\n\n# Avoid - tests implementation details\nassert isinstance(result, Ok)\n</code></pre></p> </li> <li> <p>Use descriptive test names: <pre><code>def test_prepare_release_when_tag_exists_then_raises_error(self) -&gt; None:\n    # Test name tells the complete story\n</code></pre></p> </li> <li> <p>Mock at the boundaries:</p> </li> <li>Mock external dependencies (APIs, databases, file systems)</li> <li> <p>Don't mock your own domain objects</p> </li> <li> <p>Keep tests focused:</p> </li> <li>One test should verify one behavior</li> <li>Use clear arrange/act/assert structure</li> </ol>"},{"location":"guide/testing/#common-pitfalls","title":"\u26a0\ufe0f Common Pitfalls","text":"<ol> <li>Over-mocking: Don't mock everything - test real object interactions when safe</li> <li>Testing implementation: Focus on behavior, not internal structure</li> <li>Brittle tests: Avoid testing exact mock call sequences unless critical</li> <li>Slow feedback: Run unit tests frequently, integration tests less often</li> </ol>"},{"location":"guide/testing/#environment-setup","title":"Environment Setup","text":"<p>The test environment automatically handles:</p> <ul> <li>Isolated git repositories for integration tests</li> <li>Temporary directories for file system tests</li> <li>Mock external services for unit tests</li> <li>Consistent branch naming across CI/local environments</li> </ul> <p>Test fixtures provide clean, isolated environments for each test run.</p>"},{"location":"reference/","title":"Reference","text":""},{"location":"reference/#overview-of-forgingblocks-components","title":"Overview of ForgingBlocks Components","text":"<pre><code>flowchart LR\n    D[Domain&lt;br/&gt;Problem-space concepts] --&gt;|depends on| F[Foundation&lt;br/&gt;Shared abstractions]\n    A[Application&lt;br/&gt;Coordination &amp; behavior] --&gt;|depends on| D\n    A --&gt;|depends on| F\n    I[Infrastructure&lt;br/&gt;Technical adapters] --&gt;|depends on| A\n    I --&gt;|depends on| F\n    P[Presentation&lt;br/&gt;Input boundaries] --&gt;|depends on| A</code></pre>"},{"location":"reference/#reference-sections","title":"Reference Sections","text":"<ul> <li>Foundation - Core abstractions and utilities (Result, Port, etc.)</li> <li>Domain - Domain modeling abstractions (Entity, ValueObject, AggregateRoot)</li> <li>Application - Application layer patterns (UseCase, CommandHandler)</li> <li>Infrastructure - Infrastructure adapters and implementations</li> <li>Presentation - Input/output boundaries and presentation layer</li> <li>Testing - Comprehensive testing reference and guidelines</li> </ul>"},{"location":"reference/application/","title":"Application","text":""},{"location":"reference/application/#reference","title":"Reference","text":"<p>The Application block defines what the system does.</p> <p>It expresses system behavior by coordinating domain concepts, handling incoming requests, and invoking outbound capabilities. It does not contain business rules themselves, nor technical details.</p> <p>The Application block sits between the outside world and the Domain, acting as a behavioral boundary.</p>"},{"location":"reference/application/#purpose-of-the-application-block","title":"Purpose of the Application block","text":"<p>The Application block exists to:</p> <ul> <li>Represent system behaviors (use cases)</li> <li>Coordinate domain operations</li> <li>Define inbound and outbound ports</li> <li>Delegate technical concerns to Infrastructure</li> </ul> <p>The Application block depends on Domain and Foundation. It must not depend on Presentation or Infrastructure implementations.</p> <p>On architectural neutrality</p> <p>The Application block does not assume a specific architecture. It can be used in layered, hexagonal, clean, CQRS, or message-driven systems. The abstractions provided here define boundaries, not control flow.</p>"},{"location":"reference/application/#responsibilities","title":"Responsibilities","text":"<p>The Application block is responsible for:</p> <ul> <li>Receiving intent from the outside (inbound ports)</li> <li>Validating and coordinating operations</li> <li>Invoking domain behavior</li> <li>Interacting with outbound capabilities</li> <li>Defining transactional boundaries</li> </ul> <p>It is not responsible for:</p> <ul> <li>Enforcing domain invariants</li> <li>Persisting data directly</li> <li>Handling transport or frameworks</li> <li>Implementing infrastructure concerns</li> </ul>"},{"location":"reference/application/#inbound-ports","title":"Inbound Ports","text":"<p>Inbound ports define how the system can be interacted with.</p> <p>They describe what can be requested from the application, without exposing internal implementation details.</p>"},{"location":"reference/application/#use-case","title":"Use Case","text":"<p>A Use Case represents a cohesive unit of application behavior.</p> <p>Characteristics:</p> <ul> <li>Expresses a system capability</li> <li>Coordinates domain operations</li> <li>Returns an explicit result</li> <li>Does not depend on infrastructure</li> </ul> <p>Use Cases describe what the system does, not how it is triggered.</p> <p>Use cases as coordination</p> <p>A Use Case does not contain business rules. It orchestrates domain behavior and outbound interactions, keeping policy separate from details.</p>"},{"location":"reference/application/#message-handler","title":"Message Handler","text":"<p>A Message Handler represents an inbound boundary for handling messages such as commands, events, or queries.</p> <p>Characteristics:</p> <ul> <li>Reacts to a single message type</li> <li>Coordinates application behavior</li> <li>Delegates domain logic</li> <li>May invoke other outbound ports</li> </ul> <p>Message Handlers allow the application to participate in message-driven or asynchronous workflows.</p> <p>Message handling vs use cases</p> <p>Use Cases and Message Handlers serve similar coordination roles. The distinction is about how intent arrives, not about behavior.</p>"},{"location":"reference/application/#outbound-ports","title":"Outbound Ports","text":"<p>Outbound ports define capabilities the application depends on.</p> <p>They allow the Application block to request external actions without knowing how those actions are implemented.</p>"},{"location":"reference/application/#repository-ports","title":"Repository Ports","text":"<p>Repository ports abstract persistence concerns.</p> <p>Available variants:</p> <ul> <li>ReadOnlyRepository \u2014 query-side access</li> <li>WriteOnlyRepository \u2014 command-side persistence</li> <li>Repository \u2014 combined read/write access</li> </ul> <p>Repositories:</p> <ul> <li>Persist and retrieve aggregates</li> <li>Abstract storage mechanisms</li> <li>Do not enforce business rules</li> </ul> <p>CQRS compatibility</p> <p>Separate read and write repositories support CQRS-style designs, but using a combined repository is equally valid in simpler systems.</p>"},{"location":"reference/application/#unit-of-work","title":"Unit of Work","text":"<p>A Unit of Work defines a transactional boundary for application operations.</p> <p>Responsibilities include:</p> <ul> <li>Managing a transactional context</li> <li>Coordinating multiple repositories</li> <li>Committing or rolling back changes</li> <li>Publishing domain events upon success</li> </ul> <p>The Unit of Work ensures consistency across operations, without embedding domain logic.</p> <p>Transactional consistency</p> <p>The Unit of Work coordinates persistence and side effects. It does not execute business logic or manipulate aggregates directly.</p>"},{"location":"reference/application/#message-bus","title":"Message Bus","text":"<p>A Message Bus provides a generic mechanism for dispatching messages.</p> <p>It acts as a connector between the Application block and message-based infrastructure such as in-memory routers, queues, brokers, or external services.</p> <p>The Message Bus defines dispatch, not delivery semantics.</p>"},{"location":"reference/application/#command-sender","title":"Command Sender","text":"<p>A Command Sender allows the application to send commands asynchronously.</p> <p>Characteristics:</p> <ul> <li>Fire-and-forget semantics</li> <li>Delegates transport to a Message Bus</li> <li>Decouples command issuance from handling</li> </ul> <p>Used when the application needs to trigger command-side behavior elsewhere.</p>"},{"location":"reference/application/#event-publisher","title":"Event Publisher","text":"<p>An Event Publisher allows the application to publish domain events.</p> <p>Characteristics:</p> <ul> <li>Publishes facts that occurred</li> <li>Delegates delivery to a Message Bus</li> <li>Does not guarantee ordering or durability</li> </ul> <p>Event publishing enables integration and eventual consistency.</p>"},{"location":"reference/application/#query-fetcher","title":"Query Fetcher","text":"<p>A Query Fetcher allows the application to retrieve data by dispatching queries through a Message Bus.</p> <p>Characteristics:</p> <ul> <li>Asynchronous execution</li> <li>Result shape defined by the query handler</li> <li>No consistency guarantees between read and write models</li> </ul> <p>Outbound ports and Infrastructure</p> <p>Outbound ports define what the application needs. Infrastructure provides how those needs are fulfilled.</p>"},{"location":"reference/application/#what-the-application-block-does-not-do","title":"What the Application block does not do","text":"<p>The Application block does not:</p> <ul> <li>Define domain rules</li> <li>Manipulate infrastructure directly</li> <li>Expose transport-specific APIs</li> <li>Depend on frameworks or databases</li> </ul> <p>Those responsibilities belong to Domain, Infrastructure, or Presentation.</p>"},{"location":"reference/application/#relationship-to-other-blocks","title":"Relationship to other blocks","text":"<ul> <li>Presentation invokes inbound ports.</li> <li>Application coordinates behavior.</li> <li>Domain enforces business rules and invariants.</li> <li>Infrastructure implements outbound ports.</li> </ul> <p>The Application block remains stable even as delivery mechanisms and infrastructure change.</p>"},{"location":"reference/application/#summary","title":"Summary","text":"<p>The Application block defines behavioral boundaries.</p> <p>It coordinates domain logic through clear inbound and outbound ports, keeping business rules isolated and technical details replaceable.</p> <p>Its purpose is orchestration, not computation.</p>"},{"location":"reference/application/#glossary","title":"Glossary","text":"<p>Application Block</p> <p>The part of the system responsible for coordinating behavior. It defines what the system does by orchestrating domain logic and invoking external capabilities through ports.</p> <p>Inbound Port</p> <p>An abstraction that defines how external actors can interact with the application, without exposing internal details.</p> <p>Use Case</p> <p>An inbound port that represents a cohesive unit of application behavior. A use case coordinates domain operations and outbound interactions, but does not contain business rules itself.</p> <p>Message Handler</p> <p>An inbound port that reacts to a single incoming message (such as a command, event, or query) and coordinates application behavior.</p> <p>Outbound Port</p> <p>An abstraction that represents a capability the application depends on, such as persistence, messaging, or notification, without specifying how that capability is implemented.</p> <p>Repository</p> <p>An outbound port that abstracts access to persisted domain objects. Repositories provide retrieval and storage operations without embedding domain rules or storage details.</p> <p>Unit of Work</p> <p>An outbound port that defines a transactional boundary. It coordinates multiple persistence operations and ensures consistency across application-level changes.</p> <p>Message Bus</p> <p>An outbound port that dispatches messages to handlers. It defines routing and dispatch semantics without prescribing transport, delivery, or infrastructure mechanisms.</p> <p>Command Sender</p> <p>An outbound port used to send commands asynchronously, decoupling command issuance from command handling.</p> <p>Event Publisher</p> <p>An outbound port used to publish domain events, allowing the system to communicate facts that occurred without coupling to consumers or delivery mechanisms.</p> <p>Query Fetcher</p> <p>An outbound port used to retrieve data by issuing queries and receiving responses, typically without mutating state.</p>"},{"location":"reference/clean-architecture/","title":"Clean architecture","text":"<pre><code>---\ntitle: Clean Architecture\n---\ngraph TD\n    subgraph outer[\"Frameworks &amp; Drivers\"]\n        subgraph adapters[\"Interface Adapters\"]\n            subgraph app[\"Application Business Rules\"]\n                subgraph core[\"Enterprise Business Rules\"]\n                end\n            end\n        end\n    end</code></pre>"},{"location":"reference/domain/","title":"Domain","text":""},{"location":"reference/domain/#reference","title":"Reference","text":"<p>The Domain block represents the problem space your system is concerned with.</p> <p>It contains the concepts, rules, and constraints that give meaning to your software, independent of frameworks, databases, delivery mechanisms, or deployment concerns.</p> <p>The goal of the Domain block is clarity of intent, not architectural purity.</p>"},{"location":"reference/domain/#purpose-of-the-domain-block","title":"Purpose of the Domain block","text":"<p>The Domain block exists to:</p> <ul> <li>Express problem-space concepts explicitly</li> <li>Encode rules and constraints close to the data they govern</li> <li>Make invalid states explicit</li> <li>Remain stable as external concerns change</li> </ul> <p>The Domain block depends only on Foundation and must not depend on Application, Infrastructure, or Presentation.</p> <p>On architectural neutrality</p> <p>ForgingBlocks does not require you to follow a specific architectural style. The Domain block can be used in layered, hexagonal, clean, or ad-hoc architectures. The abstractions provided here are optional tools, not mandatory patterns.</p>"},{"location":"reference/domain/#core-domain-abstractions","title":"Core domain abstractions","text":"<p>The Domain block provides core abstractions that help model meaning without relying on language primitives alone.</p> <p>These abstractions exist to make intent explicit, behavior testable, and rules discoverable.</p>"},{"location":"reference/domain/#entities","title":"Entities","text":"<p>An Entity represents a concept whose identity matters over time.</p> <p>Characteristics:</p> <ul> <li>Identity-based equality</li> <li>Explicit lifecycle</li> <li>Mutable state governed by rules</li> </ul> <p>Entities are appropriate when it is important to distinguish which instance is being referred to, even if its attributes change.</p> <p>Influence: Eric Evans</p> <p>The focus on identity as a defining characteristic is inspired by Domain-Driven Design by Eric Evans. ForgingBlocks adopts this idea without requiring a full DDD tactical model.</p>"},{"location":"reference/domain/#value-objects","title":"Value Objects","text":"<p>A Value Object represents an immutable concept defined entirely by its values.</p> <p>Characteristics:</p> <ul> <li>Immutable</li> <li>Equality by value</li> <li>Hashable</li> <li>No independent identity</li> </ul> <p>Value Objects are well-suited for modeling concepts such as identifiers, measurements, or descriptive values where identity is not meaningful.</p> <p>Avoiding Primitive Obsession</p> <p>Value Objects help prevent domain rules from being scattered across the codebase. By wrapping meaning in explicit types, constraints become visible, reusable, and testable.</p>"},{"location":"reference/domain/#aggregate-roots","title":"Aggregate Roots","text":"<p>An Aggregate Root defines a consistency boundary.</p> <p>It acts as the authoritative entry point for modifying related state and enforcing rules that span multiple objects.</p> <p>Typical responsibilities include:</p> <ul> <li>Protecting invariants</li> <li>Coordinating state changes</li> <li>Recording domain-relevant occurrences</li> </ul> <p>Influence: Vaughn Vernon</p> <p>The emphasis on consistency boundaries and controlled mutation is inspired by the work of Vaughn Vernon. ForgingBlocks provides aggregates when boundaries matter, without requiring their use everywhere.</p>"},{"location":"reference/domain/#domain-messages","title":"Domain Messages","text":"<p>The Domain block defines Domain Messages as first-class concepts.</p> <p>Domain Messages express what can be said in the problem space, independent of how messages are transported, stored, or handled.</p> <p>All domain messages are immutable and meaningful without infrastructure.</p>"},{"location":"reference/domain/#message","title":"Message","text":"<p>A Message is the base abstraction for all domain messages.</p> <p>It encapsulates:</p> <ul> <li>An immutable domain payload</li> <li>Message metadata such as identity, timestamps, or correlation information</li> </ul> <p>Metadata is intentionally separated from domain data to avoid leaking technical concerns into domain logic.</p>"},{"location":"reference/domain/#command","title":"Command","text":"<p>A Command represents an intent to perform an action.</p> <p>Characteristics:</p> <ul> <li>Imperative meaning</li> <li>Expresses a request to change state</li> <li>May be accepted or rejected</li> </ul> <p>Commands model what someone wants to do in the domain.</p>"},{"location":"reference/domain/#event","title":"Event","text":"<p>An Event represents a fact that has already occurred.</p> <p>Characteristics:</p> <ul> <li>Expressed in the past tense</li> <li>Immutable and irreversible</li> <li>Records something that happened</li> </ul> <p>Events model what is known to be true after a state transition.</p>"},{"location":"reference/domain/#query","title":"Query","text":"<p>A Query represents an intent to retrieve information.</p> <p>Characteristics:</p> <ul> <li>Does not modify domain state</li> <li>Expresses interest, not behavior</li> <li>Side-effect free</li> </ul> <p>Queries model what someone wants to know about the domain.</p> <p>Influence: CQRS literature</p> <p>The distinction between Commands, Events, and Queries is inspired by CQRS concepts described by multiple authors, including Greg Young and Vaughn Vernon. ForgingBlocks treats these as semantic roles, not architectural mandates.</p>"},{"location":"reference/domain/#domain-errors","title":"Domain Errors","text":"<p>The Domain block defines Domain Errors to represent invalid states or rule violations within the problem space.</p> <p>Domain Errors:</p> <ul> <li>Express domain meaning</li> <li>Indicate invariant violations</li> <li>Are not technical failures</li> </ul> <p>They make incorrect states explicit and testable.</p> <p>On error semantics</p> <p>Domain Errors describe why something is invalid in domain terms. They should not encode transport, persistence, or framework concerns.</p>"},{"location":"reference/domain/#what-the-domain-block-does-not-do","title":"What the Domain block does not do","text":"<p>The Domain block does not:</p> <ul> <li>Orchestrate workflows or use cases</li> <li>Perform I/O or persistence</li> <li>Depend on frameworks or external systems</li> <li>Handle transport or presentation concerns</li> </ul> <p>Those responsibilities belong to outer blocks.</p> <p>Influence: Robert C. Martin</p> <p>The separation between domain policy and external details reflects principles described by Robert C. Martin. The Domain block is intended to be the most stable part of the system.</p>"},{"location":"reference/domain/#summary","title":"Summary","text":"<p>The Domain block provides clear, explicit abstractions for modeling meaning in the problem space.</p> <p>You may use all of these abstractions, some of them, or none at all. Their purpose is to support clarity and correctness\u2014not to enforce a methodology.</p>"},{"location":"reference/domain/#glossary","title":"Glossary","text":"<p>Entity</p> <p>A domain concept with a stable identity that persists over time, even as its attributes change.</p> <p>Value Object</p> <p>An immutable domain concept defined entirely by its values, without independent identity.</p> <p>Aggregate Root</p> <p>A domain concept that defines a consistency boundary and controls access to related state.</p> <p>Domain Message</p> <p>An immutable object that expresses intent, facts, or questions within the problem space, independent of transport or handling.</p> <p>Command</p> <p>A domain message that represents an intent to perform an action.</p> <p>Event</p> <p>A domain message that represents a fact that has already occurred.</p> <p>Query</p> <p>A domain message that represents an intent to retrieve information without modifying domain state.</p> <p>Domain Error</p> <p>An explicit representation of an invalid domain state or rule violation, expressed in domain terms rather than technical terms.</p>"},{"location":"reference/foundation/","title":"Foundation","text":""},{"location":"reference/foundation/#foundational-abstractions-and-contracts","title":"Foundational abstractions and contracts","text":"<p>The Foundation block provides low-level, reusable abstractions that are shared across the entire system.</p> <p>It contains no domain logic, no application orchestration, and no infrastructure concerns.</p> <p>Foundation exists to define stable contracts and primitives on top of which all other blocks are built.</p>"},{"location":"reference/foundation/#purpose","title":"Purpose","text":"<ul> <li>Supply primitive abstractions (<code>Result</code>, <code>Port</code>, <code>Mapper</code>).</li> <li>Enable explicit, intention-revealing boundaries.</li> <li>Support structured and predictable error handling.</li> <li>Provide a stable base reused by all other blocks.</li> </ul>"},{"location":"reference/foundation/#dependency-position","title":"Dependency position","text":"<pre><code>flowchart TD\n    D[Domain] --&gt;|depends on| F[Foundation]\n    A[Application] --&gt;|depends on| F\n    I[Infrastructure] --&gt;|depends on| A\n    I --&gt;|depends on| F</code></pre> <p>Foundation depends on nothing. All other blocks may depend on Foundation.</p>"},{"location":"reference/foundation/#core-concepts","title":"Core concepts","text":""},{"location":"reference/foundation/#result","title":"Result","text":"<p><code>Result</code> models the explicit outcome of an operation.</p> <p>It is used when failure is part of normal behavior, such as:</p> <ul> <li>validation</li> <li>parsing</li> <li>rule evaluation</li> <li>boundary checks</li> </ul> <p>A <code>Result</code> represents either success (<code>Ok</code>) or failure (<code>Err</code>), without relying on exceptions for control flow.</p> <p>Result is about flow, not about error representation.</p>"},{"location":"reference/foundation/#errors","title":"Errors","text":"<p>Foundation defines a structured error model.</p> <p>Errors represent what went wrong, not how control flows.</p> <p>They are:</p> <ul> <li>structured objects (message + metadata)</li> <li>debuggable</li> <li>composable and aggregatable</li> <li>usable both as return values and raised exceptions</li> </ul> <p>Errors are commonly carried inside <code>Err</code>, but the two concepts are distinct:</p> <ul> <li><code>Result</code> answers whether an operation succeeded.</li> <li><code>Error</code> answers why it failed.</li> </ul> <p>Foundation provides reusable error categories such as:</p> <ul> <li>validation errors</li> <li>rule violation errors</li> <li>structural or invariant errors</li> </ul> <p>These error types are architecture-neutral and reusable across domains.</p>"},{"location":"reference/foundation/#port","title":"Port","text":"<p>A <code>Port</code> represents a boundary between components.</p> <p>Ports define what is expected, not how it is implemented. They enable replacement, testing, and decoupling without imposing an architecture.</p>"},{"location":"reference/foundation/#mapper","title":"Mapper","text":"<p><code>Mapper</code> and <code>ResultMapper</code> define explicit transformations between types.</p> <p>They make data conversion intentional and observable, avoiding hidden or implicit mappings.</p>"},{"location":"reference/foundation/#debuggable","title":"Debuggable","text":"<p><code>Debuggable</code> is a lightweight contract for exposing structured debug information.</p> <p>It enables introspection without leaking internal state or implementation details.</p>"},{"location":"reference/foundation/#characteristics","title":"Characteristics","text":"<ul> <li>Pure Python (standard library only).</li> <li>Architecture-neutral.</li> <li>Stable, low-level abstractions.</li> <li>Used by all other blocks.</li> </ul>"},{"location":"reference/infrastructure/","title":"Infrastructure","text":""},{"location":"reference/infrastructure/#technical-adapters-to-external-systems","title":"Technical adapters to external systems","text":"<p>The Infrastructure block provides concrete implementations of ports defined in the Application block. It contains all technical details.</p>"},{"location":"reference/infrastructure/#purpose","title":"Purpose","text":"<ul> <li>Fulfill outbound ports using real technology.</li> <li>Integrate with databases, APIs, queues, filesystems, etc.</li> <li>Keep technical concerns separate from behavior and rules.</li> </ul> <pre><code>flowchart TD\n    A[Application&lt;br/&gt;Ports] --&gt; I[Infrastructure&lt;br/&gt;Adapters]\n    I --&gt; EXT[(External Systems)]</code></pre>"},{"location":"reference/infrastructure/#typical-elements","title":"Typical Elements","text":""},{"location":"reference/infrastructure/#repositories","title":"Repositories","text":"<p>SQL, NoSQL, in\u2011memory, key\u2011value stores.</p>"},{"location":"reference/infrastructure/#message-brokers-event-systems","title":"Message Brokers &amp; Event Systems","text":"<p>Adapters for RabbitMQ, Redis, Kafka, etc.</p>"},{"location":"reference/infrastructure/#external-api-clients","title":"External API Clients","text":"<p>HTTP, gRPC, or other remote integrations.</p>"},{"location":"reference/infrastructure/#characteristics","title":"Characteristics","text":"<ul> <li>May use frameworks and libraries.</li> <li>Swappable implementations.</li> <li>Contains I/O, serialization, networking, persistence.</li> </ul>"},{"location":"reference/presentation/","title":"Presentation","text":""},{"location":"reference/presentation/#entry-points-and-interaction-boundaries","title":"Entry points and interaction boundaries","text":"<p>The Presentation block handles all incoming interactions. It translates external inputs (HTTP, CLI, events) into calls to the Application block.</p>"},{"location":"reference/presentation/#purpose","title":"Purpose","text":"<ul> <li>Provide entry points for users or systems.</li> <li>Parse and validate raw input.</li> <li>Convert input formats into application\u2011level data.</li> </ul> <pre><code>flowchart TD\n    USER[External Actor] --&gt; PRES[Presentation]\n    PRES --&gt; APP[Application]</code></pre>"},{"location":"reference/presentation/#typical-elements","title":"Typical Elements","text":""},{"location":"reference/presentation/#http-rest-graphql-handlers","title":"HTTP / REST / GraphQL Handlers","text":"<p>Thin request handlers that delegate to Application.</p>"},{"location":"reference/presentation/#cli-commands","title":"CLI Commands","text":"<p>Command\u2011line entry points.</p>"},{"location":"reference/presentation/#message-listeners","title":"Message Listeners","text":"<p>Queue or event consumer adapters.</p>"},{"location":"reference/presentation/#characteristics","title":"Characteristics","text":"<ul> <li>May depend on frameworks.</li> <li>No business rules.</li> <li>Designed to remain thin and delegating.</li> </ul>"},{"location":"reference/testing/","title":"Testing Reference","text":"<p>This document provides a comprehensive reference for testing in the ForgingBlocks project.</p>"},{"location":"reference/testing/#quick-reference","title":"Quick Reference","text":""},{"location":"reference/testing/#test-commands","title":"Test Commands","text":"Command Purpose Speed Use Case <code>poe test</code> Run ALL tests ~1.2s CI, pre-commit, complete confidence <code>poe test:unit</code> Unit tests only ~0.8s Development, TDD, fast feedback <code>poe test:integration</code> Integration tests only ~0.4s Verify external integrations <code>poe test:e2e</code> E2E tests only ~0.3s Complete workflow validation <code>poe test:debug</code> Verbose output Variable Debugging failures"},{"location":"reference/testing/#test-categories","title":"Test Categories","text":"Marker Count What to Test Example <code>@pytest.mark.unit</code> 304 Business logic, domain objects, isolated components Domain entities, value objects, application services with mocks <code>@pytest.mark.integration</code> 60 + 1 skipped External system interactions, real infrastructure Git operations, file system, subprocess calls <code>@pytest.mark.e2e</code> 4 skipped Complete workflows, full system behavior CLI workflows, release processes"},{"location":"reference/testing/#test-architecture-principles","title":"Test Architecture Principles","text":""},{"location":"reference/testing/#1-isolation-boundaries","title":"1. Isolation Boundaries","text":"<p>Tests are organized by isolation level, not by code structure:</p> <ul> <li>Unit: No external dependencies, use mocks/fakes</li> <li>Integration: Real external systems, isolated environments</li> <li>E2E: Full system, real workflows</li> </ul>"},{"location":"reference/testing/#2-fast-feedback-loops","title":"2. Fast Feedback Loops","text":"<pre><code># Inner loop - rapid iteration\npoe test:unit     # &lt;1 second\n\n# Validation loop - before commits\npoe test          # &lt;4 seconds - includes all tests (stable + conditional)\n</code></pre>"},{"location":"reference/testing/#3-clear-test-intent","title":"3. Clear Test Intent","text":"<p>Every test follows this structure: <pre><code>def test_when_condition_then_outcome(self) -&gt; None:\n    # Arrange: Set up test conditions\n\n    # Act: Execute the behavior under test\n\n    # Assert: Verify the expected outcome\n</code></pre></p>"},{"location":"reference/testing/#detailed-guidelines","title":"Detailed Guidelines","text":""},{"location":"reference/testing/#unit-tests-pytestmarkunit","title":"Unit Tests (<code>@pytest.mark.unit</code>)","text":"<p>Purpose: Verify business logic and component behavior in isolation.</p> <p>Characteristics: - Fast execution (&lt; 1 second total) - No external dependencies - Use mocks/fakes for boundaries - High coverage of business rules</p> <p>Example: <pre><code>@pytest.mark.unit\nclass TestPrepareReleaseService:\n    def test_execute_when_tag_exists_then_returns_error(\n        self,\n        service: PrepareReleaseService,\n        version_control_mock: Mock\n    ) -&gt; None:\n        # Arrange\n        version_control_mock.tag_exists.return_value = True\n        input_data = PrepareReleaseInput(level=ReleaseLevel.PATCH)\n\n        # Act\n        result = await service.execute(input_data)\n\n        # Assert\n        assert result.is_err()\n        assert \"already exists\" in str(result.error())\n</code></pre></p> <p>When to add unit tests: - New domain objects (entities, value objects) - Business rules and validations - Application service logic - Infrastructure components (with mocked external calls)</p>"},{"location":"reference/testing/#integration-tests-pytestmarkintegration","title":"Integration Tests (<code>@pytest.mark.integration</code>)","text":"<p>Purpose: Verify components work with real external systems in controlled environments.</p> <p>Characteristics: - Moderate execution time (~2-3 seconds total) - Real external dependencies (git, filesystem, etc.) - Isolated test environments (temporary directories, test repositories) - Focus on boundary interactions</p> <p>Example: <pre><code>@pytest.mark.integration\nclass TestGitVersionControlIntegration:\n    def test_branch_lifecycle_when_created_then_exists_and_deleted(\n        self,\n        git_repo: GitTestRepository,\n    ) -&gt; None:\n        # Arrange\n        version_control = GitVersionControl(SubprocessCommandRunner())\n        branch = ReleaseBranchName(\"release/v1.2.0\")\n\n        # Act &amp; Assert\n        assert not version_control.branch_exists(branch)\n\n        version_control.create_branch(branch)\n        assert version_control.branch_exists(branch)\n\n        version_control.delete_local_branch(branch)\n        assert not version_control.branch_exists(branch)\n</code></pre></p> <p>When to add integration tests: - External system interactions (git, GitHub API, file system) - Infrastructure adapters - CLI tools and process execution - Cross-boundary data flow</p>"},{"location":"reference/testing/#end-to-end-tests-pytestmarke2e","title":"End-to-End Tests (<code>@pytest.mark.e2e</code>)","text":"<p>Purpose: Document and verify complete system workflows.</p> <p>Characteristics: - Conditionally skipped based on environment configuration - Require full system setup (GitHub tokens, poetry config, etc.) - Test complete user workflows - Serve as living documentation</p> <p>Example: <pre><code>@pytest.mark.e2e\nclass TestReleaseWorkflow:\n    @pytest.mark.skipif(\n        not os.environ.get(\"RUN_E2E_TESTS\"),\n        reason=\"E2E test requires RUN_E2E_TESTS=1 and full project setup\"\n    )\n    def test_complete_release_workflow(self, git_repo: GitTestRepository) -&gt; None:\n        # This test documents the full release process\n        # Only run when environment is configured\n        ...\n</code></pre></p> <p>When to add E2E tests: - Complete CLI workflows - Full business processes - Cross-system integration scenarios - Documentation of system behavior</p>"},{"location":"reference/testing/#test-environment-fixtures","title":"Test Environment &amp; Fixtures","text":""},{"location":"reference/testing/#git-test-repository","title":"Git Test Repository","text":"<p>The <code>GitTestRepository</code> fixture provides isolated git repositories:</p> <pre><code>def test_git_operation(git_repo: GitTestRepository) -&gt; None:\n    # Automatic cleanup, isolated from real repo\n    git_repo.write_file(\"test.txt\", \"content\")\n    git_repo.commit(\"Add test file\")\n</code></pre>"},{"location":"reference/testing/#mocking-strategy","title":"Mocking Strategy","text":"<p>Mock at architectural boundaries:</p> <pre><code># Good - mock external dependency\n@pytest.fixture\ndef version_control_mock() -&gt; Mock:\n    return create_autospec(VersionControl, instance=True)\n\n# Avoid - don't mock domain objects\n# domain_entity_mock = Mock()  # \u274c\n</code></pre> <p>Use fakes for complex behavior:</p> <pre><code>class FakeVersionControl:\n    def __init__(self) -&gt; None:\n        self.tags: set[str] = set()\n\n    def tag_exists(self, tag: TagName) -&gt; bool:\n        return tag.value in self.tags\n\n    def create_tag(self, tag: TagName) -&gt; None:\n        self.tags.add(tag.value)\n</code></pre>"},{"location":"reference/testing/#common-patterns","title":"Common Patterns","text":""},{"location":"reference/testing/#result-testing","title":"Result Testing","text":"<pre><code># Test success/failure state\nassert result.is_ok()\nassert result.is_err()\n\n# Extract values when needed\nmatch result:\n    case Ok(value):\n        assert value.version == \"1.2.3\"\n    case Err(error):\n        assert \"validation\" in str(error)\n</code></pre>"},{"location":"reference/testing/#async-testing","title":"Async Testing","text":"<pre><code>@pytest.mark.asyncio\nasync def test_async_operation(self) -&gt; None:\n    result = await service.execute(input_data)\n    assert result.is_ok()\n</code></pre>"},{"location":"reference/testing/#parametrized-tests","title":"Parametrized Tests","text":"<pre><code>@pytest.mark.parametrize(\"level,expected\", [\n    (ReleaseLevel.MAJOR, \"2.0.0\"),\n    (ReleaseLevel.MINOR, \"1.2.0\"),\n    (ReleaseLevel.PATCH, \"1.1.1\"),\n])\ndef test_version_increment(level: ReleaseLevel, expected: str) -&gt; None:\n    current = ReleaseVersion(1, 1, 0)\n    result = current.increment(level)\n    assert str(result) == expected\n</code></pre>"},{"location":"reference/testing/#troubleshooting","title":"Troubleshooting","text":""},{"location":"reference/testing/#common-issues","title":"Common Issues","text":"<p>1. Test Collection Errors <pre><code># Check for syntax errors in test files\npoetry run pytest --collect-only\n</code></pre></p> <p>2. Slow Test Suite <pre><code># Profile test execution\npoetry run pytest --durations=10\n</code></pre></p> <p>3. Flaky Integration Tests <pre><code># Run integration tests multiple times\npoetry run pytest -m integration --count=5\n</code></pre></p> <p>4. Missing Test Markers <pre><code># Find unmarked tests\npoetry run pytest --strict-markers\n</code></pre></p>"},{"location":"reference/testing/#environment-issues","title":"Environment Issues","text":"<p>Git Configuration Integration tests require git to be configured: <pre><code>git config --global user.email \"test@example.com\"\ngit config --global user.name \"Test User\"\n</code></pre></p> <p>Temporary Directory Cleanup Test artifacts are automatically cleaned up, but manual cleanup: <pre><code># Clean pytest cache\nrm -rf .pytest_cache\n\n# Clean temporary test files\nfind /tmp -name \"pytest-*\" -type d -exec rm -rf {} +\n</code></pre></p>"},{"location":"reference/testing/#coverage-guidelines","title":"Coverage Guidelines","text":"<p>Target Coverage: - Unit tests: &gt;95% (currently 95.46%) - Integration tests: &gt;60% (currently 67.74%) - Overall: &gt;90% (currently 98.69%)</p> <p>Coverage Exclusions: - <code>__init__.py</code> files - Development/debug utilities - Platform-specific code - External library wrappers</p> <p>Generate Coverage Report: <pre><code># HTML report\npoetry run pytest --cov-report=html\n\n# Terminal report\npoetry run pytest --cov-report=term-missing\n</code></pre></p>"},{"location":"reference/testing/#best-practices-summary","title":"Best Practices Summary","text":""},{"location":"reference/testing/#do","title":"\u2705 Do","text":"<ul> <li>Use descriptive test names that explain intent</li> <li>Test behavior, not implementation</li> <li>Mock at architectural boundaries</li> <li>Keep tests focused and independent</li> <li>Use appropriate test categories</li> <li>Run unit tests frequently during development</li> </ul>"},{"location":"reference/testing/#avoid","title":"\u274c Avoid","text":"<ul> <li>Testing private methods directly</li> <li>Over-mocking internal objects</li> <li>Coupling tests to implementation details</li> <li>Sharing state between tests</li> <li>Complex test setup that obscures intent</li> <li>Running integration tests unnecessarily</li> </ul> <p>For more examples and principles, see the Testing Guide.</p>"},{"location":"reference/autodoc/application/ports/inbound/message_handler/","title":"Message Handler","text":"<p>Inbound message-handling ports for the application layer.</p> <p>This module defines the contract for handling application messages (commands, queries, and domain events). Message handlers sit at the application boundary and orchestrate domain logic by invoking domain services, aggregates, value objects, and outbound ports.</p> <p>Responsibilities:     - Process an incoming message of a specific type.     - Delegate work to domain logic and outbound ports.     - Execute asynchronously.</p> <p>Non-Responsibilities:     - Infrastructure concerns (transport, serialization, queues).     - Transaction management (handled externally, e.g., by Unit of Work).     - Persistence (handled by repositories).</p>"},{"location":"reference/autodoc/application/ports/inbound/message_handler/#forging_blocks.application.ports.inbound.message_handler","title":"<code>message_handler</code>","text":"<p>Inbound message-handling ports for the application layer.</p> <p>This module defines the contract for handling application messages (commands, queries, and domain events). Message handlers sit at the application boundary and orchestrate domain logic by invoking domain services, aggregates, value objects, and outbound ports.</p> Responsibilities <ul> <li>Process an incoming message of a specific type.</li> <li>Delegate work to domain logic and outbound ports.</li> <li>Execute asynchronously.</li> </ul> Non-Responsibilities <ul> <li>Infrastructure concerns (transport, serialization, queues).</li> <li>Transaction management (handled externally, e.g., by Unit of Work).</li> <li>Persistence (handled by repositories).</li> </ul>"},{"location":"reference/autodoc/application/ports/inbound/message_handler/#forging_blocks.application.ports.inbound.message_handler.MessageHandler","title":"<code>MessageHandler</code>","text":"<p>               Bases: <code>InboundPort[MessageType, MessageHandlerResultType]</code>, <code>Protocol</code></p> <p>Inbound port for handling messages asynchronously.</p> <p>A MessageHandler defines the contract for processing a single message and producing a typed result. Implementations must avoid infrastructure dependencies and remain purely application-layer logic.</p> Implementers typically <ul> <li>Validate or transform the incoming message.</li> <li>Orchestrate domain operations.</li> <li>Invoke repositories, outbound ports, and publish domain events.</li> </ul> Source code in <code>src/forging_blocks/application/ports/inbound/message_handler.py</code> <pre><code>class MessageHandler(InboundPort[MessageType, MessageHandlerResultType], Protocol):\n    \"\"\"Inbound port for handling messages asynchronously.\n\n    A MessageHandler defines the contract for processing a single message\n    and producing a typed result. Implementations must avoid infrastructure\n    dependencies and remain purely application-layer logic.\n\n    Implementers typically:\n        - Validate or transform the incoming message.\n        - Orchestrate domain operations.\n        - Invoke repositories, outbound ports, and publish domain events.\n    \"\"\"\n\n    async def handle(self, message: MessageType) -&gt; MessageHandlerResultType:\n        \"\"\"Process a message and return an application result.\n\n        Args:\n            message: The message instance to handle.\n\n        Returns:\n            A value representing the result of the message processing.\n\n        Raises:\n            ApplicationError: If processing fails due to business logic violations.\n\n        Notes:\n            This method is asynchronous and should not block. Infrastructure\n            concerns such as retry logic or message acknowledgment must be\n            handled externally.\n        \"\"\"\n        ...\n</code></pre>"},{"location":"reference/autodoc/application/ports/inbound/message_handler/#forging_blocks.application.ports.inbound.message_handler.MessageHandler.handle","title":"<code>handle(message: MessageType) -&gt; MessageHandlerResultType</code>  <code>async</code>","text":"<p>Process a message and return an application result.</p> <p>Parameters:</p> Name Type Description Default <code>message</code> <code>MessageType</code> <p>The message instance to handle.</p> required <p>Returns:</p> Type Description <code>MessageHandlerResultType</code> <p>A value representing the result of the message processing.</p> <p>Raises:</p> Type Description <code>ApplicationError</code> <p>If processing fails due to business logic violations.</p> Notes <p>This method is asynchronous and should not block. Infrastructure concerns such as retry logic or message acknowledgment must be handled externally.</p> Source code in <code>src/forging_blocks/application/ports/inbound/message_handler.py</code> <pre><code>async def handle(self, message: MessageType) -&gt; MessageHandlerResultType:\n    \"\"\"Process a message and return an application result.\n\n    Args:\n        message: The message instance to handle.\n\n    Returns:\n        A value representing the result of the message processing.\n\n    Raises:\n        ApplicationError: If processing fails due to business logic violations.\n\n    Notes:\n        This method is asynchronous and should not block. Infrastructure\n        concerns such as retry logic or message acknowledgment must be\n        handled externally.\n    \"\"\"\n    ...\n</code></pre>"},{"location":"reference/autodoc/application/ports/inbound/use_case/","title":"Use Case","text":"<p>Inbound application port for executing use cases.</p> <p>Use cases define the application\u2019s orchestration boundary: they coordinate domain operations to fulfill a specific application intent. Use cases are pure application-layer logic and must not depend on infrastructure details.</p> <p>Responsibilities:     - Orchestrate domain interactions.     - Call repositories, outbound ports, and aggregates.     - Maintain transactional consistency (via Unit of Work).</p> <p>Non-Responsibilities:     - Transport logic (HTTP, messaging systems).     - Persistence implementation details.     - UI or framework-specific concerns.</p>"},{"location":"reference/autodoc/application/ports/inbound/use_case/#forging_blocks.application.ports.inbound.use_case","title":"<code>use_case</code>","text":"<p>Inbound application port for executing use cases.</p> <p>Use cases define the application\u2019s orchestration boundary: they coordinate domain operations to fulfill a specific application intent. Use cases are pure application-layer logic and must not depend on infrastructure details.</p> Responsibilities <ul> <li>Orchestrate domain interactions.</li> <li>Call repositories, outbound ports, and aggregates.</li> <li>Maintain transactional consistency (via Unit of Work).</li> </ul> Non-Responsibilities <ul> <li>Transport logic (HTTP, messaging systems).</li> <li>Persistence implementation details.</li> <li>UI or framework-specific concerns.</li> </ul>"},{"location":"reference/autodoc/application/ports/inbound/use_case/#forging_blocks.application.ports.inbound.use_case.UseCase","title":"<code>UseCase</code>","text":"<p>               Bases: <code>InboundPort[RequestType, ResponseType]</code>, <code>Protocol</code></p> <p>Inbound port for defining application use case operations.</p> <p>A UseCase represents an application-level action that may involve multiple domain objects and outbound interactions. Use cases must remain free of infrastructure dependencies and must uphold application-level invariants.</p> Source code in <code>src/forging_blocks/application/ports/inbound/use_case.py</code> <pre><code>class UseCase(InboundPort[RequestType, ResponseType], Protocol):\n    \"\"\"Inbound port for defining application use case operations.\n\n    A UseCase represents an application-level action that may involve multiple\n    domain objects and outbound interactions. Use cases must remain free of\n    infrastructure dependencies and must uphold application-level invariants.\n    \"\"\"\n\n    async def execute(self, request: RequestType) -&gt; ResponseType:\n        \"\"\"Execute the use case asynchronously.\n\n        Args:\n            request: The request DTO carrying user or system input.\n\n        Returns:\n            A DTO or domain object representing the outcome.\n\n        Raises:\n            ApplicationError: If the use case fails for domain reasons.\n\n        Notes:\n            This method is asynchronous and should not perform blocking operations.\n        \"\"\"\n        ...\n</code></pre>"},{"location":"reference/autodoc/application/ports/inbound/use_case/#forging_blocks.application.ports.inbound.use_case.UseCase.execute","title":"<code>execute(request: RequestType) -&gt; ResponseType</code>  <code>async</code>","text":"<p>Execute the use case asynchronously.</p> <p>Parameters:</p> Name Type Description Default <code>request</code> <code>RequestType</code> <p>The request DTO carrying user or system input.</p> required <p>Returns:</p> Type Description <code>ResponseType</code> <p>A DTO or domain object representing the outcome.</p> <p>Raises:</p> Type Description <code>ApplicationError</code> <p>If the use case fails for domain reasons.</p> Notes <p>This method is asynchronous and should not perform blocking operations.</p> Source code in <code>src/forging_blocks/application/ports/inbound/use_case.py</code> <pre><code>async def execute(self, request: RequestType) -&gt; ResponseType:\n    \"\"\"Execute the use case asynchronously.\n\n    Args:\n        request: The request DTO carrying user or system input.\n\n    Returns:\n        A DTO or domain object representing the outcome.\n\n    Raises:\n        ApplicationError: If the use case fails for domain reasons.\n\n    Notes:\n        This method is asynchronous and should not perform blocking operations.\n    \"\"\"\n    ...\n</code></pre>"},{"location":"reference/autodoc/application/ports/outbound/command_sender/","title":"Command Sender","text":"<p>Outbound port for asynchronously sending commands.</p> <p>This module defines a CommandSender, an application-layer abstraction for dispatching commands via an external message bus. It decouples command issuance from transport details and message broker implementations.</p> <p>Responsibilities:     - Forward commands to an injected MessageBus.     - Abstract message dispatch mechanism.</p> <p>Non-Responsibilities:     - Delivery guarantees (at-least-once, ordering, retries).     - Serialization or transport concerns.</p>"},{"location":"reference/autodoc/application/ports/outbound/command_sender/#forging_blocks.application.ports.outbound.command_sender","title":"<code>command_sender</code>","text":"<p>Outbound port for asynchronously sending commands.</p> <p>This module defines a CommandSender, an application-layer abstraction for dispatching commands via an external message bus. It decouples command issuance from transport details and message broker implementations.</p> Responsibilities <ul> <li>Forward commands to an injected MessageBus.</li> <li>Abstract message dispatch mechanism.</li> </ul> Non-Responsibilities <ul> <li>Delivery guarantees (at-least-once, ordering, retries).</li> <li>Serialization or transport concerns.</li> </ul>"},{"location":"reference/autodoc/application/ports/outbound/command_sender/#forging_blocks.application.ports.outbound.command_sender.CommandSender","title":"<code>CommandSender</code>","text":"<p>               Bases: <code>OutboundPort[Command, None]</code></p> <p>Outbound port for asynchronously sending command messages.</p> <p>The CommandSender delegates message dispatching to a MessageBus. It is typically used by use cases or handlers that need to trigger command-side operations in other parts of the system.</p> Source code in <code>src/forging_blocks/application/ports/outbound/command_sender.py</code> <pre><code>class CommandSender(OutboundPort[Command, None]):\n    \"\"\"Outbound port for asynchronously sending command messages.\n\n    The CommandSender delegates message dispatching to a MessageBus. It is\n    typically used by use cases or handlers that need to trigger command-side\n    operations in other parts of the system.\n    \"\"\"\n\n    def __init__(self, message_bus: MessageBus[Command, None]) -&gt; None:\n        self._message_bus = message_bus\n\n    async def send(self, command: Command) -&gt; None:\n        \"\"\"Send a command asynchronously.\n\n        Args:\n            command: The command instance to dispatch.\n\n        Notes:\n            - This operation is fire-and-forget from the application's\n              perspective.\n            - Delivery semantics depend on the underlying MessageBus\n              implementation.\n        \"\"\"\n        await self._message_bus.dispatch(command)\n</code></pre>"},{"location":"reference/autodoc/application/ports/outbound/command_sender/#forging_blocks.application.ports.outbound.command_sender.CommandSender.send","title":"<code>send(command: Command) -&gt; None</code>  <code>async</code>","text":"<p>Send a command asynchronously.</p> <p>Parameters:</p> Name Type Description Default <code>command</code> <code>Command</code> <p>The command instance to dispatch.</p> required Notes <ul> <li>This operation is fire-and-forget from the application's   perspective.</li> <li>Delivery semantics depend on the underlying MessageBus   implementation.</li> </ul> Source code in <code>src/forging_blocks/application/ports/outbound/command_sender.py</code> <pre><code>async def send(self, command: Command) -&gt; None:\n    \"\"\"Send a command asynchronously.\n\n    Args:\n        command: The command instance to dispatch.\n\n    Notes:\n        - This operation is fire-and-forget from the application's\n          perspective.\n        - Delivery semantics depend on the underlying MessageBus\n          implementation.\n    \"\"\"\n    await self._message_bus.dispatch(command)\n</code></pre>"},{"location":"reference/autodoc/application/ports/outbound/event_publisher/","title":"Event Publisher","text":"<p>Outbound port for asynchronously publishing domain events.</p> <p>This module defines an EventPublisher that sends domain events to an external message bus or event broker. Infrastructure implementations determine durability, ordering, and delivery guarantees.</p> <p>Responsibilities:     - Publish domain events after domain changes occur.     - Forward events to a message bus.</p> <p>Non-Responsibilities:     - Persist events.     - Guarantee ordering or durability.</p>"},{"location":"reference/autodoc/application/ports/outbound/event_publisher/#forging_blocks.application.ports.outbound.event_publisher","title":"<code>event_publisher</code>","text":"<p>Outbound port for asynchronously publishing domain events.</p> <p>This module defines an EventPublisher that sends domain events to an external message bus or event broker. Infrastructure implementations determine durability, ordering, and delivery guarantees.</p> Responsibilities <ul> <li>Publish domain events after domain changes occur.</li> <li>Forward events to a message bus.</li> </ul> Non-Responsibilities <ul> <li>Persist events.</li> <li>Guarantee ordering or durability.</li> </ul>"},{"location":"reference/autodoc/application/ports/outbound/event_publisher/#forging_blocks.application.ports.outbound.event_publisher.EventPublisher","title":"<code>EventPublisher</code>","text":"<p>               Bases: <code>OutboundPort[Event, None]</code></p> <p>Outbound port for publishing domain events asynchronously.</p> <p>An EventPublisher provides an abstraction over event transport. Use cases or application services call it to publish domain events after state transitions. The underlying MessageBus determines the delivery semantics.</p> Source code in <code>src/forging_blocks/application/ports/outbound/event_publisher.py</code> <pre><code>class EventPublisher(OutboundPort[Event, None]):\n    \"\"\"Outbound port for publishing domain events asynchronously.\n\n    An EventPublisher provides an abstraction over event transport. Use cases\n    or application services call it to publish domain events after state\n    transitions. The underlying MessageBus determines the delivery semantics.\n    \"\"\"\n\n    def __init__(self, message_bus: MessageBus[Event, None]) -&gt; None:\n        self._message_bus = message_bus\n\n    async def publish(self, event: Event) -&gt; None:\n        \"\"\"Publish a domain event.\n\n        Args:\n            event: The domain event to publish.\n\n        Notes:\n            - Asynchronous and fire-and-forget.\n            - Delivery reliability depends on the MessageBus implementation.\n        \"\"\"\n        await self._message_bus.dispatch(event)\n</code></pre>"},{"location":"reference/autodoc/application/ports/outbound/event_publisher/#forging_blocks.application.ports.outbound.event_publisher.EventPublisher.publish","title":"<code>publish(event: Event) -&gt; None</code>  <code>async</code>","text":"<p>Publish a domain event.</p> <p>Parameters:</p> Name Type Description Default <code>event</code> <code>Event</code> <p>The domain event to publish.</p> required Notes <ul> <li>Asynchronous and fire-and-forget.</li> <li>Delivery reliability depends on the MessageBus implementation.</li> </ul> Source code in <code>src/forging_blocks/application/ports/outbound/event_publisher.py</code> <pre><code>async def publish(self, event: Event) -&gt; None:\n    \"\"\"Publish a domain event.\n\n    Args:\n        event: The domain event to publish.\n\n    Notes:\n        - Asynchronous and fire-and-forget.\n        - Delivery reliability depends on the MessageBus implementation.\n    \"\"\"\n    await self._message_bus.dispatch(event)\n</code></pre>"},{"location":"reference/autodoc/application/ports/outbound/message_bus/","title":"Message Bus","text":"<p>Outbound port defining the MessageBus abstraction.</p> <p>A MessageBus provides a generic asynchronous dispatch mechanism for commands, queries, or events. It is the central connector between application ports and transport infrastructure (queues, brokers, in-memory routing, etc.).</p> <p>Responsibilities:     - Route messages of various types to their respective handlers or transports.     - Provide an asynchronous dispatch API.</p> <p>Non-Responsibilities:     - Business logic.     - Handler invocation policies unless explicitly implemented.     - Delivery guarantees (up to infrastructure).</p>"},{"location":"reference/autodoc/application/ports/outbound/message_bus/#forging_blocks.application.ports.outbound.message_bus","title":"<code>message_bus</code>","text":"<p>Outbound port defining the MessageBus abstraction.</p> <p>A MessageBus provides a generic asynchronous dispatch mechanism for commands, queries, or events. It is the central connector between application ports and transport infrastructure (queues, brokers, in-memory routing, etc.).</p> Responsibilities <ul> <li>Route messages of various types to their respective handlers or transports.</li> <li>Provide an asynchronous dispatch API.</li> </ul> Non-Responsibilities <ul> <li>Business logic.</li> <li>Handler invocation policies unless explicitly implemented.</li> <li>Delivery guarantees (up to infrastructure).</li> </ul>"},{"location":"reference/autodoc/application/ports/outbound/message_bus/#forging_blocks.application.ports.outbound.message_bus.MessageBus","title":"<code>MessageBus</code>","text":"<p>               Bases: <code>OutboundPort[MessageType, MessageBusResultType]</code>, <code>Protocol</code></p> <p>Outbound port representing a generic asynchronous message bus.</p> <p>A MessageBus dispatches messages to infrastructure or internal handlers. Implementations vary from simple function routers to networked brokers.</p> Source code in <code>src/forging_blocks/application/ports/outbound/message_bus.py</code> <pre><code>class MessageBus(OutboundPort[MessageType, MessageBusResultType], Protocol):\n    \"\"\"Outbound port representing a generic asynchronous message bus.\n\n    A MessageBus dispatches messages to infrastructure or internal handlers.\n    Implementations vary from simple function routers to networked brokers.\n    \"\"\"\n\n    async def dispatch(self, message: MessageType) -&gt; MessageBusResultType:\n        \"\"\"Dispatch a message to the configured handler or transport.\n\n        Args:\n            message: The message instance to dispatch.\n\n        Returns:\n            A typed result depending on the nature of the message.\n\n        Notes:\n            Infrastructure determines:\n                - routing strategy,\n                - reliability,\n                - ordering,\n                - concurrency model.\n        \"\"\"\n        ...\n</code></pre>"},{"location":"reference/autodoc/application/ports/outbound/message_bus/#forging_blocks.application.ports.outbound.message_bus.MessageBus.dispatch","title":"<code>dispatch(message: MessageType) -&gt; MessageBusResultType</code>  <code>async</code>","text":"<p>Dispatch a message to the configured handler or transport.</p> <p>Parameters:</p> Name Type Description Default <code>message</code> <code>MessageType</code> <p>The message instance to dispatch.</p> required <p>Returns:</p> Type Description <code>MessageBusResultType</code> <p>A typed result depending on the nature of the message.</p> Notes <p>Infrastructure determines:     - routing strategy,     - reliability,     - ordering,     - concurrency model.</p> Source code in <code>src/forging_blocks/application/ports/outbound/message_bus.py</code> <pre><code>async def dispatch(self, message: MessageType) -&gt; MessageBusResultType:\n    \"\"\"Dispatch a message to the configured handler or transport.\n\n    Args:\n        message: The message instance to dispatch.\n\n    Returns:\n        A typed result depending on the nature of the message.\n\n    Notes:\n        Infrastructure determines:\n            - routing strategy,\n            - reliability,\n            - ordering,\n            - concurrency model.\n    \"\"\"\n    ...\n</code></pre>"},{"location":"reference/autodoc/application/ports/outbound/notifier/","title":"Notifier","text":"<p>Outbound port defining an asynchronous notification service.</p> <p>A Notifier provides an abstraction for sending notification messages using external delivery channels such as email, SMS, chat systems, or push notifications.</p> <p>Responsibilities:     - Send notification messages asynchronously.</p> <p>Non-Responsibilities:     - Guarantee delivery.     - Implement retries or throttling unless defined by infrastructure.</p>"},{"location":"reference/autodoc/application/ports/outbound/notifier/#forging_blocks.application.ports.outbound.notifier","title":"<code>notifier</code>","text":"<p>Outbound port defining an asynchronous notification service.</p> <p>A Notifier provides an abstraction for sending notification messages using external delivery channels such as email, SMS, chat systems, or push notifications.</p> Responsibilities <ul> <li>Send notification messages asynchronously.</li> </ul> Non-Responsibilities <ul> <li>Guarantee delivery.</li> <li>Implement retries or throttling unless defined by infrastructure.</li> </ul>"},{"location":"reference/autodoc/application/ports/outbound/notifier/#forging_blocks.application.ports.outbound.notifier.Notifier","title":"<code>Notifier</code>","text":"<p>               Bases: <code>OutboundPort[NotificationType, None]</code>, <code>Generic[NotificationType]</code>, <code>Protocol</code></p> <p>Outbound port for sending asynchronous notifications.</p> <p>Implementers integrate with concrete notification systems. The application layer must not depend on infrastructure details beyond this abstraction.</p> Source code in <code>src/forging_blocks/application/ports/outbound/notifier.py</code> <pre><code>class Notifier(\n    OutboundPort[NotificationType, None], Generic[NotificationType], Protocol\n):\n    \"\"\"Outbound port for sending asynchronous notifications.\n\n    Implementers integrate with concrete notification systems. The\n    application layer must not depend on infrastructure details beyond this\n    abstraction.\n    \"\"\"\n\n    async def notify(self, message: NotificationType) -&gt; None:\n        \"\"\"Send a notification.\n\n        Args:\n            message: The message to deliver.\n\n        Notes:\n            - Fire-and-forget behavior unless documented otherwise.\n            - Delivery semantics are infrastructure-defined.\n        \"\"\"\n        ...\n</code></pre>"},{"location":"reference/autodoc/application/ports/outbound/notifier/#forging_blocks.application.ports.outbound.notifier.Notifier.notify","title":"<code>notify(message: NotificationType) -&gt; None</code>  <code>async</code>","text":"<p>Send a notification.</p> <p>Parameters:</p> Name Type Description Default <code>message</code> <code>NotificationType</code> <p>The message to deliver.</p> required Notes <ul> <li>Fire-and-forget behavior unless documented otherwise.</li> <li>Delivery semantics are infrastructure-defined.</li> </ul> Source code in <code>src/forging_blocks/application/ports/outbound/notifier.py</code> <pre><code>async def notify(self, message: NotificationType) -&gt; None:\n    \"\"\"Send a notification.\n\n    Args:\n        message: The message to deliver.\n\n    Notes:\n        - Fire-and-forget behavior unless documented otherwise.\n        - Delivery semantics are infrastructure-defined.\n    \"\"\"\n    ...\n</code></pre>"},{"location":"reference/autodoc/application/ports/outbound/query_fetcher/","title":"Query Fetcher","text":"<p>Outbound port for asynchronously fetching query results.</p> <p>QueryFetcher provides an application-layer abstraction for retrieving data by dispatching query messages through a MessageBus. It supports CQRS-style architectures where queries are processed independently of commands.</p> <p>Responsibilities:     - Forward queries to the message bus.     - Return the result of the query execution.</p> <p>Non-Responsibilities:     - Define caching or projection logic.     - Guarantee consistency between read and write models.</p>"},{"location":"reference/autodoc/application/ports/outbound/query_fetcher/#forging_blocks.application.ports.outbound.query_fetcher","title":"<code>query_fetcher</code>","text":"<p>Outbound port for asynchronously fetching query results.</p> <p>QueryFetcher provides an application-layer abstraction for retrieving data by dispatching query messages through a MessageBus. It supports CQRS-style architectures where queries are processed independently of commands.</p> Responsibilities <ul> <li>Forward queries to the message bus.</li> <li>Return the result of the query execution.</li> </ul> Non-Responsibilities <ul> <li>Define caching or projection logic.</li> <li>Guarantee consistency between read and write models.</li> </ul>"},{"location":"reference/autodoc/application/ports/outbound/query_fetcher/#forging_blocks.application.ports.outbound.query_fetcher.QueryFetcher","title":"<code>QueryFetcher</code>","text":"<p>               Bases: <code>OutboundPort[Query, QueryFetcherResult]</code></p> <p>Outbound port for dispatching query messages.</p> <p>The QueryFetcher abstracts query execution through a MessageBus. It does not apply any interpretation to the returned data; shaping is the query handler\u2019s responsibility.</p> Source code in <code>src/forging_blocks/application/ports/outbound/query_fetcher.py</code> <pre><code>class QueryFetcher(OutboundPort[Query, QueryFetcherResult]):\n    \"\"\"Outbound port for dispatching query messages.\n\n    The QueryFetcher abstracts query execution through a MessageBus. It does\n    not apply any interpretation to the returned data; shaping is the query\n    handler\u2019s responsibility.\n    \"\"\"\n\n    def __init__(self, message_bus: MessageBus[Query, QueryFetcherResult]) -&gt; None:\n        self._message_bus = message_bus\n\n    async def fetch(self, query: Query) -&gt; QueryFetcherResult:\n        \"\"\"Fetch the result of a query.\n\n        Args:\n            query: The query instance.\n\n        Returns:\n            Any result returned by the underlying query handler.\n\n        Notes:\n            - Asynchronous execution.\n            - Data shape is determined by the handler responsible for the query.\n        \"\"\"\n        return await self._message_bus.dispatch(query)\n</code></pre>"},{"location":"reference/autodoc/application/ports/outbound/query_fetcher/#forging_blocks.application.ports.outbound.query_fetcher.QueryFetcher.fetch","title":"<code>fetch(query: Query) -&gt; QueryFetcherResult</code>  <code>async</code>","text":"<p>Fetch the result of a query.</p> <p>Parameters:</p> Name Type Description Default <code>query</code> <code>Query</code> <p>The query instance.</p> required <p>Returns:</p> Type Description <code>QueryFetcherResult</code> <p>Any result returned by the underlying query handler.</p> Notes <ul> <li>Asynchronous execution.</li> <li>Data shape is determined by the handler responsible for the query.</li> </ul> Source code in <code>src/forging_blocks/application/ports/outbound/query_fetcher.py</code> <pre><code>async def fetch(self, query: Query) -&gt; QueryFetcherResult:\n    \"\"\"Fetch the result of a query.\n\n    Args:\n        query: The query instance.\n\n    Returns:\n        Any result returned by the underlying query handler.\n\n    Notes:\n        - Asynchronous execution.\n        - Data shape is determined by the handler responsible for the query.\n    \"\"\"\n    return await self._message_bus.dispatch(query)\n</code></pre>"},{"location":"reference/autodoc/application/ports/outbound/repository/","title":"Repository","text":"<p>Generic repository interfaces for Domain-Driven Design.</p> <p>This module defines repository interfaces used to persist and retrieve aggregate roots. Repositories abstract infrastructure concerns and offer type-safe contracts for both command-side and query-side data access in CQRS or traditional architectures.</p> <p>Responsibilities:     - Persist and retrieve aggregates.     - Abstract away storage mechanisms.</p> <p>Non-Responsibilities:     - Implement business invariants (aggregate enforces them).     - Expose ORM models or database APIs directly.</p>"},{"location":"reference/autodoc/application/ports/outbound/repository/#forging_blocks.application.ports.outbound.repository","title":"<code>repository</code>","text":"<p>Generic repository interfaces for Domain-Driven Design.</p> <p>This module defines repository interfaces used to persist and retrieve aggregate roots. Repositories abstract infrastructure concerns and offer type-safe contracts for both command-side and query-side data access in CQRS or traditional architectures.</p> Responsibilities <ul> <li>Persist and retrieve aggregates.</li> <li>Abstract away storage mechanisms.</li> </ul> Non-Responsibilities <ul> <li>Implement business invariants (aggregate enforces them).</li> <li>Expose ORM models or database APIs directly.</li> </ul>"},{"location":"reference/autodoc/application/ports/outbound/repository/#forging_blocks.application.ports.outbound.repository.ReadOnlyRepository","title":"<code>ReadOnlyRepository</code>","text":"<p>               Bases: <code>Generic[TReadAggregateRoot, TId]</code>, <code>Protocol</code></p> <p>Read-only repository abstraction for query operations.</p> <p>This interface is optimized for query-side usage in CQRS architectures. It provides type-safe retrieval of aggregates or read models.</p> Source code in <code>src/forging_blocks/application/ports/outbound/repository.py</code> <pre><code>class ReadOnlyRepository(Generic[TReadAggregateRoot, TId], Protocol):\n    \"\"\"Read-only repository abstraction for query operations.\n\n    This interface is optimized for query-side usage in CQRS architectures.\n    It provides type-safe retrieval of aggregates or read models.\n    \"\"\"\n\n    async def get_by_id(self, id: TId) -&gt; TReadAggregateRoot | None:\n        \"\"\"Retrieve an aggregate or read model by ID.\n\n        Args:\n            id: Unique identifier of the resource.\n\n        Returns:\n            The retrieved instance or None if not found.\n\n        Notes:\n            Implementations may read from:\n                - read replicas,\n                - projections,\n                - cached read models.\n        \"\"\"\n        ...\n\n    async def list_all(self) -&gt; Sequence[TReadAggregateRoot]:\n        \"\"\"Retrieve all resources.\n\n        Returns:\n            A sequence of aggregate or read model instances.\n\n        Notes:\n            Data sources may differ from command-side storage.\n        \"\"\"\n        ...\n</code></pre>"},{"location":"reference/autodoc/application/ports/outbound/repository/#forging_blocks.application.ports.outbound.repository.ReadOnlyRepository.get_by_id","title":"<code>get_by_id(id: TId) -&gt; TReadAggregateRoot | None</code>  <code>async</code>","text":"<p>Retrieve an aggregate or read model by ID.</p> <p>Parameters:</p> Name Type Description Default <code>id</code> <code>TId</code> <p>Unique identifier of the resource.</p> required <p>Returns:</p> Type Description <code>TReadAggregateRoot | None</code> <p>The retrieved instance or None if not found.</p> Notes <p>Implementations may read from:     - read replicas,     - projections,     - cached read models.</p> Source code in <code>src/forging_blocks/application/ports/outbound/repository.py</code> <pre><code>async def get_by_id(self, id: TId) -&gt; TReadAggregateRoot | None:\n    \"\"\"Retrieve an aggregate or read model by ID.\n\n    Args:\n        id: Unique identifier of the resource.\n\n    Returns:\n        The retrieved instance or None if not found.\n\n    Notes:\n        Implementations may read from:\n            - read replicas,\n            - projections,\n            - cached read models.\n    \"\"\"\n    ...\n</code></pre>"},{"location":"reference/autodoc/application/ports/outbound/repository/#forging_blocks.application.ports.outbound.repository.ReadOnlyRepository.list_all","title":"<code>list_all() -&gt; Sequence[TReadAggregateRoot]</code>  <code>async</code>","text":"<p>Retrieve all resources.</p> <p>Returns:</p> Type Description <code>Sequence[TReadAggregateRoot]</code> <p>A sequence of aggregate or read model instances.</p> Notes <p>Data sources may differ from command-side storage.</p> Source code in <code>src/forging_blocks/application/ports/outbound/repository.py</code> <pre><code>async def list_all(self) -&gt; Sequence[TReadAggregateRoot]:\n    \"\"\"Retrieve all resources.\n\n    Returns:\n        A sequence of aggregate or read model instances.\n\n    Notes:\n        Data sources may differ from command-side storage.\n    \"\"\"\n    ...\n</code></pre>"},{"location":"reference/autodoc/application/ports/outbound/repository/#forging_blocks.application.ports.outbound.repository.WriteOnlyRepository","title":"<code>WriteOnlyRepository</code>","text":"<p>               Bases: <code>Protocol</code>, <code>Generic[TWriteAggregateRoot, TWriteId]</code></p> <p>Write-only repository abstraction for command operations.</p> <p>This interface supports command-side operations where writes are applied independently from read-side storage.</p> Source code in <code>src/forging_blocks/application/ports/outbound/repository.py</code> <pre><code>class WriteOnlyRepository(Protocol, Generic[TWriteAggregateRoot, TWriteId]):\n    \"\"\"Write-only repository abstraction for command operations.\n\n    This interface supports command-side operations where writes are applied\n    independently from read-side storage.\n    \"\"\"\n\n    async def delete_by_id(self, id: TWriteId) -&gt; None:\n        \"\"\"Delete an aggregate by ID.\n\n        Args:\n            id: Unique identifier of the aggregate.\n\n        Raises:\n            RepositoryError: If deletion fails.\n        \"\"\"\n        ...\n\n    async def save(self, aggregate: TWriteAggregateRoot) -&gt; None:\n        \"\"\"Persist an aggregate instance.\n\n        Args:\n            aggregate: The aggregate to save.\n        \"\"\"\n        ...\n</code></pre>"},{"location":"reference/autodoc/application/ports/outbound/repository/#forging_blocks.application.ports.outbound.repository.WriteOnlyRepository.delete_by_id","title":"<code>delete_by_id(id: TWriteId) -&gt; None</code>  <code>async</code>","text":"<p>Delete an aggregate by ID.</p> <p>Parameters:</p> Name Type Description Default <code>id</code> <code>TWriteId</code> <p>Unique identifier of the aggregate.</p> required <p>Raises:</p> Type Description <code>RepositoryError</code> <p>If deletion fails.</p> Source code in <code>src/forging_blocks/application/ports/outbound/repository.py</code> <pre><code>async def delete_by_id(self, id: TWriteId) -&gt; None:\n    \"\"\"Delete an aggregate by ID.\n\n    Args:\n        id: Unique identifier of the aggregate.\n\n    Raises:\n        RepositoryError: If deletion fails.\n    \"\"\"\n    ...\n</code></pre>"},{"location":"reference/autodoc/application/ports/outbound/repository/#forging_blocks.application.ports.outbound.repository.WriteOnlyRepository.save","title":"<code>save(aggregate: TWriteAggregateRoot) -&gt; None</code>  <code>async</code>","text":"<p>Persist an aggregate instance.</p> <p>Parameters:</p> Name Type Description Default <code>aggregate</code> <code>TWriteAggregateRoot</code> <p>The aggregate to save.</p> required Source code in <code>src/forging_blocks/application/ports/outbound/repository.py</code> <pre><code>async def save(self, aggregate: TWriteAggregateRoot) -&gt; None:\n    \"\"\"Persist an aggregate instance.\n\n    Args:\n        aggregate: The aggregate to save.\n    \"\"\"\n    ...\n</code></pre>"},{"location":"reference/autodoc/application/ports/outbound/repository/#forging_blocks.application.ports.outbound.repository.Repository","title":"<code>Repository</code>","text":"<p>               Bases: <code>ReadOnlyRepository[TAggregateRoot, TId]</code>, <code>WriteOnlyRepository[TAggregateRoot, TId]</code>, <code>Protocol</code></p> <p>Full CRUD repository abstraction.</p> <p>Combines read and write capabilities into a single repository interface. Suitable for non-CQRS applications or simplified contexts.</p> Source code in <code>src/forging_blocks/application/ports/outbound/repository.py</code> <pre><code>class Repository(\n    ReadOnlyRepository[TAggregateRoot, TId],\n    WriteOnlyRepository[TAggregateRoot, TId],\n    Protocol,\n):\n    \"\"\"Full CRUD repository abstraction.\n\n    Combines read and write capabilities into a single repository interface.\n    Suitable for non-CQRS applications or simplified contexts.\n    \"\"\"\n\n    ...\n</code></pre>"},{"location":"reference/autodoc/application/ports/outbound/unit_of_work/","title":"Unit Of Work","text":"<p>Unit of Work abstraction for transactional consistency.</p> <p>A UnitOfWork defines a transactional boundary for application operations. It coordinates the persistence of aggregate changes and the publication of domain events, ensuring atomicity across these actions.</p> <p>Responsibilities:     - Manage a transactional context.     - Commit or roll back changes.     - Publish domain events upon successful commit.</p> <p>Non-Responsibilities:     - Execute business logic.     - Interact directly with aggregates.</p>"},{"location":"reference/autodoc/application/ports/outbound/unit_of_work/#forging_blocks.application.ports.outbound.unit_of_work","title":"<code>unit_of_work</code>","text":"<p>Unit of Work abstraction for transactional consistency.</p> <p>A UnitOfWork defines a transactional boundary for application operations. It coordinates the persistence of aggregate changes and the publication of domain events, ensuring atomicity across these actions.</p> Responsibilities <ul> <li>Manage a transactional context.</li> <li>Commit or roll back changes.</li> <li>Publish domain events upon successful commit.</li> </ul> Non-Responsibilities <ul> <li>Execute business logic.</li> <li>Interact directly with aggregates.</li> </ul>"},{"location":"reference/autodoc/application/ports/outbound/unit_of_work/#forging_blocks.application.ports.outbound.unit_of_work.UnitOfWorkError","title":"<code>UnitOfWorkError</code>","text":"<p>               Bases: <code>Error</code></p> <p>Error raised when a Unit of Work operation fails.</p> Source code in <code>src/forging_blocks/application/ports/outbound/unit_of_work.py</code> <pre><code>class UnitOfWorkError(Error):\n    \"\"\"Error raised when a Unit of Work operation fails.\"\"\"\n\n    pass\n</code></pre>"},{"location":"reference/autodoc/application/ports/outbound/unit_of_work/#forging_blocks.application.ports.outbound.unit_of_work.UnitOfWork","title":"<code>UnitOfWork</code>","text":"<p>               Bases: <code>ABC</code></p> <p>Abstract base class for managing transactional consistency.</p> <p>A UnitOfWork coordinates operations across multiple repositories and outbound ports. It ensures that state changes and domain events are published atomically.</p> Source code in <code>src/forging_blocks/application/ports/outbound/unit_of_work.py</code> <pre><code>class UnitOfWork(ABC):\n    \"\"\"Abstract base class for managing transactional consistency.\n\n    A UnitOfWork coordinates operations across multiple repositories and\n    outbound ports. It ensures that state changes and domain events are\n    published atomically.\n    \"\"\"\n\n    async def __aenter__(self) -&gt; UnitOfWork:\n        \"\"\"Enter the Unit of Work context.\n\n        Returns:\n            The active UnitOfWork instance.\n        \"\"\"\n        return self\n\n    async def __aexit__(\n        self,\n        exc_type: type | None,\n        exc_value: BaseException | None,\n        traceback: TracebackType | None,\n    ) -&gt; None:\n        \"\"\"Exit the Unit of Work context.\n\n        Commits if no exception occurred; otherwise rolls back.\n\n        Args:\n            exc_type: Raised exception type if any.\n            exc_value: Exception instance.\n            traceback: Execution traceback.\n        \"\"\"\n        if exc_type is None:\n            await self.commit()\n        else:\n            await self.rollback()\n\n    @property\n    @abstractmethod\n    def session(self) -&gt; Any | None:\n        \"\"\"Return the underlying session or transactional context.\n\n        Returns:\n            A context object representing the transaction, or None.\n\n        Notes:\n            This is infrastructure-defined (DB session, connection, etc.).\n        \"\"\"\n        ...\n\n    @abstractmethod\n    async def commit(self) -&gt; None:\n        \"\"\"Commit all changes in the Unit of Work.\n\n        This operation should:\n            - Persist all modified aggregates.\n            - Publish domain events collected during the transaction.\n            - Ensure atomicity.\n\n        Raises:\n            UnitOfWorkError: If commit fails.\n        \"\"\"\n        ...\n\n    @abstractmethod\n    async def rollback(self) -&gt; None:\n        \"\"\"Roll back the transaction and discard uncommitted changes.\"\"\"\n        ...\n</code></pre>"},{"location":"reference/autodoc/application/ports/outbound/unit_of_work/#forging_blocks.application.ports.outbound.unit_of_work.UnitOfWork.session","title":"<code>session: Any | None</code>  <code>abstractmethod</code> <code>property</code>","text":"<p>Return the underlying session or transactional context.</p> <p>Returns:</p> Type Description <code>Any | None</code> <p>A context object representing the transaction, or None.</p> Notes <p>This is infrastructure-defined (DB session, connection, etc.).</p>"},{"location":"reference/autodoc/application/ports/outbound/unit_of_work/#forging_blocks.application.ports.outbound.unit_of_work.UnitOfWork.__aenter__","title":"<code>__aenter__() -&gt; UnitOfWork</code>  <code>async</code>","text":"<p>Enter the Unit of Work context.</p> <p>Returns:</p> Type Description <code>UnitOfWork</code> <p>The active UnitOfWork instance.</p> Source code in <code>src/forging_blocks/application/ports/outbound/unit_of_work.py</code> <pre><code>async def __aenter__(self) -&gt; UnitOfWork:\n    \"\"\"Enter the Unit of Work context.\n\n    Returns:\n        The active UnitOfWork instance.\n    \"\"\"\n    return self\n</code></pre>"},{"location":"reference/autodoc/application/ports/outbound/unit_of_work/#forging_blocks.application.ports.outbound.unit_of_work.UnitOfWork.__aexit__","title":"<code>__aexit__(exc_type: type | None, exc_value: BaseException | None, traceback: TracebackType | None) -&gt; None</code>  <code>async</code>","text":"<p>Exit the Unit of Work context.</p> <p>Commits if no exception occurred; otherwise rolls back.</p> <p>Parameters:</p> Name Type Description Default <code>exc_type</code> <code>type | None</code> <p>Raised exception type if any.</p> required <code>exc_value</code> <code>BaseException | None</code> <p>Exception instance.</p> required <code>traceback</code> <code>TracebackType | None</code> <p>Execution traceback.</p> required Source code in <code>src/forging_blocks/application/ports/outbound/unit_of_work.py</code> <pre><code>async def __aexit__(\n    self,\n    exc_type: type | None,\n    exc_value: BaseException | None,\n    traceback: TracebackType | None,\n) -&gt; None:\n    \"\"\"Exit the Unit of Work context.\n\n    Commits if no exception occurred; otherwise rolls back.\n\n    Args:\n        exc_type: Raised exception type if any.\n        exc_value: Exception instance.\n        traceback: Execution traceback.\n    \"\"\"\n    if exc_type is None:\n        await self.commit()\n    else:\n        await self.rollback()\n</code></pre>"},{"location":"reference/autodoc/application/ports/outbound/unit_of_work/#forging_blocks.application.ports.outbound.unit_of_work.UnitOfWork.commit","title":"<code>commit() -&gt; None</code>  <code>abstractmethod</code> <code>async</code>","text":"<p>Commit all changes in the Unit of Work.</p> This operation should <ul> <li>Persist all modified aggregates.</li> <li>Publish domain events collected during the transaction.</li> <li>Ensure atomicity.</li> </ul> <p>Raises:</p> Type Description <code>UnitOfWorkError</code> <p>If commit fails.</p> Source code in <code>src/forging_blocks/application/ports/outbound/unit_of_work.py</code> <pre><code>@abstractmethod\nasync def commit(self) -&gt; None:\n    \"\"\"Commit all changes in the Unit of Work.\n\n    This operation should:\n        - Persist all modified aggregates.\n        - Publish domain events collected during the transaction.\n        - Ensure atomicity.\n\n    Raises:\n        UnitOfWorkError: If commit fails.\n    \"\"\"\n    ...\n</code></pre>"},{"location":"reference/autodoc/application/ports/outbound/unit_of_work/#forging_blocks.application.ports.outbound.unit_of_work.UnitOfWork.rollback","title":"<code>rollback() -&gt; None</code>  <code>abstractmethod</code> <code>async</code>","text":"<p>Roll back the transaction and discard uncommitted changes.</p> Source code in <code>src/forging_blocks/application/ports/outbound/unit_of_work.py</code> <pre><code>@abstractmethod\nasync def rollback(self) -&gt; None:\n    \"\"\"Roll back the transaction and discard uncommitted changes.\"\"\"\n    ...\n</code></pre>"},{"location":"reference/autodoc/domain/aggregate_root/","title":"Aggregate Root","text":"<p>Module defining the base abstraction for Aggregate Roots and their version control.</p>"},{"location":"reference/autodoc/domain/aggregate_root/#forging_blocks.domain.aggregate_root","title":"<code>aggregate_root</code>","text":"<p>Module defining the base abstraction for Aggregate Roots and their version control.</p>"},{"location":"reference/autodoc/domain/aggregate_root/#forging_blocks.domain.aggregate_root.AggregateVersion","title":"<code>AggregateVersion</code>","text":"<p>               Bases: <code>ValueObject[int]</code></p> <p>Immutable value object representing the version of an aggregate root.</p> <p>Used for optimistic concurrency control to detect conflicting updates.</p> Source code in <code>src/forging_blocks/domain/aggregate_root.py</code> <pre><code>class AggregateVersion(ValueObject[int]):\n    \"\"\"Immutable value object representing the version of an aggregate root.\n\n    Used for optimistic concurrency control to detect conflicting updates.\n    \"\"\"\n\n    def __init__(self, value: int) -&gt; None:\n        if not isinstance(value, int):\n            raise TypeError(f\"Expected int, got {type(value).__name__}\")\n        if value &lt; 0:\n            raise ValueError(\"Version cannot be negative\")\n        self._value = value\n\n    @property\n    def value(self) -&gt; int:\n        \"\"\"Return the integer version value.\"\"\"\n        return self._value\n\n    def increment(self) -&gt; AggregateVersion:\n        \"\"\"Return a new AggregateVersion incremented by one.\"\"\"\n        return AggregateVersion(self._value + 1)\n\n    def _equality_components(self) -&gt; tuple[Hashable, ...]:\n        \"\"\"Components used for equality comparison.\"\"\"\n        return (self._value,)\n</code></pre>"},{"location":"reference/autodoc/domain/aggregate_root/#forging_blocks.domain.aggregate_root.AggregateVersion.value","title":"<code>value: int</code>  <code>property</code>","text":"<p>Return the integer version value.</p>"},{"location":"reference/autodoc/domain/aggregate_root/#forging_blocks.domain.aggregate_root.AggregateVersion.increment","title":"<code>increment() -&gt; AggregateVersion</code>","text":"<p>Return a new AggregateVersion incremented by one.</p> Source code in <code>src/forging_blocks/domain/aggregate_root.py</code> <pre><code>def increment(self) -&gt; AggregateVersion:\n    \"\"\"Return a new AggregateVersion incremented by one.\"\"\"\n    return AggregateVersion(self._value + 1)\n</code></pre>"},{"location":"reference/autodoc/domain/aggregate_root/#forging_blocks.domain.aggregate_root.AggregateRoot","title":"<code>AggregateRoot</code>","text":"<p>               Bases: <code>Entity[TId]</code>, <code>Generic[TId]</code>, <code>ABC</code></p> <p>Base class for Aggregate Roots in a Domain-Driven Design context.</p> <p>An Aggregate Root represents the entry point for manipulating a consistency boundary composed of entities and value objects. It encapsulates domain logic, maintains a version for concurrency control, and records uncommitted domain events.</p> Source code in <code>src/forging_blocks/domain/aggregate_root.py</code> <pre><code>class AggregateRoot(Entity[TId], Generic[TId], ABC):\n    \"\"\"Base class for Aggregate Roots in a Domain-Driven Design context.\n\n    An Aggregate Root represents the entry point for manipulating\n    a consistency boundary composed of entities and value objects.\n    It encapsulates domain logic, maintains a version for concurrency control,\n    and records uncommitted domain events.\n    \"\"\"\n\n    _uncommitted_events: list[Event]\n\n    def __init__(self, aggregate_id: TId, version: AggregateVersion | None = None) -&gt; None:\n        if not aggregate_id:\n            raise EntityIdNoneError(self.__class__.__name__)\n        self._version = version or AggregateVersion(0)\n        self._uncommitted_events = []\n        super().__init__(aggregate_id)\n\n    @property\n    def version(self) -&gt; AggregateVersion:\n        \"\"\"Return the current version of the aggregate.\"\"\"\n        return self._version\n\n    def collect_events(self) -&gt; list[Event]:\n        \"\"\"Collect uncommitted events, clear array, increment the version and return events.\"\"\"\n        events = self._uncommitted_events.copy()\n        self._uncommitted_events.clear()\n        self._increment_version()\n\n        return events\n\n    def record_event(self, domain_event: Event) -&gt; None:\n        \"\"\"Record a new domain event for later publication.\"\"\"\n        self._uncommitted_events.append(domain_event)\n\n    def uncommitted_changes(self) -&gt; list[Event]:\n        \"\"\"Return a copy of uncommitted domain events recorded by this aggregate.\"\"\"\n        return self._uncommitted_events.copy()\n\n    def _increment_version(self) -&gt; None:\n        \"\"\"Increment the aggregate's version value.\"\"\"\n        self._version = self._version.increment()\n</code></pre>"},{"location":"reference/autodoc/domain/aggregate_root/#forging_blocks.domain.aggregate_root.AggregateRoot.version","title":"<code>version: AggregateVersion</code>  <code>property</code>","text":"<p>Return the current version of the aggregate.</p>"},{"location":"reference/autodoc/domain/aggregate_root/#forging_blocks.domain.aggregate_root.AggregateRoot.collect_events","title":"<code>collect_events() -&gt; list[Event]</code>","text":"<p>Collect uncommitted events, clear array, increment the version and return events.</p> Source code in <code>src/forging_blocks/domain/aggregate_root.py</code> <pre><code>def collect_events(self) -&gt; list[Event]:\n    \"\"\"Collect uncommitted events, clear array, increment the version and return events.\"\"\"\n    events = self._uncommitted_events.copy()\n    self._uncommitted_events.clear()\n    self._increment_version()\n\n    return events\n</code></pre>"},{"location":"reference/autodoc/domain/aggregate_root/#forging_blocks.domain.aggregate_root.AggregateRoot.record_event","title":"<code>record_event(domain_event: Event) -&gt; None</code>","text":"<p>Record a new domain event for later publication.</p> Source code in <code>src/forging_blocks/domain/aggregate_root.py</code> <pre><code>def record_event(self, domain_event: Event) -&gt; None:\n    \"\"\"Record a new domain event for later publication.\"\"\"\n    self._uncommitted_events.append(domain_event)\n</code></pre>"},{"location":"reference/autodoc/domain/aggregate_root/#forging_blocks.domain.aggregate_root.AggregateRoot.uncommitted_changes","title":"<code>uncommitted_changes() -&gt; list[Event]</code>","text":"<p>Return a copy of uncommitted domain events recorded by this aggregate.</p> Source code in <code>src/forging_blocks/domain/aggregate_root.py</code> <pre><code>def uncommitted_changes(self) -&gt; list[Event]:\n    \"\"\"Return a copy of uncommitted domain events recorded by this aggregate.\"\"\"\n    return self._uncommitted_events.copy()\n</code></pre>"},{"location":"reference/autodoc/domain/entity/","title":"Entity","text":"<p>Base Entity class for domain layer.</p>"},{"location":"reference/autodoc/domain/entity/#forging_blocks.domain.entity","title":"<code>entity</code>","text":"<p>Base Entity class for domain layer.</p>"},{"location":"reference/autodoc/domain/entity/#forging_blocks.domain.entity.Entity","title":"<code>Entity</code>","text":"<p>               Bases: <code>Generic[TId]</code>, <code>ABC</code></p> <p>Base class for all domain entities.</p> <p>An entity is defined by its identity rather than its attributes. Two entities with the same identifier are considered equal, regardless of their other attributes.</p> Source code in <code>src/forging_blocks/domain/entity.py</code> <pre><code>class Entity(Generic[TId], ABC):\n    \"\"\"Base class for all domain entities.\n\n    An entity is defined by its identity rather than its attributes. Two entities with the same\n    identifier are considered equal, regardless of their other attributes.\n    \"\"\"\n\n    _id: TId | None\n    __is_frozen: bool\n\n    def __init__(self, entity_id: TId | None) -&gt; None:\n        object.__setattr__(self, \"_id\", entity_id)\n        object.__setattr__(self, \"_Entity__is_frozen\", True)\n\n    def __setattr__(self, name: str, value: Any) -&gt; None:\n        \"\"\"Prevent modification of '_id' once set.\"\"\"\n        if (\n            getattr(self, \"_Entity__is_frozen\", False)\n            and name == \"_id\"\n            and getattr(self, \"_id\", None) is not None\n            and value != self._id\n        ):\n            raise AttributeError(\n                f\"{self.__class__.__name__}: cannot modify '{name}' once set \"\n                f\"(current value={self._id!r}).\"\n            )\n        object.__setattr__(self, name, value)\n\n    def __delattr__(self, name: str) -&gt; None:\n        \"\"\"Prevent deletion of '_id'.\"\"\"\n        if name == \"_id\":\n            raise AttributeError(f\"{self.__class__.__name__}: cannot delete 'id'.\")\n        object.__delattr__(self, name)\n\n    def __eq__(self, other: object) -&gt; bool:\n        \"\"\"Check equality based on type and identifier.\"\"\"\n        if type(self) is not type(other):\n            return False\n\n        other_entty = cast(Entity[TId], other)\n\n        if self._id is None or other_entty._id is None:\n            return self is other_entty\n\n        return self._id == other_entty._id\n\n    def __hash__(self) -&gt; int:\n        \"\"\"Return the hash based on the entity's identifier.\n\n        Raises:\n            DraftEntityIsNotHashableError: If the entity is a draft (id is None).\n        \"\"\"\n        if self._id is None:\n            raise DraftEntityIsNotHashableError.from_class_name(self.__class__.__name__)\n        return hash(self._id)\n\n    def __str__(self) -&gt; str:\n        \"\"\"Return a user-friendly string representation of the entity.\"\"\"\n        return f\"{self.__class__.__name__}(id={self._id})\"\n\n    def __repr__(self) -&gt; str:\n        \"\"\"Return a developer-friendly string representation of the entity.\"\"\"\n        return str(self)\n\n    @property\n    def id(self) -&gt; TId | None:\n        \"\"\"Return the entity's identifier, or None if it's a draft entity.\"\"\"\n        return self._id\n\n    def is_persisted(self) -&gt; bool:\n        \"\"\"Return True if the entity has a defined identifier (i.e., is persisted).\"\"\"\n        return self._id is not None\n</code></pre>"},{"location":"reference/autodoc/domain/entity/#forging_blocks.domain.entity.Entity.id","title":"<code>id: TId | None</code>  <code>property</code>","text":"<p>Return the entity's identifier, or None if it's a draft entity.</p>"},{"location":"reference/autodoc/domain/entity/#forging_blocks.domain.entity.Entity.__setattr__","title":"<code>__setattr__(name: str, value: Any) -&gt; None</code>","text":"<p>Prevent modification of '_id' once set.</p> Source code in <code>src/forging_blocks/domain/entity.py</code> <pre><code>def __setattr__(self, name: str, value: Any) -&gt; None:\n    \"\"\"Prevent modification of '_id' once set.\"\"\"\n    if (\n        getattr(self, \"_Entity__is_frozen\", False)\n        and name == \"_id\"\n        and getattr(self, \"_id\", None) is not None\n        and value != self._id\n    ):\n        raise AttributeError(\n            f\"{self.__class__.__name__}: cannot modify '{name}' once set \"\n            f\"(current value={self._id!r}).\"\n        )\n    object.__setattr__(self, name, value)\n</code></pre>"},{"location":"reference/autodoc/domain/entity/#forging_blocks.domain.entity.Entity.__delattr__","title":"<code>__delattr__(name: str) -&gt; None</code>","text":"<p>Prevent deletion of '_id'.</p> Source code in <code>src/forging_blocks/domain/entity.py</code> <pre><code>def __delattr__(self, name: str) -&gt; None:\n    \"\"\"Prevent deletion of '_id'.\"\"\"\n    if name == \"_id\":\n        raise AttributeError(f\"{self.__class__.__name__}: cannot delete 'id'.\")\n    object.__delattr__(self, name)\n</code></pre>"},{"location":"reference/autodoc/domain/entity/#forging_blocks.domain.entity.Entity.__eq__","title":"<code>__eq__(other: object) -&gt; bool</code>","text":"<p>Check equality based on type and identifier.</p> Source code in <code>src/forging_blocks/domain/entity.py</code> <pre><code>def __eq__(self, other: object) -&gt; bool:\n    \"\"\"Check equality based on type and identifier.\"\"\"\n    if type(self) is not type(other):\n        return False\n\n    other_entty = cast(Entity[TId], other)\n\n    if self._id is None or other_entty._id is None:\n        return self is other_entty\n\n    return self._id == other_entty._id\n</code></pre>"},{"location":"reference/autodoc/domain/entity/#forging_blocks.domain.entity.Entity.__hash__","title":"<code>__hash__() -&gt; int</code>","text":"<p>Return the hash based on the entity's identifier.</p> <p>Raises:</p> Type Description <code>DraftEntityIsNotHashableError</code> <p>If the entity is a draft (id is None).</p> Source code in <code>src/forging_blocks/domain/entity.py</code> <pre><code>def __hash__(self) -&gt; int:\n    \"\"\"Return the hash based on the entity's identifier.\n\n    Raises:\n        DraftEntityIsNotHashableError: If the entity is a draft (id is None).\n    \"\"\"\n    if self._id is None:\n        raise DraftEntityIsNotHashableError.from_class_name(self.__class__.__name__)\n    return hash(self._id)\n</code></pre>"},{"location":"reference/autodoc/domain/entity/#forging_blocks.domain.entity.Entity.__str__","title":"<code>__str__() -&gt; str</code>","text":"<p>Return a user-friendly string representation of the entity.</p> Source code in <code>src/forging_blocks/domain/entity.py</code> <pre><code>def __str__(self) -&gt; str:\n    \"\"\"Return a user-friendly string representation of the entity.\"\"\"\n    return f\"{self.__class__.__name__}(id={self._id})\"\n</code></pre>"},{"location":"reference/autodoc/domain/entity/#forging_blocks.domain.entity.Entity.__repr__","title":"<code>__repr__() -&gt; str</code>","text":"<p>Return a developer-friendly string representation of the entity.</p> Source code in <code>src/forging_blocks/domain/entity.py</code> <pre><code>def __repr__(self) -&gt; str:\n    \"\"\"Return a developer-friendly string representation of the entity.\"\"\"\n    return str(self)\n</code></pre>"},{"location":"reference/autodoc/domain/entity/#forging_blocks.domain.entity.Entity.is_persisted","title":"<code>is_persisted() -&gt; bool</code>","text":"<p>Return True if the entity has a defined identifier (i.e., is persisted).</p> Source code in <code>src/forging_blocks/domain/entity.py</code> <pre><code>def is_persisted(self) -&gt; bool:\n    \"\"\"Return True if the entity has a defined identifier (i.e., is persisted).\"\"\"\n    return self._id is not None\n</code></pre>"},{"location":"reference/autodoc/domain/value_object/","title":"Value Object","text":"<p>Domain value objects module.</p> <p>This module provides the base ValueObject class for implementing domain value objects following the principles of Domain-Driven Design (DDD).</p>"},{"location":"reference/autodoc/domain/value_object/#forging_blocks.domain.value_object","title":"<code>value_object</code>","text":"<p>Domain value objects module.</p> <p>This module provides the base ValueObject class for implementing domain value objects following the principles of Domain-Driven Design (DDD).</p>"},{"location":"reference/autodoc/domain/value_object/#forging_blocks.domain.value_object.ValueObject","title":"<code>ValueObject</code>","text":"<p>               Bases: <code>ABC</code>, <code>Generic[RawValueType]</code></p> <p>Base class for all domain value objects.</p> <p>Value objects are immutable objects defined entirely by their attributes rather than by an identity. Two value objects with the same attributes are considered equal.</p> <p>This base class enforces immutability after initialization by blocking all further attribute assignments once frozen.</p> Example <p>class Email(ValueObject[str]): ...     slots = (\"_value\",) ... ...     def init(self, value: str): ...         super().init() ...         if \"@\" not in value: ...             raise ValueError(\"Invalid email format\") ...         self._value = value ...         self._freeze() ... ...     @property ...     def value(self) -&gt; str: ...         return self._value ... ...     def _equality_components(self) -&gt; tuple[Hashable, ...]: ...         return (self._value,)</p> Source code in <code>src/forging_blocks/domain/value_object.py</code> <pre><code>class ValueObject(ABC, Generic[RawValueType]):\n    \"\"\"Base class for all domain value objects.\n\n    Value objects are immutable objects defined entirely by their attributes\n    rather than by an identity. Two value objects with the same attributes\n    are considered equal.\n\n    This base class enforces immutability after initialization by blocking\n    all further attribute assignments once frozen.\n\n    Example:\n        &gt;&gt;&gt; class Email(ValueObject[str]):\n        ...     __slots__ = (\"_value\",)\n        ...\n        ...     def __init__(self, value: str):\n        ...         super().__init__()\n        ...         if \"@\" not in value:\n        ...             raise ValueError(\"Invalid email format\")\n        ...         self._value = value\n        ...         self._freeze()\n        ...\n        ...     @property\n        ...     def value(self) -&gt; str:\n        ...         return self._value\n        ...\n        ...     def _equality_components(self) -&gt; tuple[Hashable, ...]:\n        ...         return (self._value,)\n    \"\"\"\n\n    __is_frozen: bool = False\n\n    def __init__(self) -&gt; None:\n        \"\"\"Initialize the value object in a mutable state (for setup).\"\"\"\n        object.__setattr__(self, \"_ValueObject__is_frozen\", False)\n\n    def __setattr__(self, name: str, value: Any) -&gt; None:\n        \"\"\"Prevent modification once frozen.\"\"\"\n        immutability_error_message = (\n            f\"{self.__class__.__name__} is immutable: cannot modify '{name}' after initialization\"\n        )\n        if getattr(self, \"_ValueObject__is_frozen\", False):\n            raise AttributeError(immutability_error_message)\n        object.__setattr__(self, name, value)\n\n    def __eq__(self, other: object) -&gt; bool:\n        \"\"\"Check equality based on equality components.\"\"\"\n        if not isinstance(other, self.__class__):\n            return False\n        return self._equality_components() == other._equality_components()\n\n    def __hash__(self) -&gt; int:\n        \"\"\"Generate hash based on equality components.\"\"\"\n        return hash(self._equality_components())\n\n    def __str__(self) -&gt; str:\n        \"\"\"Return a user-friendly string representation.\"\"\"\n        components = self._equality_components()\n        if len(components) == 1:\n            return f\"{self.__class__.__name__}({components[0]!r})\"\n        return f\"{self.__class__.__name__}{components!r}\"\n\n    def __repr__(self) -&gt; str:\n        \"\"\"Return a developer-friendly string representation.\"\"\"\n        return self.__str__()\n\n    @property\n    @abstractmethod\n    def value(self) -&gt; RawValueType:\n        \"\"\"Get the primary raw value encapsulated by the ValueObject.\"\"\"\n        pass\n\n    def _freeze(self) -&gt; None:\n        \"\"\"Freeze the object to enforce immutability.\"\"\"\n        object.__setattr__(self, \"_ValueObject__is_frozen\", True)\n\n    @abstractmethod\n    def _equality_components(self) -&gt; tuple[Hashable, ...]:\n        \"\"\"Return the components used for equality comparison.\"\"\"\n        pass\n</code></pre>"},{"location":"reference/autodoc/domain/value_object/#forging_blocks.domain.value_object.ValueObject.value","title":"<code>value: RawValueType</code>  <code>abstractmethod</code> <code>property</code>","text":"<p>Get the primary raw value encapsulated by the ValueObject.</p>"},{"location":"reference/autodoc/domain/value_object/#forging_blocks.domain.value_object.ValueObject.__init__","title":"<code>__init__() -&gt; None</code>","text":"<p>Initialize the value object in a mutable state (for setup).</p> Source code in <code>src/forging_blocks/domain/value_object.py</code> <pre><code>def __init__(self) -&gt; None:\n    \"\"\"Initialize the value object in a mutable state (for setup).\"\"\"\n    object.__setattr__(self, \"_ValueObject__is_frozen\", False)\n</code></pre>"},{"location":"reference/autodoc/domain/value_object/#forging_blocks.domain.value_object.ValueObject.__setattr__","title":"<code>__setattr__(name: str, value: Any) -&gt; None</code>","text":"<p>Prevent modification once frozen.</p> Source code in <code>src/forging_blocks/domain/value_object.py</code> <pre><code>def __setattr__(self, name: str, value: Any) -&gt; None:\n    \"\"\"Prevent modification once frozen.\"\"\"\n    immutability_error_message = (\n        f\"{self.__class__.__name__} is immutable: cannot modify '{name}' after initialization\"\n    )\n    if getattr(self, \"_ValueObject__is_frozen\", False):\n        raise AttributeError(immutability_error_message)\n    object.__setattr__(self, name, value)\n</code></pre>"},{"location":"reference/autodoc/domain/value_object/#forging_blocks.domain.value_object.ValueObject.__eq__","title":"<code>__eq__(other: object) -&gt; bool</code>","text":"<p>Check equality based on equality components.</p> Source code in <code>src/forging_blocks/domain/value_object.py</code> <pre><code>def __eq__(self, other: object) -&gt; bool:\n    \"\"\"Check equality based on equality components.\"\"\"\n    if not isinstance(other, self.__class__):\n        return False\n    return self._equality_components() == other._equality_components()\n</code></pre>"},{"location":"reference/autodoc/domain/value_object/#forging_blocks.domain.value_object.ValueObject.__hash__","title":"<code>__hash__() -&gt; int</code>","text":"<p>Generate hash based on equality components.</p> Source code in <code>src/forging_blocks/domain/value_object.py</code> <pre><code>def __hash__(self) -&gt; int:\n    \"\"\"Generate hash based on equality components.\"\"\"\n    return hash(self._equality_components())\n</code></pre>"},{"location":"reference/autodoc/domain/value_object/#forging_blocks.domain.value_object.ValueObject.__str__","title":"<code>__str__() -&gt; str</code>","text":"<p>Return a user-friendly string representation.</p> Source code in <code>src/forging_blocks/domain/value_object.py</code> <pre><code>def __str__(self) -&gt; str:\n    \"\"\"Return a user-friendly string representation.\"\"\"\n    components = self._equality_components()\n    if len(components) == 1:\n        return f\"{self.__class__.__name__}({components[0]!r})\"\n    return f\"{self.__class__.__name__}{components!r}\"\n</code></pre>"},{"location":"reference/autodoc/domain/value_object/#forging_blocks.domain.value_object.ValueObject.__repr__","title":"<code>__repr__() -&gt; str</code>","text":"<p>Return a developer-friendly string representation.</p> Source code in <code>src/forging_blocks/domain/value_object.py</code> <pre><code>def __repr__(self) -&gt; str:\n    \"\"\"Return a developer-friendly string representation.\"\"\"\n    return self.__str__()\n</code></pre>"},{"location":"reference/autodoc/domain/errors/draft_entity_is_not_hashable_error/","title":"Draft Entity Is Not Hashable Error","text":"<p>Module defining the DraftEntityIsNotHashableError exception.</p>"},{"location":"reference/autodoc/domain/errors/draft_entity_is_not_hashable_error/#forging_blocks.domain.errors.draft_entity_is_not_hashable_error","title":"<code>draft_entity_is_not_hashable_error</code>","text":"<p>Module defining the DraftEntityIsNotHashableError exception.</p>"},{"location":"reference/autodoc/domain/errors/draft_entity_is_not_hashable_error/#forging_blocks.domain.errors.draft_entity_is_not_hashable_error.DraftEntityIsNotHashableError","title":"<code>DraftEntityIsNotHashableError</code>","text":"<p>               Bases: <code>Error</code></p> <p>Raised because draft entities are not hashable.</p> Source code in <code>src/forging_blocks/domain/errors/draft_entity_is_not_hashable_error.py</code> <pre><code>class DraftEntityIsNotHashableError(Error):\n    \"\"\"Raised because draft entities are not hashable.\"\"\"\n\n    @classmethod\n    def from_class_name(cls, class_name: str) -&gt; DraftEntityIsNotHashableError:\n        \"\"\"Create DraftEntityIsNotHashableError from class name.\"\"\"\n        error_text = f\"{class_name} is not hashable.\"\n        error_text = f\"Unhashable {class_name}: draft entities (id=None) are not hashable\"\n        error_message = ErrorMessage(error_text)\n\n        return cls(error_message)\n</code></pre>"},{"location":"reference/autodoc/domain/errors/draft_entity_is_not_hashable_error/#forging_blocks.domain.errors.draft_entity_is_not_hashable_error.DraftEntityIsNotHashableError.from_class_name","title":"<code>from_class_name(class_name: str) -&gt; DraftEntityIsNotHashableError</code>  <code>classmethod</code>","text":"<p>Create DraftEntityIsNotHashableError from class name.</p> Source code in <code>src/forging_blocks/domain/errors/draft_entity_is_not_hashable_error.py</code> <pre><code>@classmethod\ndef from_class_name(cls, class_name: str) -&gt; DraftEntityIsNotHashableError:\n    \"\"\"Create DraftEntityIsNotHashableError from class name.\"\"\"\n    error_text = f\"{class_name} is not hashable.\"\n    error_text = f\"Unhashable {class_name}: draft entities (id=None) are not hashable\"\n    error_message = ErrorMessage(error_text)\n\n    return cls(error_message)\n</code></pre>"},{"location":"reference/autodoc/domain/errors/entity_id_none_error/","title":"Entity Id None Error","text":"<p>Module defining the EntityIdNotNoneNotAllowedError.</p>"},{"location":"reference/autodoc/domain/errors/entity_id_none_error/#forging_blocks.domain.errors.entity_id_none_error","title":"<code>entity_id_none_error</code>","text":"<p>Module defining the EntityIdNotNoneNotAllowedError.</p>"},{"location":"reference/autodoc/domain/errors/entity_id_none_error/#forging_blocks.domain.errors.entity_id_none_error.EntityIdNoneError","title":"<code>EntityIdNoneError</code>","text":"<p>               Bases: <code>NoneNotAllowedError</code></p> <p>Raised when an entity ID is None but should not be.</p> Source code in <code>src/forging_blocks/domain/errors/entity_id_none_error.py</code> <pre><code>class EntityIdNoneError(NoneNotAllowedError):\n    \"\"\"Raised when an entity ID is None but should not be.\"\"\"\n\n    def __init__(self, entity_class_name: str) -&gt; None:\n        message = ErrorMessage(f\"Entity ID have to be defined for '{entity_class_name}'.\")\n        metadata = ErrorMetadata(\n            context={\n                \"entity_class_name\": entity_class_name,\n            }\n        )\n        super().__init__(message=message, metadata=metadata)\n</code></pre>"},{"location":"reference/autodoc/domain/messages/command/","title":"Command","text":"<p>Module defining the Command base class for domain commands.</p>"},{"location":"reference/autodoc/domain/messages/command/#forging_blocks.domain.messages.command","title":"<code>command</code>","text":"<p>Module defining the Command base class for domain commands.</p>"},{"location":"reference/autodoc/domain/messages/command/#forging_blocks.domain.messages.command.Command","title":"<code>Command</code>","text":"<p>               Bases: <code>Message[CommandRawType]</code></p> <p>Base class for all domain commands.</p> <p>Commands represent an intent to do something in the domain. They are requests that may succeed or fail, and they are handled by command handler.</p> <p>Commands are named in imperative mood (e.g., CreateOrder, RegisterCustomer, ProcessPayment).</p> Example <p>class CreateOrder(Command): ...     def init( ...         self, ...         customer_id: str, ...         items: list, ...         metadata: MessageMetadata | None = None ...     ): ...         super().init(metadata) ...         self._customer_id = customer_id ...         self._items = items ... ...     @property ...     def customer_id(self) -&gt; str: ...         return self._customer_id ... ...     @property ...     def items(self) -&gt; list: ...         return self._items ... ...     @property ...     def _payload(self) -&gt; dict[str, Any]: ...         return { ...             \"customer_id\": self._customer_id, ...             \"items\": self._items ...         }</p> Source code in <code>src/forging_blocks/domain/messages/command.py</code> <pre><code>class Command(Message[CommandRawType]):\n    \"\"\"Base class for all domain commands.\n\n    Commands represent an intent to do something in the domain.\n    They are requests that may succeed or fail, and they are handled by command handler.\n\n    Commands are named in imperative mood (e.g., CreateOrder, RegisterCustomer,\n    ProcessPayment).\n\n    Example:\n        &gt;&gt;&gt; class CreateOrder(Command):\n        ...     def __init__(\n        ...         self,\n        ...         customer_id: str,\n        ...         items: list,\n        ...         metadata: MessageMetadata | None = None\n        ...     ):\n        ...         super().__init__(metadata)\n        ...         self._customer_id = customer_id\n        ...         self._items = items\n        ...\n        ...     @property\n        ...     def customer_id(self) -&gt; str:\n        ...         return self._customer_id\n        ...\n        ...     @property\n        ...     def items(self) -&gt; list:\n        ...         return self._items\n        ...\n        ...     @property\n        ...     def _payload(self) -&gt; dict[str, Any]:\n        ...         return {\n        ...             \"customer_id\": self._customer_id,\n        ...             \"items\": self._items\n        ...         }\n    \"\"\"\n\n    @property\n    def command_id(self) -&gt; UUID:\n        \"\"\"Get the unique identifier for this command.\n\n        Returns:\n            UUID: The unique command identifier (same as message_id)\n        \"\"\"\n        return self.message_id\n\n    @property\n    def issued_at(self) -&gt; datetime:\n        \"\"\"Get the timestamp when this command was issued.\n\n        Returns:\n            datetime: When the command was issued (same as created_at)\n        \"\"\"\n        return self.created_at\n</code></pre>"},{"location":"reference/autodoc/domain/messages/command/#forging_blocks.domain.messages.command.Command.command_id","title":"<code>command_id: UUID</code>  <code>property</code>","text":"<p>Get the unique identifier for this command.</p> <p>Returns:</p> Name Type Description <code>UUID</code> <code>UUID</code> <p>The unique command identifier (same as message_id)</p>"},{"location":"reference/autodoc/domain/messages/command/#forging_blocks.domain.messages.command.Command.issued_at","title":"<code>issued_at: datetime</code>  <code>property</code>","text":"<p>Get the timestamp when this command was issued.</p> <p>Returns:</p> Name Type Description <code>datetime</code> <code>datetime</code> <p>When the command was issued (same as created_at)</p>"},{"location":"reference/autodoc/domain/messages/event/","title":"Event","text":"<p>Module defining the base Event class for domain events.</p>"},{"location":"reference/autodoc/domain/messages/event/#forging_blocks.domain.messages.event","title":"<code>event</code>","text":"<p>Module defining the base Event class for domain events.</p>"},{"location":"reference/autodoc/domain/messages/event/#forging_blocks.domain.messages.event.Event","title":"<code>Event</code>","text":"<p>               Bases: <code>Message[EventRawType]</code></p> <p>Base class for all domain events.</p> <p>Domain events represent something significant that happened in the domain. They are immutable facts about the past that other parts of the system can react to.</p> <p>Events are named in past tense (e.g., OrderCreated, CustomerRegistered, PaymentProcessed).</p> Example <p>class OrderCreated(Event): ...     def init( ...         self, ...         order_id: str, ...         customer_id: str, ...         total: float, ...         metadata: MessageMetadata | None = None ...     ): ...         super().init(metadata) ...         self._order_id = order_id ...         self._customer_id = customer_id ...         self._total = total ... ...     @property ...     def order_id(self) -&gt; str: ...         return self._order_id ... ...     @property ...     def customer_id(self) -&gt; str: ...         return self._customer_id ... ...     @property ...     def total(self) -&gt; float: ...         return self._total ... ...     @property ...     def payload(self) -&gt; dict[str, Any]: ...         return { ...             \"order_id\": self._order_id, ...             \"customer_id\": self._customer_id, ...             \"total\": self._total ...         }</p> Source code in <code>src/forging_blocks/domain/messages/event.py</code> <pre><code>class Event(Message[EventRawType]):\n    \"\"\"Base class for all domain events.\n\n    Domain events represent something significant that happened in the domain.\n    They are immutable facts about the past that other parts of the system can react to.\n\n    Events are named in past tense (e.g., OrderCreated, CustomerRegistered,\n    PaymentProcessed).\n\n    Example:\n        &gt;&gt;&gt; class OrderCreated(Event):\n        ...     def __init__(\n        ...         self,\n        ...         order_id: str,\n        ...         customer_id: str,\n        ...         total: float,\n        ...         metadata: MessageMetadata | None = None\n        ...     ):\n        ...         super().__init__(metadata)\n        ...         self._order_id = order_id\n        ...         self._customer_id = customer_id\n        ...         self._total = total\n        ...\n        ...     @property\n        ...     def order_id(self) -&gt; str:\n        ...         return self._order_id\n        ...\n        ...     @property\n        ...     def customer_id(self) -&gt; str:\n        ...         return self._customer_id\n        ...\n        ...     @property\n        ...     def total(self) -&gt; float:\n        ...         return self._total\n        ...\n        ...     @property\n        ...     def payload(self) -&gt; dict[str, Any]:\n        ...         return {\n        ...             \"order_id\": self._order_id,\n        ...             \"customer_id\": self._customer_id,\n        ...             \"total\": self._total\n        ...         }\n    \"\"\"\n\n    @property\n    def occurred_at(self) -&gt; datetime:\n        \"\"\"Get the timestamp when this event occurred.\n\n        Returns:\n            datetime: When the event occurred (UTC timezone)\n        \"\"\"\n        return self.created_at\n\n    @property\n    @abstractmethod\n    def _payload(self) -&gt; dict[str, Any]:\n        \"\"\"Get the domain-specific data carried by this event.\n\n        Returns:\n            dict[str, object]: The event payload as a dictionary\n        \"\"\"\n        pass\n</code></pre>"},{"location":"reference/autodoc/domain/messages/event/#forging_blocks.domain.messages.event.Event.occurred_at","title":"<code>occurred_at: datetime</code>  <code>property</code>","text":"<p>Get the timestamp when this event occurred.</p> <p>Returns:</p> Name Type Description <code>datetime</code> <code>datetime</code> <p>When the event occurred (UTC timezone)</p>"},{"location":"reference/autodoc/domain/messages/message/","title":"Message","text":"<p>Message module for domain messaging patterns.</p> <p>This module provides the base Message class and MessageMetadata for implementing domain messages following Domain-Driven Design (DDD) and CQRS principles.</p>"},{"location":"reference/autodoc/domain/messages/message/#forging_blocks.domain.messages.message","title":"<code>message</code>","text":"<p>Message module for domain messaging patterns.</p> <p>This module provides the base Message class and MessageMetadata for implementing domain messages following Domain-Driven Design (DDD) and CQRS principles.</p>"},{"location":"reference/autodoc/domain/messages/message/#forging_blocks.domain.messages.message.MessageMetadata","title":"<code>MessageMetadata</code>","text":"<p>               Bases: <code>ValueObject[dict[str, Any]]</code></p> <p>Metadata associated with domain messages.</p> <p>Contains infrastructure-level information about messages such as: - Unique message identifier - When the message was created - correlation_id is used to trace related messages across systems. - correlation_id is used to link messages that belong to the same business process. - causation_id is used to identify the immediate predecessor message that caused</p> <p>This separation allows messages to focus on domain data while keeping infrastructure concerns in metadata.</p> Example <p>metadata = MessageMetadata(message_type=\"OrderCreated\")</p> Source code in <code>src/forging_blocks/domain/messages/message.py</code> <pre><code>class MessageMetadata(ValueObject[dict[str, Any]]):\n    \"\"\"Metadata associated with domain messages.\n\n    Contains infrastructure-level information about messages such as:\n    - Unique message identifier\n    - When the message was created\n    - correlation_id is used to trace related messages across systems.\n    - correlation_id is used to link messages that belong to the same business process.\n    - causation_id is used to identify the immediate predecessor message that caused\n\n    This separation allows messages to focus on domain data while keeping\n    infrastructure concerns in metadata.\n\n    Example:\n        &gt;&gt;&gt; metadata = MessageMetadata(message_type=\"OrderCreated\")\n        &gt;&gt;&gt; # Or with custom values\n        &gt;&gt;&gt; custom_metadata = MessageMetadata(\n        ...     message_type=\"UserCreated\",\n        ...     message_id=UUID(\"123e4567-e89b-12d3-a456-426614174000\"),\n        ...     created_at=datetime(2025, 6, 11, 19, 36, 6, tzinfo=timezone.utc)\n        ... )\n    \"\"\"\n\n    def __init__(\n        self,\n        message_type: str,\n        message_id: UUID | None = None,\n        created_at: datetime | None = None,\n        correlation_id: UUID | None = None,\n        causation_id: UUID | None = None,\n    ) -&gt; None:\n        \"\"\"Initialize message metadata.\n\n        Args:\n            message_type: The type/name of the message.\n            message_id: Unique identifier for the message. If None, generates a\n                new UUID.\n            created_at: When the message was created. If None, uses current UTC time.\n            correlation_id: Identifier to correlate related messages. If None,\n                generates a new UUID.\n            causation_id: Identifier of the message that caused this one. If None,\n                generates a new UUID.\n        \"\"\"\n        self._message_type = message_type\n        self._message_id = message_id or uuid4()\n        self._created_at = created_at or now()\n        self._correlation_id = correlation_id or uuid4()\n        self._causation_id = causation_id or uuid4()\n\n    @property\n    def message_id(self) -&gt; UUID:\n        \"\"\"Get the unique identifier for this message.\n\n        Returns:\n            The unique message identifier.\n        \"\"\"\n        return self._message_id\n\n    @property\n    def causation_id(self) -&gt; UUID:\n        \"\"\"Get the causation ID for this message.\n\n        Returns:\n            The causation identifier.\n        \"\"\"\n        return self._causation_id\n\n    @property\n    def created_at(self) -&gt; datetime:\n        \"\"\"Get the timestamp when this message was created.\n\n        Returns:\n            When the message was created (UTC timezone).\n        \"\"\"\n        return self._created_at\n\n    @property\n    def correlation_id(self) -&gt; UUID:\n        \"\"\"Get the correlation ID for this message.\n\n        Returns:\n            The correlation identifier.\n        \"\"\"\n        return self._correlation_id\n\n    @property\n    def message_type(self) -&gt; str:\n        \"\"\"Get the type of this message.\n\n        Returns:\n            The message type name.\n        \"\"\"\n        return self._message_type\n\n    @property\n    def value(self) -&gt; dict[str, Any]:\n        \"\"\"Get the raw dictionary representation of the metadata.\"\"\"\n        return {\n            \"created_at\": self._created_at.isoformat(),\n            \"correlation_id\": str(self._correlation_id),\n            \"causation_id\": str(self._causation_id),\n            \"message_id\": str(self._message_id),\n            \"message_type\": self._message_type,\n        }\n\n    def to_dict(self) -&gt; dict[str, Any]:\n        \"\"\"Convert metadata to dictionary representation.\n\n        Returns:\n            Dictionary representation of the metadata.\n        \"\"\"\n        return self.value\n\n    def _equality_components(self) -&gt; tuple[Any, ...]:\n        \"\"\"Message metadata equality is based on message ID and timestamp.\n\n        Returns:\n            Tuple containing message_id and created_at.\n        \"\"\"\n        return (self._message_id, self._created_at)\n</code></pre>"},{"location":"reference/autodoc/domain/messages/message/#forging_blocks.domain.messages.message.MessageMetadata--or-with-custom-values","title":"Or with custom values","text":"<p>custom_metadata = MessageMetadata( ...     message_type=\"UserCreated\", ...     message_id=UUID(\"123e4567-e89b-12d3-a456-426614174000\"), ...     created_at=datetime(2025, 6, 11, 19, 36, 6, tzinfo=timezone.utc) ... )</p>"},{"location":"reference/autodoc/domain/messages/message/#forging_blocks.domain.messages.message.MessageMetadata.message_id","title":"<code>message_id: UUID</code>  <code>property</code>","text":"<p>Get the unique identifier for this message.</p> <p>Returns:</p> Type Description <code>UUID</code> <p>The unique message identifier.</p>"},{"location":"reference/autodoc/domain/messages/message/#forging_blocks.domain.messages.message.MessageMetadata.causation_id","title":"<code>causation_id: UUID</code>  <code>property</code>","text":"<p>Get the causation ID for this message.</p> <p>Returns:</p> Type Description <code>UUID</code> <p>The causation identifier.</p>"},{"location":"reference/autodoc/domain/messages/message/#forging_blocks.domain.messages.message.MessageMetadata.created_at","title":"<code>created_at: datetime</code>  <code>property</code>","text":"<p>Get the timestamp when this message was created.</p> <p>Returns:</p> Type Description <code>datetime</code> <p>When the message was created (UTC timezone).</p>"},{"location":"reference/autodoc/domain/messages/message/#forging_blocks.domain.messages.message.MessageMetadata.correlation_id","title":"<code>correlation_id: UUID</code>  <code>property</code>","text":"<p>Get the correlation ID for this message.</p> <p>Returns:</p> Type Description <code>UUID</code> <p>The correlation identifier.</p>"},{"location":"reference/autodoc/domain/messages/message/#forging_blocks.domain.messages.message.MessageMetadata.message_type","title":"<code>message_type: str</code>  <code>property</code>","text":"<p>Get the type of this message.</p> <p>Returns:</p> Type Description <code>str</code> <p>The message type name.</p>"},{"location":"reference/autodoc/domain/messages/message/#forging_blocks.domain.messages.message.MessageMetadata.value","title":"<code>value: dict[str, Any]</code>  <code>property</code>","text":"<p>Get the raw dictionary representation of the metadata.</p>"},{"location":"reference/autodoc/domain/messages/message/#forging_blocks.domain.messages.message.MessageMetadata.__init__","title":"<code>__init__(message_type: str, message_id: UUID | None = None, created_at: datetime | None = None, correlation_id: UUID | None = None, causation_id: UUID | None = None) -&gt; None</code>","text":"<p>Initialize message metadata.</p> <p>Parameters:</p> Name Type Description Default <code>message_type</code> <code>str</code> <p>The type/name of the message.</p> required <code>message_id</code> <code>UUID | None</code> <p>Unique identifier for the message. If None, generates a new UUID.</p> <code>None</code> <code>created_at</code> <code>datetime | None</code> <p>When the message was created. If None, uses current UTC time.</p> <code>None</code> <code>correlation_id</code> <code>UUID | None</code> <p>Identifier to correlate related messages. If None, generates a new UUID.</p> <code>None</code> <code>causation_id</code> <code>UUID | None</code> <p>Identifier of the message that caused this one. If None, generates a new UUID.</p> <code>None</code> Source code in <code>src/forging_blocks/domain/messages/message.py</code> <pre><code>def __init__(\n    self,\n    message_type: str,\n    message_id: UUID | None = None,\n    created_at: datetime | None = None,\n    correlation_id: UUID | None = None,\n    causation_id: UUID | None = None,\n) -&gt; None:\n    \"\"\"Initialize message metadata.\n\n    Args:\n        message_type: The type/name of the message.\n        message_id: Unique identifier for the message. If None, generates a\n            new UUID.\n        created_at: When the message was created. If None, uses current UTC time.\n        correlation_id: Identifier to correlate related messages. If None,\n            generates a new UUID.\n        causation_id: Identifier of the message that caused this one. If None,\n            generates a new UUID.\n    \"\"\"\n    self._message_type = message_type\n    self._message_id = message_id or uuid4()\n    self._created_at = created_at or now()\n    self._correlation_id = correlation_id or uuid4()\n    self._causation_id = causation_id or uuid4()\n</code></pre>"},{"location":"reference/autodoc/domain/messages/message/#forging_blocks.domain.messages.message.MessageMetadata.to_dict","title":"<code>to_dict() -&gt; dict[str, Any]</code>","text":"<p>Convert metadata to dictionary representation.</p> <p>Returns:</p> Type Description <code>dict[str, Any]</code> <p>Dictionary representation of the metadata.</p> Source code in <code>src/forging_blocks/domain/messages/message.py</code> <pre><code>def to_dict(self) -&gt; dict[str, Any]:\n    \"\"\"Convert metadata to dictionary representation.\n\n    Returns:\n        Dictionary representation of the metadata.\n    \"\"\"\n    return self.value\n</code></pre>"},{"location":"reference/autodoc/domain/messages/message/#forging_blocks.domain.messages.message.Message","title":"<code>Message</code>","text":"<p>               Bases: <code>ValueObject[MessageRawType]</code>, <code>ABC</code></p> <p>Base class for all domain messages.</p> <p>Messages are immutable value objects that represent intent or facts in the domain. This is the base class for Events (something that happened) and Commands (something to do).</p> <p>Features: - Immutable by design (inherits from ValueObject) - Contains MessageMetadata for infrastructure concerns - Focus on domain data in subclasses - Each message instance is unique (based on metadata.message_id)</p> <p>This class should not be used directly. Use Event or Command instead.</p> Source code in <code>src/forging_blocks/domain/messages/message.py</code> <pre><code>class Message(ValueObject[MessageRawType], ABC):\n    \"\"\"Base class for all domain messages.\n\n    Messages are immutable value objects that represent intent or facts in the domain.\n    This is the base class for Events (something that happened) and Commands\n    (something to do).\n\n    Features:\n    - Immutable by design (inherits from ValueObject)\n    - Contains MessageMetadata for infrastructure concerns\n    - Focus on domain data in subclasses\n    - Each message instance is unique (based on metadata.message_id)\n\n    This class should not be used directly. Use Event or Command instead.\n    \"\"\"\n\n    def __init__(self, metadata: MessageMetadata | None = None) -&gt; None:\n        \"\"\"Initialize the message with metadata.\n\n        Args:\n            metadata: Message metadata. If None, creates new metadata with\n                generated ID and current timestamp.\n        \"\"\"\n        effective_type = self.__class__.__name__\n        self._metadata = metadata or MessageMetadata(message_type=effective_type)\n\n    def __eq__(self, other: Any) -&gt; bool:\n        \"\"\"Check equality based on _equality_components.\"\"\"\n        if not isinstance(other, Message):\n            return False\n        return self._equality_components() == other._equality_components()\n\n    def __hash__(self) -&gt; int:\n        return hash(self._equality_components())\n\n    @property\n    def metadata(self) -&gt; MessageMetadata:\n        \"\"\"Get the message metadata.\n\n        Returns:\n            The message metadata containing ID, timestamp, etc.\n        \"\"\"\n        return self._metadata\n\n    @property\n    def message_id(self) -&gt; UUID:\n        \"\"\"Convenience property to get the message ID.\n\n        Returns:\n            The unique message identifier.\n        \"\"\"\n        return self._metadata.message_id\n\n    @property\n    def created_at(self) -&gt; datetime:\n        \"\"\"Convenience property to get when the message was created.\n\n        Returns:\n            When the message was created.\n        \"\"\"\n        return self._metadata.created_at\n\n    @property\n    @abstractmethod\n    def _payload(self) -&gt; dict[str, Any]:\n        \"\"\"Get the domain-specific data carried by this message.\n\n        Subclasses must implement this property to provide their specific message\n        data. This makes the Message class truly abstract.\n\n        Returns:\n            The message payload.\n        \"\"\"\n        pass\n\n    def to_dict(self) -&gt; dict[str, Any]:\n        \"\"\"Convert the message to a dictionary representation.\n\n        Combines metadata, message type, and domain data.\n\n        Returns:\n            Complete dictionary representation of the message.\n        \"\"\"\n        return {\n            \"metadata\": self._metadata.to_dict(),\n            \"payload\": self._payload,\n        }\n\n    def _equality_components(self) -&gt; tuple[Any, ...]:\n        \"\"\"Messages are equal if they have the same message ID.\n\n        Each message instance is unique, even if they have the same domain data.\n\n        Returns:\n            Tuple containing the message ID for equality comparison.\n        \"\"\"\n        return (self._metadata.message_id,)\n</code></pre>"},{"location":"reference/autodoc/domain/messages/message/#forging_blocks.domain.messages.message.Message.metadata","title":"<code>metadata: MessageMetadata</code>  <code>property</code>","text":"<p>Get the message metadata.</p> <p>Returns:</p> Type Description <code>MessageMetadata</code> <p>The message metadata containing ID, timestamp, etc.</p>"},{"location":"reference/autodoc/domain/messages/message/#forging_blocks.domain.messages.message.Message.message_id","title":"<code>message_id: UUID</code>  <code>property</code>","text":"<p>Convenience property to get the message ID.</p> <p>Returns:</p> Type Description <code>UUID</code> <p>The unique message identifier.</p>"},{"location":"reference/autodoc/domain/messages/message/#forging_blocks.domain.messages.message.Message.created_at","title":"<code>created_at: datetime</code>  <code>property</code>","text":"<p>Convenience property to get when the message was created.</p> <p>Returns:</p> Type Description <code>datetime</code> <p>When the message was created.</p>"},{"location":"reference/autodoc/domain/messages/message/#forging_blocks.domain.messages.message.Message.__init__","title":"<code>__init__(metadata: MessageMetadata | None = None) -&gt; None</code>","text":"<p>Initialize the message with metadata.</p> <p>Parameters:</p> Name Type Description Default <code>metadata</code> <code>MessageMetadata | None</code> <p>Message metadata. If None, creates new metadata with generated ID and current timestamp.</p> <code>None</code> Source code in <code>src/forging_blocks/domain/messages/message.py</code> <pre><code>def __init__(self, metadata: MessageMetadata | None = None) -&gt; None:\n    \"\"\"Initialize the message with metadata.\n\n    Args:\n        metadata: Message metadata. If None, creates new metadata with\n            generated ID and current timestamp.\n    \"\"\"\n    effective_type = self.__class__.__name__\n    self._metadata = metadata or MessageMetadata(message_type=effective_type)\n</code></pre>"},{"location":"reference/autodoc/domain/messages/message/#forging_blocks.domain.messages.message.Message.__eq__","title":"<code>__eq__(other: Any) -&gt; bool</code>","text":"<p>Check equality based on _equality_components.</p> Source code in <code>src/forging_blocks/domain/messages/message.py</code> <pre><code>def __eq__(self, other: Any) -&gt; bool:\n    \"\"\"Check equality based on _equality_components.\"\"\"\n    if not isinstance(other, Message):\n        return False\n    return self._equality_components() == other._equality_components()\n</code></pre>"},{"location":"reference/autodoc/domain/messages/message/#forging_blocks.domain.messages.message.Message.to_dict","title":"<code>to_dict() -&gt; dict[str, Any]</code>","text":"<p>Convert the message to a dictionary representation.</p> <p>Combines metadata, message type, and domain data.</p> <p>Returns:</p> Type Description <code>dict[str, Any]</code> <p>Complete dictionary representation of the message.</p> Source code in <code>src/forging_blocks/domain/messages/message.py</code> <pre><code>def to_dict(self) -&gt; dict[str, Any]:\n    \"\"\"Convert the message to a dictionary representation.\n\n    Combines metadata, message type, and domain data.\n\n    Returns:\n        Complete dictionary representation of the message.\n    \"\"\"\n    return {\n        \"metadata\": self._metadata.to_dict(),\n        \"payload\": self._payload,\n    }\n</code></pre>"},{"location":"reference/autodoc/domain/messages/message/#forging_blocks.domain.messages.message.now","title":"<code>now() -&gt; datetime</code>","text":"<p>Get the current UTC datetime.</p> Source code in <code>src/forging_blocks/domain/messages/message.py</code> <pre><code>def now() -&gt; datetime:\n    \"\"\"Get the current UTC datetime.\"\"\"\n    return datetime.now(timezone.utc)\n</code></pre>"},{"location":"reference/autodoc/domain/messages/query/","title":"Query","text":"<p>Module defining the base Query class for domain queries.</p>"},{"location":"reference/autodoc/domain/messages/query/#forging_blocks.domain.messages.query","title":"<code>query</code>","text":"<p>Module defining the base Query class for domain queries.</p>"},{"location":"reference/autodoc/domain/messages/query/#forging_blocks.domain.messages.query.Query","title":"<code>Query</code>","text":"<p>               Bases: <code>Message</code>, <code>ABC</code></p> <p>Base class for all domain queries.</p> <p>Queries represent a request to retrieve data from the domain. They are handled by query handlers and should not modify state.</p> <p>Queries are named in interrogative mood (e.g., GetOrder, FindCustomer, listProducts).</p> Example <p>class GetOrder(Query): ...     def init( ...         self, ...         order_id: str, ...         metadata: MessageMetadata | None = None ...     ): ...         super().init(metadata) ...         self._order_id = order_id ... ...     @property ...     def order_id(self) -&gt; str: ...         return self._order_id ... ...     @property ...     def payload(self) -&gt; dict[str, Any]: ...         return { ...             \"order_id\": self._order_id ...         }</p> Source code in <code>src/forging_blocks/domain/messages/query.py</code> <pre><code>class Query(Message, ABC):\n    \"\"\"Base class for all domain queries.\n\n    Queries represent a request to retrieve data from the domain.\n    They are handled by query handlers and should not modify state.\n\n    Queries are named in interrogative mood (e.g., GetOrder, FindCustomer,\n    listProducts).\n\n    Example:\n        &gt;&gt;&gt; class GetOrder(Query):\n        ...     def __init__(\n        ...         self,\n        ...         order_id: str,\n        ...         metadata: MessageMetadata | None = None\n        ...     ):\n        ...         super().__init__(metadata)\n        ...         self._order_id = order_id\n        ...\n        ...     @property\n        ...     def order_id(self) -&gt; str:\n        ...         return self._order_id\n        ...\n        ...     @property\n        ...     def payload(self) -&gt; dict[str, Any]:\n        ...         return {\n        ...             \"order_id\": self._order_id\n        ...         }\n    \"\"\"\n\n    @property\n    @abstractmethod\n    def _payload(self) -&gt; dict[str, Any]:\n        \"\"\"Get the domain-specific data carried by this query.\n\n        Returns:\n            dict[str, Any]: The query payload as a dictionary\n        \"\"\"\n        pass\n</code></pre>"},{"location":"reference/autodoc/foundation/debuggable/","title":"Debuggable","text":"<p>Module defining a protocol for debuggable objects.</p>"},{"location":"reference/autodoc/foundation/debuggable/#forging_blocks.foundation.debuggable","title":"<code>debuggable</code>","text":"<p>Module defining a protocol for debuggable objects.</p>"},{"location":"reference/autodoc/foundation/debuggable/#forging_blocks.foundation.debuggable.Debuggable","title":"<code>Debuggable</code>","text":"<p>               Bases: <code>Protocol</code></p> <p>Protocol for objects that can provide detailed debug string representations.</p> Source code in <code>src/forging_blocks/foundation/debuggable.py</code> <pre><code>class Debuggable(Protocol):\n    \"\"\"Protocol for objects that can provide detailed debug string representations.\"\"\"\n\n    def as_debug_string(self) -&gt; str:\n        \"\"\"Return a detailed, multi-line string describing this object for debugging.\"\"\"\n        ...\n</code></pre>"},{"location":"reference/autodoc/foundation/debuggable/#forging_blocks.foundation.debuggable.Debuggable.as_debug_string","title":"<code>as_debug_string() -&gt; str</code>","text":"<p>Return a detailed, multi-line string describing this object for debugging.</p> Source code in <code>src/forging_blocks/foundation/debuggable.py</code> <pre><code>def as_debug_string(self) -&gt; str:\n    \"\"\"Return a detailed, multi-line string describing this object for debugging.\"\"\"\n    ...\n</code></pre>"},{"location":"reference/autodoc/foundation/mapper/","title":"Mapper","text":"<p>Mapper Protocol for generic object transformation.</p>"},{"location":"reference/autodoc/foundation/mapper/#forging_blocks.foundation.mapper","title":"<code>mapper</code>","text":"<p>Mapper Protocol for generic object transformation.</p>"},{"location":"reference/autodoc/foundation/mapper/#forging_blocks.foundation.mapper.Mapper","title":"<code>Mapper</code>","text":"<p>               Bases: <code>Generic[SourceType, TargetType]</code>, <code>Protocol</code></p> <p>Protocol for mapping objects from one type to another.</p> <p>Mappers encapsulate transformation logic between types. This is a foundational abstraction that can be used across any context where object transformation is needed.</p> <p>The protocol uses variance annotations to ensure type safety:</p> <ul> <li><code>SourceType</code> is contravariant: accepts the declared type or supertypes</li> <li><code>TargetType</code> is covariant: returns the declared type or subtypes</li> </ul>"},{"location":"reference/autodoc/foundation/mapper/#forging_blocks.foundation.mapper.Mapper--type-parameters","title":"Type Parameters","text":"<ul> <li>SourceType \u2014 The input type to be transformed (contravariant)</li> <li>TargetType \u2014 The output type after transformation (covariant)</li> </ul>"},{"location":"reference/autodoc/foundation/mapper/#forging_blocks.foundation.mapper.Mapper--example","title":"Example","text":"<pre><code>class UserDTO:\n    def __init__(self, username: str, email: str):\n        self.username = username\n        self.email = email\n\nclass User:\n    def __init__(self, name: str, contact_email: str):\n        self.name = name\n        self.contact_email = contact_email\n\nclass UserMapper(Mapper[UserDTO, User]):\n    def map(self, source: UserDTO) -&gt; User:\n        return User(\n            name=source.username,\n            contact_email=source.email,\n        )\n\nmapper = UserMapper()\ndto = UserDTO(username=\"alice\", email=\"alice@example.com\")\nuser = mapper.map(dto)\n</code></pre> Source code in <code>src/forging_blocks/foundation/mapper.py</code> <pre><code>class Mapper(Generic[SourceType, TargetType], Protocol):\n    \"\"\"Protocol for mapping objects from one type to another.\n\n    Mappers encapsulate transformation logic between types. This is a\n    foundational abstraction that can be used across any context where\n    object transformation is needed.\n\n    The protocol uses variance annotations to ensure type safety:\n\n    - ``SourceType`` is **contravariant**: accepts the declared type or supertypes\n    - ``TargetType`` is **covariant**: returns the declared type or subtypes\n\n    ---\n    **Type Parameters**\n    -------------------\n    - **SourceType** \u2014 The input type to be transformed (contravariant)\n    - **TargetType** \u2014 The output type after transformation (covariant)\n\n    ---\n    **Example**\n    -----------\n\n    ```python\n    class UserDTO:\n        def __init__(self, username: str, email: str):\n            self.username = username\n            self.email = email\n\n    class User:\n        def __init__(self, name: str, contact_email: str):\n            self.name = name\n            self.contact_email = contact_email\n\n    class UserMapper(Mapper[UserDTO, User]):\n        def map(self, source: UserDTO) -&gt; User:\n            return User(\n                name=source.username,\n                contact_email=source.email,\n            )\n\n    mapper = UserMapper()\n    dto = UserDTO(username=\"alice\", email=\"alice@example.com\")\n    user = mapper.map(dto)\n    ```\n    \"\"\"\n\n    def map(self, source: SourceType) -&gt; TargetType:\n        \"\"\"Transform a source object into a target object.\n\n        Args:\n            source: The source object to be transformed.\n\n        Returns:\n            The transformed target object.\n        \"\"\"\n        ...\n</code></pre>"},{"location":"reference/autodoc/foundation/mapper/#forging_blocks.foundation.mapper.Mapper.map","title":"<code>map(source: SourceType) -&gt; TargetType</code>","text":"<p>Transform a source object into a target object.</p> <p>Parameters:</p> Name Type Description Default <code>source</code> <code>SourceType</code> <p>The source object to be transformed.</p> required <p>Returns:</p> Type Description <code>TargetType</code> <p>The transformed target object.</p> Source code in <code>src/forging_blocks/foundation/mapper.py</code> <pre><code>def map(self, source: SourceType) -&gt; TargetType:\n    \"\"\"Transform a source object into a target object.\n\n    Args:\n        source: The source object to be transformed.\n\n    Returns:\n        The transformed target object.\n    \"\"\"\n    ...\n</code></pre>"},{"location":"reference/autodoc/foundation/ports/","title":"Ports","text":"<p>Foundational port definition for the ForgingBlocks.</p>"},{"location":"reference/autodoc/foundation/ports/#forging_blocks.foundation.ports","title":"<code>ports</code>","text":"<p>Foundational port definition for the ForgingBlocks.</p>"},{"location":"reference/autodoc/foundation/ports/#forging_blocks.foundation.ports.Port","title":"<code>Port</code>","text":"<p>               Bases: <code>Protocol</code>, <code>Generic[InputType, OutputType]</code></p> <p>Base protocol for defining interface contracts.</p> <p>Port is a generic Protocol that serves as the foundation for interface declarations. It provides type parameters (InputType, OutputType) and defines no methods \u2014 it's a marker protocol that you extend to create your own specific interfaces.</p> <p>TYPE PARAMETERS: - <code>InputType</code>: The type of data accepted by operations on this interface (contravariant). - <code>OutputType</code>: The type of data returned by operations on this interface (covariant).</p> Source code in <code>src/forging_blocks/foundation/ports.py</code> <pre><code>class Port(Protocol, Generic[InputType, OutputType]):\n    \"\"\"Base protocol for defining interface contracts.\n\n    Port is a generic Protocol that serves as the foundation for interface\n    declarations. It provides type parameters (InputType, OutputType) and\n    defines no methods \u2014 it's a marker protocol that you extend to create your\n    own specific interfaces.\n\n    TYPE PARAMETERS:\n    - `InputType`: The type of data accepted by operations on this interface (contravariant).\n    - `OutputType`: The type of data returned by operations on this interface (covariant).\n    \"\"\"\n\n    ...\n</code></pre>"},{"location":"reference/autodoc/foundation/result/","title":"Result","text":"<p>Result type implementation inspired by Rust's Result enum.</p>"},{"location":"reference/autodoc/foundation/result/#forging_blocks.foundation.result","title":"<code>result</code>","text":"<p>Result type implementation inspired by Rust's Result enum.</p>"},{"location":"reference/autodoc/foundation/result/#forging_blocks.foundation.result.ResultAccessError","title":"<code>ResultAccessError</code>","text":"<p>               Bases: <code>Error</code></p> <p>Exception raised when trying to access value or err from an inappropriate Result variant.</p> Source code in <code>src/forging_blocks/foundation/result.py</code> <pre><code>class ResultAccessError(Error):\n    \"\"\"Exception raised when trying to access value or err from an inappropriate Result variant.\"\"\"\n\n    def __init__(self, message: ErrorMessage | None = None) -&gt; None:\n        if message is None:\n            message = ErrorMessage(\"Invalid access on Result type.\")\n        self._error_message = message\n        super().__init__(message)\n\n    def __str__(self) -&gt; str:\n        \"\"\"Readable string representation.\"\"\"\n        return self._error_message.value\n\n    @property\n    def message(self) -&gt; ErrorMessage:\n        \"\"\"Return the stored message as a string.\"\"\"\n        return self._error_message\n\n    @classmethod\n    def cannot_access_value(cls) -&gt; ResultAccessError:\n        \"\"\"Create an error for accessing value from an Err Result.\"\"\"\n        return cls(ErrorMessage(\"Cannot access value from an Err Result.\"))\n\n    @classmethod\n    def cannot_access_error(cls) -&gt; ResultAccessError:\n        \"\"\"Create an error for accessing error from an Ok Result.\"\"\"\n        return cls(ErrorMessage(\"Cannot access error from an Ok Result.\"))\n</code></pre>"},{"location":"reference/autodoc/foundation/result/#forging_blocks.foundation.result.ResultAccessError.message","title":"<code>message: ErrorMessage</code>  <code>property</code>","text":"<p>Return the stored message as a string.</p>"},{"location":"reference/autodoc/foundation/result/#forging_blocks.foundation.result.ResultAccessError.__str__","title":"<code>__str__() -&gt; str</code>","text":"<p>Readable string representation.</p> Source code in <code>src/forging_blocks/foundation/result.py</code> <pre><code>def __str__(self) -&gt; str:\n    \"\"\"Readable string representation.\"\"\"\n    return self._error_message.value\n</code></pre>"},{"location":"reference/autodoc/foundation/result/#forging_blocks.foundation.result.ResultAccessError.cannot_access_value","title":"<code>cannot_access_value() -&gt; ResultAccessError</code>  <code>classmethod</code>","text":"<p>Create an error for accessing value from an Err Result.</p> Source code in <code>src/forging_blocks/foundation/result.py</code> <pre><code>@classmethod\ndef cannot_access_value(cls) -&gt; ResultAccessError:\n    \"\"\"Create an error for accessing value from an Err Result.\"\"\"\n    return cls(ErrorMessage(\"Cannot access value from an Err Result.\"))\n</code></pre>"},{"location":"reference/autodoc/foundation/result/#forging_blocks.foundation.result.ResultAccessError.cannot_access_error","title":"<code>cannot_access_error() -&gt; ResultAccessError</code>  <code>classmethod</code>","text":"<p>Create an error for accessing error from an Ok Result.</p> Source code in <code>src/forging_blocks/foundation/result.py</code> <pre><code>@classmethod\ndef cannot_access_error(cls) -&gt; ResultAccessError:\n    \"\"\"Create an error for accessing error from an Ok Result.\"\"\"\n    return cls(ErrorMessage(\"Cannot access error from an Ok Result.\"))\n</code></pre>"},{"location":"reference/autodoc/foundation/result/#forging_blocks.foundation.result.Result","title":"<code>Result</code>","text":"<p>               Bases: <code>Generic[ResultType, ErrorType]</code>, <code>Protocol</code></p> <p>A type that represents either a success (Ok) or an error (Err).</p> Source code in <code>src/forging_blocks/foundation/result.py</code> <pre><code>class Result(Generic[ResultType, ErrorType], Protocol):\n    \"\"\"A type that represents either a success (Ok) or an error (Err).\"\"\"\n\n    @property\n    def is_ok(self) -&gt; bool:\n        \"\"\"Guard method to check if that Result is an ok.\"\"\"\n        ...\n\n    @property\n    def is_err(self) -&gt; bool:\n        \"\"\"Guard method to check if that Result is an err.\"\"\"\n        ...\n\n    @property\n    def value(self) -&gt; ResultType | None:\n        \"\"\"Method to return the actual value. May raise an error if Result is an Err.\"\"\"\n        ...\n\n    @property\n    def error(self) -&gt; ErrorType | None:\n        \"\"\"Method to return the actual error. May raise an error if Result is an Ok.\"\"\"\n        ...\n</code></pre>"},{"location":"reference/autodoc/foundation/result/#forging_blocks.foundation.result.Result.is_ok","title":"<code>is_ok: bool</code>  <code>property</code>","text":"<p>Guard method to check if that Result is an ok.</p>"},{"location":"reference/autodoc/foundation/result/#forging_blocks.foundation.result.Result.is_err","title":"<code>is_err: bool</code>  <code>property</code>","text":"<p>Guard method to check if that Result is an err.</p>"},{"location":"reference/autodoc/foundation/result/#forging_blocks.foundation.result.Result.value","title":"<code>value: ResultType | None</code>  <code>property</code>","text":"<p>Method to return the actual value. May raise an error if Result is an Err.</p>"},{"location":"reference/autodoc/foundation/result/#forging_blocks.foundation.result.Result.error","title":"<code>error: ErrorType | None</code>  <code>property</code>","text":"<p>Method to return the actual error. May raise an error if Result is an Ok.</p>"},{"location":"reference/autodoc/foundation/result/#forging_blocks.foundation.result.Ok","title":"<code>Ok</code>","text":"<p>               Bases: <code>Result[ResultType, ErrorType]</code>, <code>Generic[ResultType, ErrorType]</code></p> <p>Represents a successful result.</p> Source code in <code>src/forging_blocks/foundation/result.py</code> <pre><code>class Ok(Result[ResultType, ErrorType], Generic[ResultType, ErrorType]):\n    \"\"\"Represents a successful result.\"\"\"\n\n    __match_args__ = (\"_value\",)\n\n    def __init__(self, value: ResultType) -&gt; None:\n        self._value = value\n\n    def __str__(self) -&gt; str:\n        \"\"\"Return a string representation of the Ok result.\"\"\"\n        return f\"Ok({self._value})\"\n\n    def __repr__(self) -&gt; str:\n        \"\"\"Return a string representation of the Ok result.\"\"\"\n        return f\"Ok({self._value!r})\"\n\n    def __eq__(self, other: object) -&gt; bool:\n        \"\"\"Check equality with another Ok result.\"\"\"\n        return isinstance(other, Ok) and self._value == other._value\n\n    def __hash__(self) -&gt; int:\n        \"\"\"Return the hash of the Ok result.\"\"\"\n        return hash(self._value)\n\n    @property\n    def is_err(self) -&gt; bool:\n        \"\"\"Check if the result is an error.\"\"\"\n        return False\n\n    @property\n    def is_ok(self) -&gt; bool:\n        \"\"\"Check if the result is ok.\"\"\"\n        return True\n\n    @property\n    def value(self) -&gt; ResultType:\n        \"\"\"Get the successful value.\"\"\"\n        return self._value\n\n    @property\n    def error(self) -&gt; None:\n        \"\"\"Attempting to get error from an Ok result raises an error.\"\"\"\n        raise ResultAccessError.cannot_access_error()\n</code></pre>"},{"location":"reference/autodoc/foundation/result/#forging_blocks.foundation.result.Ok.is_err","title":"<code>is_err: bool</code>  <code>property</code>","text":"<p>Check if the result is an error.</p>"},{"location":"reference/autodoc/foundation/result/#forging_blocks.foundation.result.Ok.is_ok","title":"<code>is_ok: bool</code>  <code>property</code>","text":"<p>Check if the result is ok.</p>"},{"location":"reference/autodoc/foundation/result/#forging_blocks.foundation.result.Ok.value","title":"<code>value: ResultType</code>  <code>property</code>","text":"<p>Get the successful value.</p>"},{"location":"reference/autodoc/foundation/result/#forging_blocks.foundation.result.Ok.error","title":"<code>error: None</code>  <code>property</code>","text":"<p>Attempting to get error from an Ok result raises an error.</p>"},{"location":"reference/autodoc/foundation/result/#forging_blocks.foundation.result.Ok.__str__","title":"<code>__str__() -&gt; str</code>","text":"<p>Return a string representation of the Ok result.</p> Source code in <code>src/forging_blocks/foundation/result.py</code> <pre><code>def __str__(self) -&gt; str:\n    \"\"\"Return a string representation of the Ok result.\"\"\"\n    return f\"Ok({self._value})\"\n</code></pre>"},{"location":"reference/autodoc/foundation/result/#forging_blocks.foundation.result.Ok.__repr__","title":"<code>__repr__() -&gt; str</code>","text":"<p>Return a string representation of the Ok result.</p> Source code in <code>src/forging_blocks/foundation/result.py</code> <pre><code>def __repr__(self) -&gt; str:\n    \"\"\"Return a string representation of the Ok result.\"\"\"\n    return f\"Ok({self._value!r})\"\n</code></pre>"},{"location":"reference/autodoc/foundation/result/#forging_blocks.foundation.result.Ok.__eq__","title":"<code>__eq__(other: object) -&gt; bool</code>","text":"<p>Check equality with another Ok result.</p> Source code in <code>src/forging_blocks/foundation/result.py</code> <pre><code>def __eq__(self, other: object) -&gt; bool:\n    \"\"\"Check equality with another Ok result.\"\"\"\n    return isinstance(other, Ok) and self._value == other._value\n</code></pre>"},{"location":"reference/autodoc/foundation/result/#forging_blocks.foundation.result.Ok.__hash__","title":"<code>__hash__() -&gt; int</code>","text":"<p>Return the hash of the Ok result.</p> Source code in <code>src/forging_blocks/foundation/result.py</code> <pre><code>def __hash__(self) -&gt; int:\n    \"\"\"Return the hash of the Ok result.\"\"\"\n    return hash(self._value)\n</code></pre>"},{"location":"reference/autodoc/foundation/result/#forging_blocks.foundation.result.Err","title":"<code>Err</code>","text":"<p>               Bases: <code>Result[ResultType, ErrorType]</code>, <code>Generic[ResultType, ErrorType]</code></p> <p>Represents an error result.</p> Source code in <code>src/forging_blocks/foundation/result.py</code> <pre><code>class Err(Result[ResultType, ErrorType], Generic[ResultType, ErrorType]):\n    \"\"\"Represents an error result.\"\"\"\n\n    __match_args__ = (\"_error\",)\n\n    def __init__(self, error: ErrorType) -&gt; None:\n        self._error = error\n\n    def __repr__(self) -&gt; str:\n        \"\"\"Return a string representation of the Err result.\"\"\"\n        return f\"Err({self._error!r})\"\n\n    def __str__(self) -&gt; str:\n        \"\"\"Return a string representation of the Err result.\"\"\"\n        return f\"Err({self._error})\"\n\n    def __eq__(self, other: object) -&gt; bool:\n        \"\"\"Check equality with another Err result.\"\"\"\n        return isinstance(other, Err) and self._error == other._error\n\n    def __hash__(self) -&gt; int:\n        \"\"\"Return the hash of the Err result.\"\"\"\n        return hash(self._error)\n\n    @property\n    def is_err(self) -&gt; bool:\n        \"\"\"Check if the result is an error.\"\"\"\n        return True\n\n    @property\n    def is_ok(self) -&gt; bool:\n        \"\"\"Check if the result is ok.\"\"\"\n        return False\n\n    @property\n    def value(self) -&gt; None:\n        \"\"\"Attempting to get value from an Err result raises an error.\"\"\"\n        raise ResultAccessError.cannot_access_value()\n\n    @property\n    def error(self) -&gt; ErrorType:\n        \"\"\"Get the error value.\"\"\"\n        return self._error\n</code></pre>"},{"location":"reference/autodoc/foundation/result/#forging_blocks.foundation.result.Err.is_err","title":"<code>is_err: bool</code>  <code>property</code>","text":"<p>Check if the result is an error.</p>"},{"location":"reference/autodoc/foundation/result/#forging_blocks.foundation.result.Err.is_ok","title":"<code>is_ok: bool</code>  <code>property</code>","text":"<p>Check if the result is ok.</p>"},{"location":"reference/autodoc/foundation/result/#forging_blocks.foundation.result.Err.value","title":"<code>value: None</code>  <code>property</code>","text":"<p>Attempting to get value from an Err result raises an error.</p>"},{"location":"reference/autodoc/foundation/result/#forging_blocks.foundation.result.Err.error","title":"<code>error: ErrorType</code>  <code>property</code>","text":"<p>Get the error value.</p>"},{"location":"reference/autodoc/foundation/result/#forging_blocks.foundation.result.Err.__repr__","title":"<code>__repr__() -&gt; str</code>","text":"<p>Return a string representation of the Err result.</p> Source code in <code>src/forging_blocks/foundation/result.py</code> <pre><code>def __repr__(self) -&gt; str:\n    \"\"\"Return a string representation of the Err result.\"\"\"\n    return f\"Err({self._error!r})\"\n</code></pre>"},{"location":"reference/autodoc/foundation/result/#forging_blocks.foundation.result.Err.__str__","title":"<code>__str__() -&gt; str</code>","text":"<p>Return a string representation of the Err result.</p> Source code in <code>src/forging_blocks/foundation/result.py</code> <pre><code>def __str__(self) -&gt; str:\n    \"\"\"Return a string representation of the Err result.\"\"\"\n    return f\"Err({self._error})\"\n</code></pre>"},{"location":"reference/autodoc/foundation/result/#forging_blocks.foundation.result.Err.__eq__","title":"<code>__eq__(other: object) -&gt; bool</code>","text":"<p>Check equality with another Err result.</p> Source code in <code>src/forging_blocks/foundation/result.py</code> <pre><code>def __eq__(self, other: object) -&gt; bool:\n    \"\"\"Check equality with another Err result.\"\"\"\n    return isinstance(other, Err) and self._error == other._error\n</code></pre>"},{"location":"reference/autodoc/foundation/result/#forging_blocks.foundation.result.Err.__hash__","title":"<code>__hash__() -&gt; int</code>","text":"<p>Return the hash of the Err result.</p> Source code in <code>src/forging_blocks/foundation/result.py</code> <pre><code>def __hash__(self) -&gt; int:\n    \"\"\"Return the hash of the Err result.\"\"\"\n    return hash(self._error)\n</code></pre>"},{"location":"reference/autodoc/foundation/result_mapper/","title":"Result Mapper","text":"<p>This module defines a Protocol/Interface for mapping Result between different layers.</p> <p>This modules defines a protocol for mapping Result types between different layers or representations.</p> <p>You can implement this protocol to create mappers that convert Result types from one form to another, facilitating data transformation across application layers.</p> <p>Example:     ApplicationResult = Result[CreateTaskResponse, CombinedValidationErrors]     HttpResult = Result[JSONResponse, ErrorResponse]</p> <pre><code>class CreateTaskHttpResultMapper(\n    ResultMapper[\n        CreateTaskResponse,\n        CombinedValidationErrors,\n        JSONResponse,\n        ErrorResponse\n    ]\n):\n    def __init__(self, success_mapper: Mapper, error_mapper: Mapper):\n        self.success_mapper = success_mapper\n        self.error_mapper = error_mapper\n\n    def map(self, result: ApplicationResult) -&gt; HttpResult:\n        if result.is_ok():\n            data = self.success_mapper.map(result.unwrap())\n            return Result.ok(data)\n        else:\n            error = self.error_mapper.map(result.unwrap_err())\n            return Result.err(error)\n</code></pre>"},{"location":"reference/autodoc/foundation/result_mapper/#forging_blocks.foundation.result_mapper","title":"<code>result_mapper</code>","text":"<p>This module defines a Protocol/Interface for mapping Result between different layers.</p> <p>This modules defines a protocol for mapping Result types between different layers or representations.</p> <p>You can implement this protocol to create mappers that convert Result types from one form to another, facilitating data transformation across application layers.</p> Example <p>ApplicationResult = Result[CreateTaskResponse, CombinedValidationErrors] HttpResult = Result[JSONResponse, ErrorResponse]</p> <p>class CreateTaskHttpResultMapper(     ResultMapper[         CreateTaskResponse,         CombinedValidationErrors,         JSONResponse,         ErrorResponse     ] ):     def init(self, success_mapper: Mapper, error_mapper: Mapper):         self.success_mapper = success_mapper         self.error_mapper = error_mapper</p> <pre><code>def map(self, result: ApplicationResult) -&gt; HttpResult:\n    if result.is_ok():\n        data = self.success_mapper.map(result.unwrap())\n        return Result.ok(data)\n    else:\n        error = self.error_mapper.map(result.unwrap_err())\n        return Result.err(error)\n</code></pre>"},{"location":"reference/autodoc/foundation/result_mapper/#forging_blocks.foundation.result_mapper.ResultMapper","title":"<code>ResultMapper</code>","text":"<p>               Bases: <code>Generic[SuccessIn, ErrorIn, SuccessOut, ErrorOut]</code>, <code>Mapper[Result[SuccessIn, ErrorIn], Result[SuccessOut, ErrorOut]]</code>, <code>Protocol</code></p> <p>Specialized Mapper for transforming Result types across layers.</p> <p>A ResultMapper is a Mapper that specifically handles Result transformations, typically when crossing architectural boundaries (e.g., domain \u2192 HTTP).</p> <p>This specialization makes the intent clear: we're mapping Results to Results, handling both success and error cases appropriately.</p> <p>The protocol uses variance annotations to ensure type safety:</p> <ul> <li><code>SuccessIn</code> and <code>ErrorIn</code> are contravariant: accepts the declared types or supertypes</li> <li><code>SuccessOut</code> and <code>ErrorOut</code> are covariant: returns the declared types or subtypes</li> </ul>"},{"location":"reference/autodoc/foundation/result_mapper/#forging_blocks.foundation.result_mapper.ResultMapper--type-parameters","title":"Type Parameters","text":"<ul> <li>SuccessIn: Success type of input Result</li> <li>ErrorIn: Error type of input Result</li> <li>SuccessOut: Success type of output Result</li> <li>ErrorOut: Error type of output Result</li> </ul> <p>Example Usage     &gt;&gt;&gt; class TaskResultMapper(     ...     ResultMapper[TaskDTO, DomainError, JSONResponse, ErrorResponse]     ... ):     ...     def map(self, result):     ...         if result.is_ok():     ...             return Result.ok(JSONResponse(result.unwrap()))     ...         return Result.err(ErrorResponse(result.unwrap_err()))</p> Source code in <code>src/forging_blocks/foundation/result_mapper.py</code> <pre><code>class ResultMapper(  # type: ignore[misc]\n    Generic[SuccessIn, ErrorIn, SuccessOut, ErrorOut],\n    Mapper[\n        Result[SuccessIn, ErrorIn],\n        Result[SuccessOut, ErrorOut],\n    ],\n    Protocol,\n):\n    \"\"\"Specialized Mapper for transforming Result types across layers.\n\n    A ResultMapper is a Mapper that specifically handles Result transformations,\n    typically when crossing architectural boundaries (e.g., domain \u2192 HTTP).\n\n    This specialization makes the intent clear: we're mapping Results to Results,\n    handling both success and error cases appropriately.\n\n    The protocol uses variance annotations to ensure type safety:\n\n    - ``SuccessIn`` and ``ErrorIn`` are **contravariant**: accepts the declared types or supertypes\n    - ``SuccessOut`` and ``ErrorOut`` are **covariant**: returns the declared types or subtypes\n\n    ------\n\n    **Type Parameters**\n    -------------------\n    - SuccessIn: Success type of input Result\n    - ErrorIn: Error type of input Result\n    - SuccessOut: Success type of output Result\n    - ErrorOut: Error type of output Result\n\n    ------\n    **Example Usage**\n        &gt;&gt;&gt; class TaskResultMapper(\n        ...     ResultMapper[TaskDTO, DomainError, JSONResponse, ErrorResponse]\n        ... ):\n        ...     def map(self, result):\n        ...         if result.is_ok():\n        ...             return Result.ok(JSONResponse(result.unwrap()))\n        ...         return Result.err(ErrorResponse(result.unwrap_err()))\n    \"\"\"\n\n    _success_in: SuccessIn | None = None\n    _error_in: ErrorIn | None = None\n    _success_out: SuccessOut | None = None\n    _error_out: ErrorOut | None = None\n\n    def map(self, result: Result[SuccessIn, ErrorIn]) -&gt; Result[SuccessOut, ErrorOut]:\n        \"\"\"Map a Result from one type representation to another.\n\n        Transforms both success and error types, typically when crossing\n        architectural boundaries.\n\n        Args:\n            result: The input Result to transform\n\n        Returns:\n            A new Result with transformed types\n        \"\"\"\n        ...\n</code></pre>"},{"location":"reference/autodoc/foundation/result_mapper/#forging_blocks.foundation.result_mapper.ResultMapper.map","title":"<code>map(result: Result[SuccessIn, ErrorIn]) -&gt; Result[SuccessOut, ErrorOut]</code>","text":"<p>Map a Result from one type representation to another.</p> <p>Transforms both success and error types, typically when crossing architectural boundaries.</p> <p>Parameters:</p> Name Type Description Default <code>result</code> <code>Result[SuccessIn, ErrorIn]</code> <p>The input Result to transform</p> required <p>Returns:</p> Type Description <code>Result[SuccessOut, ErrorOut]</code> <p>A new Result with transformed types</p> Source code in <code>src/forging_blocks/foundation/result_mapper.py</code> <pre><code>def map(self, result: Result[SuccessIn, ErrorIn]) -&gt; Result[SuccessOut, ErrorOut]:\n    \"\"\"Map a Result from one type representation to another.\n\n    Transforms both success and error types, typically when crossing\n    architectural boundaries.\n\n    Args:\n        result: The input Result to transform\n\n    Returns:\n        A new Result with transformed types\n    \"\"\"\n    ...\n</code></pre>"},{"location":"reference/autodoc/foundation/errors/base/","title":"Base","text":"<p>This module provides the foundational error classes used across the Building Blocks framework.</p> <p>It defines structured, debuggable, and composable error types that can be raised, caught, and combined in a uniform way throughout all architectural layers.</p>"},{"location":"reference/autodoc/foundation/errors/base/#classes","title":"Classes","text":"<p>Error:     Base class for all structured errors in the system. Inherits from <code>Exception</code> and <code>Debuggable</code>, allowing it to be raised and logged like     a standard exception while carrying structured metadata.</p> <p>NoneNotAllowedError     Specialized <code>Error</code> indicating that a <code>None</code> value was provided where it     is not allowed.</p> <p>FieldErrors     Represents validation or constraint errors associated with a single field.     Provides iterable access to individual <code>Error</code> instances for that field.</p> <p>CombinedErrors     Aggregates multiple <code>Error</code> (or subclass) instances into one. Useful for     collecting and raising multiple failures together (e.g., validation errors).</p>"},{"location":"reference/autodoc/foundation/errors/base/#notes","title":"Notes:","text":"<ul> <li>All errors defined here are part of the foundation module and can be   safely reused by higher components present in layer, if you have layer defined.</li> <li>Each error supports a detailed <code>as_debug_string()</code> method for rich diagnostic output.</li> </ul>"},{"location":"reference/autodoc/foundation/errors/base/#forging_blocks.foundation.errors.base","title":"<code>base</code>","text":"<p>This module provides the foundational error classes used across the Building Blocks framework.</p> <p>It defines structured, debuggable, and composable error types that can be raised, caught, and combined in a uniform way throughout all architectural layers.</p>"},{"location":"reference/autodoc/foundation/errors/base/#forging_blocks.foundation.errors.base--classes","title":"Classes","text":"Error <p>Base class for all structured errors in the system. Inherits from <code>Exception</code> and <code>Debuggable</code>, allowing it to be raised and logged like a standard exception while carrying structured metadata.</p> <p>NoneNotAllowedError     Specialized <code>Error</code> indicating that a <code>None</code> value was provided where it     is not allowed.</p> <p>FieldErrors     Represents validation or constraint errors associated with a single field.     Provides iterable access to individual <code>Error</code> instances for that field.</p> <p>CombinedErrors     Aggregates multiple <code>Error</code> (or subclass) instances into one. Useful for     collecting and raising multiple failures together (e.g., validation errors).</p>"},{"location":"reference/autodoc/foundation/errors/base/#forging_blocks.foundation.errors.base--notes","title":"Notes:","text":"<ul> <li>All errors defined here are part of the foundation module and can be   safely reused by higher components present in layer, if you have layer defined.</li> <li>Each error supports a detailed <code>as_debug_string()</code> method for rich diagnostic output.</li> </ul>"},{"location":"reference/autodoc/foundation/errors/base/#forging_blocks.foundation.errors.base.Error","title":"<code>Error</code>","text":"<p>               Bases: <code>Exception</code>, <code>Debuggable</code></p> <p>Base class for all structured errors that can be raised like standard Exceptions.</p> Source code in <code>src/forging_blocks/foundation/errors/base.py</code> <pre><code>class Error(Exception, Debuggable):\n    \"\"\"Base class for all structured errors that can be raised like standard Exceptions.\"\"\"\n\n    def __init__(\n        self, message: ErrorMessage, metadata: ErrorMetadata | None = None\n    ) -&gt; None:\n        super().__init__(message.value)\n        self._message = message\n        self._metadata = metadata or ErrorMetadata(context={})\n\n    def __str__(self) -&gt; str:\n        context_str = (\n            f\" | Context: {self._metadata.context}\" if self._metadata.context else \"\"\n        )\n        return f\"{self.__class__.__name__}: {self._message.value}{context_str}\"\n\n    def __repr__(self) -&gt; str:\n        return (\n            f\"&lt;{self.__class__.__name__} message={self._message.value!r} \"\n            f\"context={self._metadata.context!r}&gt;\"\n        )\n\n    @property\n    def message(self) -&gt; ErrorMessage:\n        \"\"\"Structured error message.\"\"\"\n        return self._message\n\n    @property\n    def metadata(self) -&gt; ErrorMetadata:\n        \"\"\"Structured metadata with additional context.\"\"\"\n        return self._metadata\n\n    @property\n    def context(self) -&gt; dict[str, Any]:\n        \"\"\"Shortcut for accessing the metadata context.\"\"\"\n        return self._metadata.context\n\n    def as_debug_string(self) -&gt; str:\n        \"\"\"Return a detailed, multi-line string for debugging.\"\"\"\n        return (\n            f\"{self.__class__.__name__}(\\n\"\n            f\"  message={repr(self._message)},\\n\"\n            f\"  metadata={repr(self._metadata)}\\n\"\n            \")\"\n        )\n</code></pre>"},{"location":"reference/autodoc/foundation/errors/base/#forging_blocks.foundation.errors.base.Error.message","title":"<code>message: ErrorMessage</code>  <code>property</code>","text":"<p>Structured error message.</p>"},{"location":"reference/autodoc/foundation/errors/base/#forging_blocks.foundation.errors.base.Error.metadata","title":"<code>metadata: ErrorMetadata</code>  <code>property</code>","text":"<p>Structured metadata with additional context.</p>"},{"location":"reference/autodoc/foundation/errors/base/#forging_blocks.foundation.errors.base.Error.context","title":"<code>context: dict[str, Any]</code>  <code>property</code>","text":"<p>Shortcut for accessing the metadata context.</p>"},{"location":"reference/autodoc/foundation/errors/base/#forging_blocks.foundation.errors.base.Error.as_debug_string","title":"<code>as_debug_string() -&gt; str</code>","text":"<p>Return a detailed, multi-line string for debugging.</p> Source code in <code>src/forging_blocks/foundation/errors/base.py</code> <pre><code>def as_debug_string(self) -&gt; str:\n    \"\"\"Return a detailed, multi-line string for debugging.\"\"\"\n    return (\n        f\"{self.__class__.__name__}(\\n\"\n        f\"  message={repr(self._message)},\\n\"\n        f\"  metadata={repr(self._metadata)}\\n\"\n        \")\"\n    )\n</code></pre>"},{"location":"reference/autodoc/foundation/errors/base/#forging_blocks.foundation.errors.base.NoneNotAllowedError","title":"<code>NoneNotAllowedError</code>","text":"<p>               Bases: <code>Error</code></p> <p>Error indicating that a None value was provided where it is not allowed.</p> Source code in <code>src/forging_blocks/foundation/errors/base.py</code> <pre><code>class NoneNotAllowedError(Error):\n    \"\"\"Error indicating that a None value was provided where it is not allowed.\"\"\"\n</code></pre>"},{"location":"reference/autodoc/foundation/errors/base/#forging_blocks.foundation.errors.base.FieldErrors","title":"<code>FieldErrors</code>","text":"<p>               Bases: <code>Error</code></p> <p>Base class for errors associated with a specific field.</p> Source code in <code>src/forging_blocks/foundation/errors/base.py</code> <pre><code>class FieldErrors(Error):\n    \"\"\"Base class for errors associated with a specific field.\"\"\"\n\n    def __init__(self, field: FieldReference, errors: Iterable[Error]) -&gt; None:\n        self._field = field\n        self._errors: Sequence[Error] = tuple(errors)\n\n        if not errors or not field:\n            raise ValueError(\n                \"FieldErrors must contain at least one error and field defined.\"\n            )\n\n        message = ErrorMessage(f\"{len(self._errors)} error(s) for field '{field}'.\")\n\n        super().__init__(message=message)\n\n    def __repr__(self) -&gt; str:\n        \"\"\"Return a concise string representation of the field errors.\"\"\"\n        return (\n            f\"&lt;{self._get_title_prefix()} field={self._field.value!r} \"\n            f\"errors={len(self._errors)}&gt;\"\n        )\n\n    def __str__(self) -&gt; str:\n        \"\"\"Return a human-readable string representation of the field errors.\"\"\"\n        error_messages = \"\\n\".join(f\" - {str(error)}\" for error in self._errors)\n        return (\n            f\"{self._get_title_prefix()} for field '{self._field.value}':\\n\"\n            f\"{error_messages}\"\n        )\n\n    def __iter__(self) -&gt; Iterator[Error]:\n        \"\"\"Iterate over the errors associated with the field.\"\"\"\n        return iter(self._errors)\n\n    def __len__(self) -&gt; int:\n        \"\"\"Return the number of errors associated with the field.\"\"\"\n        return len(self._errors)\n\n    @property\n    def field(self) -&gt; FieldReference:\n        \"\"\"The field associated with these errors.\"\"\"\n        return self._field\n\n    @property\n    def errors(self) -&gt; Sequence[Error]:\n        \"\"\"The collection of errors associated with the field.\"\"\"\n        return self._errors\n\n    def as_debug_string(self) -&gt; str:\n        \"\"\"Return detailed, multi-line string of this field error collection for debugging.\"\"\"\n        error_strings = [f\"    {err.as_debug_string()}\" for err in self._errors]\n        return (\n            f\"{self._get_title_prefix()}(\\n\"\n            f\"  field={repr(self._field)},\\n\"\n            f\"  errors=[\\n\"\n            + (\"\" if not error_strings else \"\\n\".join(error_strings) + \"\\n\")\n            + \"  ]\\n\"\n            \")\"\n        )\n\n    def _get_title_prefix(self) -&gt; str:\n        \"\"\"Get the title prefix for this field error type.\"\"\"\n        return self.__class__.__name__\n</code></pre>"},{"location":"reference/autodoc/foundation/errors/base/#forging_blocks.foundation.errors.base.FieldErrors.field","title":"<code>field: FieldReference</code>  <code>property</code>","text":"<p>The field associated with these errors.</p>"},{"location":"reference/autodoc/foundation/errors/base/#forging_blocks.foundation.errors.base.FieldErrors.errors","title":"<code>errors: Sequence[Error]</code>  <code>property</code>","text":"<p>The collection of errors associated with the field.</p>"},{"location":"reference/autodoc/foundation/errors/base/#forging_blocks.foundation.errors.base.FieldErrors.__repr__","title":"<code>__repr__() -&gt; str</code>","text":"<p>Return a concise string representation of the field errors.</p> Source code in <code>src/forging_blocks/foundation/errors/base.py</code> <pre><code>def __repr__(self) -&gt; str:\n    \"\"\"Return a concise string representation of the field errors.\"\"\"\n    return (\n        f\"&lt;{self._get_title_prefix()} field={self._field.value!r} \"\n        f\"errors={len(self._errors)}&gt;\"\n    )\n</code></pre>"},{"location":"reference/autodoc/foundation/errors/base/#forging_blocks.foundation.errors.base.FieldErrors.__str__","title":"<code>__str__() -&gt; str</code>","text":"<p>Return a human-readable string representation of the field errors.</p> Source code in <code>src/forging_blocks/foundation/errors/base.py</code> <pre><code>def __str__(self) -&gt; str:\n    \"\"\"Return a human-readable string representation of the field errors.\"\"\"\n    error_messages = \"\\n\".join(f\" - {str(error)}\" for error in self._errors)\n    return (\n        f\"{self._get_title_prefix()} for field '{self._field.value}':\\n\"\n        f\"{error_messages}\"\n    )\n</code></pre>"},{"location":"reference/autodoc/foundation/errors/base/#forging_blocks.foundation.errors.base.FieldErrors.__iter__","title":"<code>__iter__() -&gt; Iterator[Error]</code>","text":"<p>Iterate over the errors associated with the field.</p> Source code in <code>src/forging_blocks/foundation/errors/base.py</code> <pre><code>def __iter__(self) -&gt; Iterator[Error]:\n    \"\"\"Iterate over the errors associated with the field.\"\"\"\n    return iter(self._errors)\n</code></pre>"},{"location":"reference/autodoc/foundation/errors/base/#forging_blocks.foundation.errors.base.FieldErrors.__len__","title":"<code>__len__() -&gt; int</code>","text":"<p>Return the number of errors associated with the field.</p> Source code in <code>src/forging_blocks/foundation/errors/base.py</code> <pre><code>def __len__(self) -&gt; int:\n    \"\"\"Return the number of errors associated with the field.\"\"\"\n    return len(self._errors)\n</code></pre>"},{"location":"reference/autodoc/foundation/errors/base/#forging_blocks.foundation.errors.base.FieldErrors.as_debug_string","title":"<code>as_debug_string() -&gt; str</code>","text":"<p>Return detailed, multi-line string of this field error collection for debugging.</p> Source code in <code>src/forging_blocks/foundation/errors/base.py</code> <pre><code>def as_debug_string(self) -&gt; str:\n    \"\"\"Return detailed, multi-line string of this field error collection for debugging.\"\"\"\n    error_strings = [f\"    {err.as_debug_string()}\" for err in self._errors]\n    return (\n        f\"{self._get_title_prefix()}(\\n\"\n        f\"  field={repr(self._field)},\\n\"\n        f\"  errors=[\\n\"\n        + (\"\" if not error_strings else \"\\n\".join(error_strings) + \"\\n\")\n        + \"  ]\\n\"\n        \")\"\n    )\n</code></pre>"},{"location":"reference/autodoc/foundation/errors/base/#forging_blocks.foundation.errors.base.CombinedErrors","title":"<code>CombinedErrors</code>","text":"<p>               Bases: <code>Error</code>, <code>Generic[ErrorType]</code></p> <p>Base class for combining multiple errors into one.</p> Source code in <code>src/forging_blocks/foundation/errors/base.py</code> <pre><code>class CombinedErrors(Error, Generic[ErrorType]):\n    \"\"\"Base class for combining multiple errors into one.\"\"\"\n\n    def __init__(self, errors: Iterable[ErrorType]) -&gt; None:\n        self._errors: Sequence[ErrorType] = tuple(errors)\n        combined_message = f\"{len(self._errors)} errors occurred.\"\n        super().__init__(message=ErrorMessage(combined_message))\n\n    def __repr__(self) -&gt; str:\n        \"\"\"Return a concise string representation of the combined errors.\"\"\"\n        return f\"&lt;{self._get_title_prefix()} errors={len(self._errors)}&gt;\"\n\n    def __str__(self) -&gt; str:\n        \"\"\"Return a human-readable string representation of the combined errors.\"\"\"\n        error_details = \"\\n\".join(f\"- {str(error)}\" for error in self._errors)\n        return f\"{self._get_title_prefix()}:\\n{error_details}\"\n\n    def __iter__(self) -&gt; Iterator[ErrorType]:\n        \"\"\"Iterate over the combined errors.\"\"\"\n        return iter(self._errors)\n\n    def __len__(self) -&gt; int:\n        \"\"\"Return the number of combined errors.\"\"\"\n        return len(self._errors)\n\n    @property\n    def errors(self) -&gt; Sequence[ErrorType]:\n        \"\"\"The collection of combined errors.\"\"\"\n        return self._errors\n\n    def as_debug_string(self) -&gt; str:\n        \"\"\"Return a detailed, multi-line string for debugging, showing all contained errors.\"\"\"\n        error_strings = [\n            f\"    {e.as_debug_string().replace(chr(10), chr(10)+'    ')}\"\n            for e in self._errors\n        ]\n        return (\n            f\"{self._get_title_prefix()}(\\n\"\n            f\"  errors=[\\n\"\n            + (\"\" if not error_strings else \"\\n\".join(error_strings) + \"\\n\")\n            + \"  ]\\n\"\n            \")\"\n        )\n\n    def _get_title_prefix(self) -&gt; str:\n        \"\"\"Get the title prefix for this combined error type.\"\"\"\n        return self.__class__.__name__\n</code></pre>"},{"location":"reference/autodoc/foundation/errors/base/#forging_blocks.foundation.errors.base.CombinedErrors.errors","title":"<code>errors: Sequence[ErrorType]</code>  <code>property</code>","text":"<p>The collection of combined errors.</p>"},{"location":"reference/autodoc/foundation/errors/base/#forging_blocks.foundation.errors.base.CombinedErrors.__repr__","title":"<code>__repr__() -&gt; str</code>","text":"<p>Return a concise string representation of the combined errors.</p> Source code in <code>src/forging_blocks/foundation/errors/base.py</code> <pre><code>def __repr__(self) -&gt; str:\n    \"\"\"Return a concise string representation of the combined errors.\"\"\"\n    return f\"&lt;{self._get_title_prefix()} errors={len(self._errors)}&gt;\"\n</code></pre>"},{"location":"reference/autodoc/foundation/errors/base/#forging_blocks.foundation.errors.base.CombinedErrors.__str__","title":"<code>__str__() -&gt; str</code>","text":"<p>Return a human-readable string representation of the combined errors.</p> Source code in <code>src/forging_blocks/foundation/errors/base.py</code> <pre><code>def __str__(self) -&gt; str:\n    \"\"\"Return a human-readable string representation of the combined errors.\"\"\"\n    error_details = \"\\n\".join(f\"- {str(error)}\" for error in self._errors)\n    return f\"{self._get_title_prefix()}:\\n{error_details}\"\n</code></pre>"},{"location":"reference/autodoc/foundation/errors/base/#forging_blocks.foundation.errors.base.CombinedErrors.__iter__","title":"<code>__iter__() -&gt; Iterator[ErrorType]</code>","text":"<p>Iterate over the combined errors.</p> Source code in <code>src/forging_blocks/foundation/errors/base.py</code> <pre><code>def __iter__(self) -&gt; Iterator[ErrorType]:\n    \"\"\"Iterate over the combined errors.\"\"\"\n    return iter(self._errors)\n</code></pre>"},{"location":"reference/autodoc/foundation/errors/base/#forging_blocks.foundation.errors.base.CombinedErrors.__len__","title":"<code>__len__() -&gt; int</code>","text":"<p>Return the number of combined errors.</p> Source code in <code>src/forging_blocks/foundation/errors/base.py</code> <pre><code>def __len__(self) -&gt; int:\n    \"\"\"Return the number of combined errors.\"\"\"\n    return len(self._errors)\n</code></pre>"},{"location":"reference/autodoc/foundation/errors/base/#forging_blocks.foundation.errors.base.CombinedErrors.as_debug_string","title":"<code>as_debug_string() -&gt; str</code>","text":"<p>Return a detailed, multi-line string for debugging, showing all contained errors.</p> Source code in <code>src/forging_blocks/foundation/errors/base.py</code> <pre><code>def as_debug_string(self) -&gt; str:\n    \"\"\"Return a detailed, multi-line string for debugging, showing all contained errors.\"\"\"\n    error_strings = [\n        f\"    {e.as_debug_string().replace(chr(10), chr(10)+'    ')}\"\n        for e in self._errors\n    ]\n    return (\n        f\"{self._get_title_prefix()}(\\n\"\n        f\"  errors=[\\n\"\n        + (\"\" if not error_strings else \"\\n\".join(error_strings) + \"\\n\")\n        + \"  ]\\n\"\n        \")\"\n    )\n</code></pre>"},{"location":"reference/autodoc/foundation/errors/cant_modify_immutable_attribute_error/","title":"Cant Modify Immutable Attribute Error","text":"<p>Module for CantModifyImmutableAttributeError exception.</p>"},{"location":"reference/autodoc/foundation/errors/cant_modify_immutable_attribute_error/#forging_blocks.foundation.errors.cant_modify_immutable_attribute_error","title":"<code>cant_modify_immutable_attribute_error</code>","text":"<p>Module for CantModifyImmutableAttributeError exception.</p>"},{"location":"reference/autodoc/foundation/errors/cant_modify_immutable_attribute_error/#forging_blocks.foundation.errors.cant_modify_immutable_attribute_error.CantModifyImmutableAttributeError","title":"<code>CantModifyImmutableAttributeError</code>","text":"<p>               Bases: <code>Error</code></p> <p>Raised when there is an attempt to modify an immutable attribute of an object.</p> Source code in <code>src/forging_blocks/foundation/errors/cant_modify_immutable_attribute_error.py</code> <pre><code>class CantModifyImmutableAttributeError(Error):\n    \"\"\"Raised when there is an attempt to modify an immutable attribute of an object.\"\"\"\n\n    def __init__(self, class_name: str, attribute_name: str):\n        message = ErrorMessage(\n            f\"Cannot modify immutable attribute '{attribute_name}' of class '{class_name}'.\"\n        )\n        metadata = ErrorMetadata(\n            {\n                \"class_name\": class_name,\n                \"attribute_name\": attribute_name,\n            }\n        )\n        super().__init__(message, metadata)\n</code></pre>"},{"location":"reference/autodoc/foundation/errors/core/","title":"Core","text":"<p>Core error components for the building blocks foundation.</p> <p>Defines fundamental data structures for error messages, metadata, and field references.</p>"},{"location":"reference/autodoc/foundation/errors/core/#forging_blocks.foundation.errors.core","title":"<code>core</code>","text":"<p>Core error components for the building blocks foundation.</p> <p>Defines fundamental data structures for error messages, metadata, and field references.</p>"},{"location":"reference/autodoc/foundation/errors/core/#forging_blocks.foundation.errors.core.ErrorMessage","title":"<code>ErrorMessage</code>  <code>dataclass</code>","text":"<p>Represents an immutable error message component.</p> Source code in <code>src/forging_blocks/foundation/errors/core.py</code> <pre><code>@dataclass(frozen=True)\nclass ErrorMessage:\n    \"\"\"Represents an immutable error message component.\"\"\"\n\n    value: str\n</code></pre>"},{"location":"reference/autodoc/foundation/errors/core/#forging_blocks.foundation.errors.core.ErrorMetadata","title":"<code>ErrorMetadata</code>  <code>dataclass</code>","text":"<p>Represents metadata about the error.</p> Source code in <code>src/forging_blocks/foundation/errors/core.py</code> <pre><code>@dataclass(frozen=True)\nclass ErrorMetadata:\n    \"\"\"Represents metadata about the error.\"\"\"\n\n    context: dict[str, Any] = field(default_factory=dict)\n</code></pre>"},{"location":"reference/autodoc/foundation/errors/core/#forging_blocks.foundation.errors.core.FieldReference","title":"<code>FieldReference</code>  <code>dataclass</code>","text":"<p>Represents a reference to a field in the error message.</p> Source code in <code>src/forging_blocks/foundation/errors/core.py</code> <pre><code>@dataclass(frozen=True)\nclass FieldReference:\n    \"\"\"Represents a reference to a field in the error message.\"\"\"\n\n    value: str\n</code></pre>"},{"location":"reference/autodoc/foundation/errors/rule_violation_error/","title":"Rule Violation Error","text":"<p>Module defining errors related to rule violations within the system.</p> <p>Defines error classes for handling rule violation scenarios.</p>"},{"location":"reference/autodoc/foundation/errors/rule_violation_error/#forging_blocks.foundation.errors.rule_violation_error","title":"<code>rule_violation_error</code>","text":"<p>Module defining errors related to rule violations within the system.</p> <p>Defines error classes for handling rule violation scenarios.</p>"},{"location":"reference/autodoc/foundation/errors/rule_violation_error/#forging_blocks.foundation.errors.rule_violation_error.RuleViolationError","title":"<code>RuleViolationError</code>","text":"<p>               Bases: <code>Error</code></p> <p>Base class for rule violation errors.</p> Source code in <code>src/forging_blocks/foundation/errors/rule_violation_error.py</code> <pre><code>class RuleViolationError(Error):\n    \"\"\"Base class for rule violation errors.\"\"\"\n\n    ...\n</code></pre>"},{"location":"reference/autodoc/foundation/errors/rule_violation_error/#forging_blocks.foundation.errors.rule_violation_error.CombinedRuleViolationErrors","title":"<code>CombinedRuleViolationErrors</code>","text":"<p>               Bases: <code>CombinedErrors[RuleViolationError]</code></p> <p>Aggregates multiple rule violation errors for easier handling and reporting.</p> Source code in <code>src/forging_blocks/foundation/errors/rule_violation_error.py</code> <pre><code>class CombinedRuleViolationErrors(CombinedErrors[RuleViolationError]):\n    \"\"\"Aggregates multiple rule violation errors for easier handling and reporting.\"\"\"\n\n    ...\n</code></pre>"},{"location":"reference/autodoc/foundation/errors/validation_error/","title":"Validation Error","text":"<p>Modules defining validation error classes.</p> <p>Defines error classes related to validation failures within the system.</p>"},{"location":"reference/autodoc/foundation/errors/validation_error/#forging_blocks.foundation.errors.validation_error","title":"<code>validation_error</code>","text":"<p>Modules defining validation error classes.</p> <p>Defines error classes related to validation failures within the system.</p>"},{"location":"reference/autodoc/foundation/errors/validation_error/#forging_blocks.foundation.errors.validation_error.ValidationError","title":"<code>ValidationError</code>","text":"<p>               Bases: <code>Error</code></p> <p>Base class for validation errors.</p> Source code in <code>src/forging_blocks/foundation/errors/validation_error.py</code> <pre><code>class ValidationError(Error):\n    \"\"\"Base class for validation errors.\"\"\"\n</code></pre>"},{"location":"reference/autodoc/foundation/errors/validation_error/#forging_blocks.foundation.errors.validation_error.ValidationFieldErrors","title":"<code>ValidationFieldErrors</code>","text":"<p>               Bases: <code>FieldErrors</code></p> <p>Validation errors associated with a specific field.</p> Source code in <code>src/forging_blocks/foundation/errors/validation_error.py</code> <pre><code>class ValidationFieldErrors(FieldErrors):\n    \"\"\"Validation errors associated with a specific field.\"\"\"\n</code></pre>"},{"location":"reference/autodoc/foundation/errors/validation_error/#forging_blocks.foundation.errors.validation_error.CombinedValidationErrors","title":"<code>CombinedValidationErrors</code>","text":"<p>               Bases: <code>CombinedErrors[ValidationFieldErrors]</code></p> <p>Aggregates multiple validation errors for easier handling and reporting.</p> Source code in <code>src/forging_blocks/foundation/errors/validation_error.py</code> <pre><code>class CombinedValidationErrors(CombinedErrors[ValidationFieldErrors]):\n    \"\"\"Aggregates multiple validation errors for easier handling and reporting.\"\"\"\n</code></pre>"},{"location":"reference/autodoc/foundation/meta/final_meta/","title":"Final Meta","text":"<p>FinalMeta and runtime_final decorators.</p> <p>This module provides runtime enforcement for methods marked as <code>@runtime_final</code>. It complements the static <code>@final</code> decorator from <code>typing</code> by preventing subclasses from overriding these methods at runtime.</p>"},{"location":"reference/autodoc/foundation/meta/final_meta/#forging_blocks.foundation.meta.final_meta","title":"<code>final_meta</code>","text":"<p>FinalMeta and runtime_final decorators.</p> <p>This module provides runtime enforcement for methods marked as <code>@runtime_final</code>. It complements the static <code>@final</code> decorator from <code>typing</code> by preventing subclasses from overriding these methods at runtime.</p>"},{"location":"reference/autodoc/foundation/meta/final_meta/#forging_blocks.foundation.meta.final_meta.FinalMeta","title":"<code>FinalMeta</code>","text":"<p>               Bases: <code>type</code></p> <p>Metaclass that enforces runtime immutability of methods marked as <code>@runtime_final</code>.</p> <p>Any attempt to override a <code>@runtime_final</code> method in a subclass raises <code>TypeError</code> at class creation time.</p> Source code in <code>src/forging_blocks/foundation/meta/final_meta.py</code> <pre><code>class FinalMeta(type):\n    \"\"\"Metaclass that enforces runtime immutability of methods marked as `@runtime_final`.\n\n    Any attempt to override a `@runtime_final` method in a subclass raises `TypeError`\n    at class creation time.\n    \"\"\"\n\n    def __new__(\n        mcls: Type[type],\n        name: str,\n        bases: tuple[type, ...],\n        namespace: dict[str, Any],\n        **kwargs: Any,\n    ) -&gt; type:\n        \"\"\"Prevent overriding of runtime-final methods in subclasses.\"\"\"\n        # Collect all runtime-final methods from base classes and their ancestors\n        final_methods: set[str] = {\n            attr_name\n            for base in bases\n            for cls in base.__mro__  # Walk the entire inheritance chain\n            for attr_name, attr_value in cls.__dict__.items()\n            if getattr(attr_value, \"__is_runtime_final__\", False)\n        }\n\n        # Check for any forbidden overrides in the subclass namespace\n        for method_name in final_methods:\n            if method_name in namespace:\n                raise TypeError(\n                    f\"Cannot override runtime-final method '{method_name}' in subclass '{name}'.\"\n                )\n\n        return type.__new__(mcls, name, bases, namespace)\n</code></pre>"},{"location":"reference/autodoc/foundation/meta/final_meta/#forging_blocks.foundation.meta.final_meta.FinalMeta.__new__","title":"<code>__new__(mcls: Type[type], name: str, bases: tuple[type, ...], namespace: dict[str, Any], **kwargs: Any) -&gt; type</code>","text":"<p>Prevent overriding of runtime-final methods in subclasses.</p> Source code in <code>src/forging_blocks/foundation/meta/final_meta.py</code> <pre><code>def __new__(\n    mcls: Type[type],\n    name: str,\n    bases: tuple[type, ...],\n    namespace: dict[str, Any],\n    **kwargs: Any,\n) -&gt; type:\n    \"\"\"Prevent overriding of runtime-final methods in subclasses.\"\"\"\n    # Collect all runtime-final methods from base classes and their ancestors\n    final_methods: set[str] = {\n        attr_name\n        for base in bases\n        for cls in base.__mro__  # Walk the entire inheritance chain\n        for attr_name, attr_value in cls.__dict__.items()\n        if getattr(attr_value, \"__is_runtime_final__\", False)\n    }\n\n    # Check for any forbidden overrides in the subclass namespace\n    for method_name in final_methods:\n        if method_name in namespace:\n            raise TypeError(\n                f\"Cannot override runtime-final method '{method_name}' in subclass '{name}'.\"\n            )\n\n    return type.__new__(mcls, name, bases, namespace)\n</code></pre>"},{"location":"reference/autodoc/foundation/meta/final_meta/#forging_blocks.foundation.meta.final_meta.runtime_final","title":"<code>runtime_final(func: F) -&gt; F</code>","text":"<p>Decorator that marks a method as runtime-final and type-hint final.</p> <p>Adds both static (<code>__final__</code>) and runtime (<code>__is_runtime_final__</code>) flags.</p> Source code in <code>src/forging_blocks/foundation/meta/final_meta.py</code> <pre><code>def runtime_final(func: F) -&gt; F:\n    \"\"\"Decorator that marks a method as runtime-final and type-hint final.\n\n    Adds both static (`__final__`) and runtime (`__is_runtime_final__`) flags.\n    \"\"\"\n    func.__final__ = True  # type: ignore[attr-defined]\n    func.__is_runtime_final__ = True  # type: ignore[attr-defined]\n    return func\n</code></pre>"}]}